(window.webpackJsonp=window.webpackJsonp||[]).push([[7,29],{1010:function(e,t,n){e.exports=n(45)(70)},900:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"AddressBookWrapper",function(){return Xe}),n.d(r,"ImageManagerWrapper",function(){return pt}),n.d(r,"SignatureManagerWrapper",function(){return wt});var o=n(1084),a=n.n(o),i=n(943),c=n(945),u=n(903),l=n(990),s=n.n(l),p=n(991),d=n.n(p),f=n(6),b=n(18),m=n(9),g=n(35),y=n(16);function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){O(e,t,n[t])})}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S="managers/OPEN_IMAGE_MANAGER",v="managers/OPEN_SIGNATURE_MANAGER",w="wizard/SELECT_SIGNATURE";var E=regeneratorRuntime.mark(P),j=regeneratorRuntime.mark(I),M=regeneratorRuntime.mark(R),A=regeneratorRuntime.mark(_);function P(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.options,n.next=3,Object(f.put)(Object(m.galleryImagesList)());case 3:return n.next=5,Object(f.put)(Object(g.openModal)("ImageManagerWrapper",t));case 5:return n.next=7,Object(f.put)(Object(b.S)());case 7:case"end":return n.stop()}},E)}var k=function(e){return e.ws.defaults&&e.ws.defaults.content};function I(e){var t,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.options,o.next=3,Object(f.select)(k);case 3:if(!(n=o.sent)){o.next=10;break}if(!(n=n.filter(function(e){return"tools.signature.curve"===e.id}))[0]){o.next=10;break}return r=n[0],o.next=10,Object(f.put)(Object(u.smSetDrawConfig)({lineWidth:r.lineWidth.desktop,color:r.color}));case 10:return o.next=12,Object(f.put)(Object(m.gallerySignaturesList)());case 12:return o.next=14,Object(f.put)(Object(g.openModal)("SignatureManagerWrapper",t));case 14:return o.next=16,Object(f.put)(Object(b.V)());case 16:case"end":return o.stop()}},j)}function R(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(S,P);case 2:case"end":return e.stop()}},M)}function _(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(v,I);case 2:case"end":return e.stop()}},A)}var x=n(10),T=n.n(x),N=n(4),C=n(37),G=n(23),U=n(27),D=n(118),L=n(5),B=n(2),W=n(7),z=n(20),F=n(11),J={getIsSignatureManagerLoaderShown:function(e){return T()(e,"im.modeSignature.loadState",!1)}},Y=n(134);function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){H(e,t,n[t])})}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=regeneratorRuntime.mark(ce),q=regeneratorRuntime.mark(ue),X=regeneratorRuntime.mark(le),V=regeneratorRuntime.mark(pe),Z=regeneratorRuntime.mark(de),ee=regeneratorRuntime.mark(fe),te=regeneratorRuntime.mark(be),ne=regeneratorRuntime.mark(me),re=regeneratorRuntime.mark(ge),oe=regeneratorRuntime.mark(ye),ae=regeneratorRuntime.mark(he),ie=regeneratorRuntime.mark(Oe);function ce(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.put)(Object(u.smMobileSignLoading)());case 2:case"end":return e.stop()}},K)}function ue(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.put)(Object(m.gallerySignaturesList)());case 2:case"end":return e.stop()}},q)}function le(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.put)(Object(u.initial)());case 2:case"end":return e.stop()}},X)}var se=function(e){return e?{dateStamp:Object(W.formatDate)(new Date,B.w)}:{}};function pe(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.select)(J.getIsSignatureManagerLoaderShown);case 2:if(!e.sent){e.next=6;break}return e.next=6,Object(f.put)(Object(u.smGallery)());case 6:case"end":return e.stop()}},V)}function de(e){var t,n,r,o,a,i,c,u,l,s;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.signature,n=e.isIOSCreatedSignature,p.next=3,Object(f.select)();case 3:if(r=p.sent,o=T()(r,"wizard.wizardActive",!1),a=N.a.base.getFillablePictureSelectingId(r),i=N.a.base.getActiveElementId(r),c=N.a.base.getUseSigDateStamp(r),u=!1!==Object(D.a)(r),a){p.next=21;break}if(!o){p.next=17;break}if(!u||!i){p.next=14;break}return p.next=14,Object(f.put)(N.b.setActiveElement(i,!1));case 14:return l=Object(Y.b)(z.g.functions.setWizardActive),p.next=17,Object(f.put)(l(!1));case 17:return p.next=19,Object(f.put)(Object(m.activateTool)(L.d.signature,L.c.none,t));case 19:p.next=26;break;case 21:return s=n?m.updateElement:C.f,p.next=24,Object(f.put)(s(a,Q({},t,se(c)),Q({byManager:!0},G.g)));case 24:return p.next=26,Object(f.put)(Object(U.l)(!1));case 26:case"end":return p.stop()}},Z)}function fe(e){var t,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(f.select)(N.a.base.getWSSignatures);case 2:return t=o.sent,n=$(t,1),r=n[0],o.next=7,Object(f.call)(de,{signature:r,isIOSCreatedSignature:e});case 7:case"end":return o.stop()}},ee)}function be(){var e,t,n,r,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(f.take)([m.actionTypes.ADD_GALLERY_SIGNATURE,m.actionTypes.UPDATE_GALLERY_SIGNATURE]);case 3:return e=a.sent,t=e.isNeedToUse,a.next=7,Object(f.put)(Object(u.smGallery)());case 7:if(t){a.next=9;break}return a.abrupt("continue",0);case 9:return a.next=11,Object(f.select)(N.a.base.getFillablePictureSelectingId);case 11:if(n=a.sent,!(r=Boolean(F.thisDevice.isIOS&&n))){a.next=17;break}return o=Object(Y.b)(z.g.functions.toggleWizardNext),a.next=17,Object(f.put)(o());case 17:return a.next=19,Object(f.put)(N.b.closeSignatureManager());case 19:return a.next=21,Object(f.take)([m.actionTypes.ON_OPERATIONS_SIGNATURES_ADD,m.actionTypes.ON_OPERATIONS_SIGNATURES_UPDATE]);case 21:return a.next=23,Object(f.call)(fe,r);case 23:a.next=0;break;case 25:case"end":return a.stop()}},te)}function me(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(w,de);case 2:case"end":return e.stop()}},ne)}function ge(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(m.actionTypes.ON_OPERATIONS_SIGNATURES_PENDING,ce);case 2:case"end":return e.stop()}},re)}function ye(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)([m.actionTypes.ON_OPERATIONS_SIGNATURES_ADD,m.actionTypes.ON_OPERATIONS_SIGNATURES_UPDATE],ue);case 2:case"end":return e.stop()}},oe)}function he(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)([m.actionTypes.ON_OPERATIONS_IMAGES_ADD,m.actionTypes.ON_OPERATIONS_IMAGES_UPDATE],le);case 2:case"end":return e.stop()}},ae)}function Oe(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)([m.actionTypes.ON_OPERATIONS_SIGNATURES_LIST],pe);case 2:case"end":return e.stop()}},ie)}var Se=regeneratorRuntime.mark(ve);function ve(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.all)([R(),_(),ge(),ye(),he(),me(),be(),Oe()]);case 2:case"end":return e.stop()}},Se)}var we=n(1),Ee=n.n(we),je=n(906),Me=n(207),Ae=n.n(Me),Pe=n(32),ke=n(36),Ie=n(26),Re=n(182);function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe,Te,Ne=function(e){var t=e.ws.endPoints,n=t.tempStorageUrl,r=t.mobileSignatureLinkUrl,o=t.imageSignatureUrl,a=t.appKey,i=e.ws,c=i.apiHash,u=i.organization,l=i.viewerId,s={baseUrl:o,mobileSignatureLinkUrl:r,oldBaseUrl:"".concat(n,"/flash"),appKey:a,userId:l};return e.query.editType===B.E.as?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_e(e,t,n[t])})}return e}({},s,{authorization:"Bearer ".concat(c),organizationDomain:u}):s},Ce=n(34),Ge=n.n(Ce),Ue=n(8),De=n(963),Le=n(46);function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t,n){return t&&Fe(e.prototype,t),n&&Fe(e,n),e}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qe,He,Ke,qe,Xe=Object(Ue.connect)(function(e){return{addressBookApiRest:e.im.addressBookApiRest}},{openModal:g.openModal,closeModal:g.closeModal})(xe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=We(t).call(this,e),n=!o||"object"!==Be(o)&&"function"!=typeof o?ze(r):o,$e(ze(n),"handleAddressBookClose",function(){n.props.closeModal(t.getModalId(),{})}),$e(ze(n),"handleAnotherModalClose",function(e,t){n.props.closeModal(e,t)}),$e(ze(n),"handleAnotherModalOpen",function(e,t){n.props.openModal(e,t)}),n.modalId=t.getModalId(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(t,we["Component"]),Je(t,null,[{key:"getModalId",value:function(){return"AddressBook"}}]),Je(t,[{key:"render",value:function(){return this.props.addressBookApiRest?function(e,t,n,r){Te||(Te="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var c=new Array(a),u=0;u<a;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:Te,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(De.AddressBook,{handleCloseModal:this.handleAddressBookClose,openModal:this.handleAnotherModalOpen,closeModal:this.handleAnotherModalClose,apiRest:this.props.addressBookApiRest,errorModalName:Le.ERROR_MODAL,alertModalName:Le.ALERT_MODAL,dialogModalName:Le.DIALOG_MODAL}):null}}]),t}())||xe,Ve=n(992),Ze=n(108),et=n.n(Ze);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ut(e,t,n[t])})}return e}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t,n){return t&&at(e.prototype,t),n&&at(e,n),e}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt,st,pt=Object(Ue.connect)(function(e){return{fillablePictureSelectingId:e.events.fillablePictureSelectingId,activeElement:e.ws.activeElement,haveWizardFocus:!!Object(D.a)(e),wizardActive:T()(e,"wizard.wizardActive",!1)}},{activateTool:m.activateTool,updateElement:m.updateElement,openModal:g.openModal,closeModal:g.closeModal,setFillablePictureSelectingId:U.l,deleteGalleryImages:m.deleteGalleryImages,addGalleryImage:m.addGalleryImage,updateGalleryImage:m.updateGalleryImage,setGhostPos:U.n,updateActiveElement:C.f,setActiveElement:N.b.setActiveElement,toggleImageManager:b.S})((Ke=He=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=rt(t).call(this,e),n=!o||"object"!==tt(o)&&"function"!=typeof o?ot(r):o,ut(ot(n),"updateMousePos",function(e){n.setState({mousePos:{x:e.clientX,y:e.clientY}})}),ut(ot(n),"closeImageManager",function(){n.props.closeModal(t.getModalId()),n.props.toggleImageManager()}),ut(ot(n),"handleSelect",function(e){var t=n.props.fillablePictureSelectingId;if(t)n.props.updateActiveElement(t,e,nt({byManager:!0},G.g)),n.props.setFillablePictureSelectingId(!1);else{var r=n.props,o=r.activeElement,a=r.haveWizardFocus;r.wizardActive&&(a&&o&&n.props.setActiveElement(o,!1),n.context.dispatchAction(z.g.actions.setWizardActive,!1)),n.props.activateTool(L.d.image,L.c.none,e)}n.closeImageManager()}),ut(ot(n),"handleDelete",function(e){e&&n.props.deleteGalleryImages(e)}),ut(ot(n),"handleUpload",function(e){e&&n.props.addGalleryImage(e)}),ut(ot(n),"handleUpdate",function(e){e&&n.props.updateGalleryImage(e)}),ut(ot(n),"handleError",function(e){e&&n.props.openModal("AlertModal",nt({},e,{modalType:et.a.WARNING,newStyle:!0,hideOverlay:!0,btnConfirmCallback:n.buttonConfirmCallback}))}),ut(ot(n),"buttonConfirmCallback",function(){return n.props.closeModal("AlertModal")}),n.modalId=t.getModalId(),n.state={mousePos:{x:0,y:0}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(t,we["Component"]),it(t,null,[{key:"getModalId",value:function(){return"ImageManagerWrapper"}}]),it(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.updateMousePos)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.updateMousePos),this.props.setGhostPos(this.state.mousePos)}},{key:"render",value:function(){return function(e,t,n,r){qe||(qe="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var c=new Array(a),u=0;u<a;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:qe,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(Ve.ImageManagerComponent,{handleClose:this.closeImageManager,handleDelete:this.handleDelete,handleSelect:this.handleSelect,handleUpload:this.handleUpload,handleUpdate:this.handleUpdate,handleError:this.handleError,jsOnly:!0})}}]),t}(),ut(He,"contextTypes",{dispatchAction:Ge.a.func.isRequired}),Qe=Ke))||Qe,dt=n(921),ft=n(31);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vt(e,t,n[t])})}return e}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t,n){return t&&ht(e.prototype,t),n&&ht(e,n),e}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=Object(Ue.connect)(function(e){return{addressBookMainButtonTitle:(t=Object(ft.getSignatureManagerLocale)(e),n=e.im.mobileSignatureMethod,n===dt.MODE_TYPES.SM_EMAIL?t.email.sendButton:t.sms.sendButton),mobileSignatureMethod:e.im.mobileSignatureMethod};var t,n},{openModal:g.openModal,closeModal:g.closeModal,deleteGallerySignature:m.deleteGallerySignature,addGallerySignature:m.addGallerySignature,updateGallerySignature:m.updateGallerySignature,sendPhoneNumber:m.sendPhoneNumber,sendEmail:m.sendEmail,getQrUrl:m.getQrUrl,setGhostPos:U.n,getContactEmail:u.getContactEmail,getContactPhoneNumber:u.getContactPhoneNumber,closeSignatureManager:N.b.closeSignatureManager,selectSignature:function(e){return{type:w,signature:e}}})(lt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=gt(t).call(this,e),n=!o||"object"!==bt(o)&&"function"!=typeof o?yt(r):o,vt(yt(n),"updateMousePos",function(e){n.setState({mousePos:{x:e.clientX,y:e.clientY}})}),vt(yt(n),"handleSelect",function(e){n.props.selectSignature(e),n.props.closeSignatureManager()}),vt(yt(n),"handleAdd",function(e,t){e&&n.props.addGallerySignature(e,t)}),vt(yt(n),"handleUpdate",function(e,t){e&&n.props.updateGallerySignature(e,t)}),vt(yt(n),"handleDelete",function(e){e&&n.props.deleteGallerySignature(e)}),vt(yt(n),"handlePhone",function(e){e&&n.props.sendPhoneNumber(e)}),vt(yt(n),"handleEmail",function(e){e&&n.props.sendEmail(e)}),vt(yt(n),"handleOpen",function(e){e&&n.props.getQrUrl()}),vt(yt(n),"handleError",function(e){e&&n.props.openModal("AlertModal",mt({},e,{modalType:et.a.WARNING,newStyle:!0,hideOverlay:!0,btnConfirmCallback:function(){return n.props.closeModal("AlertModal")}}))}),vt(yt(n),"handleOpenAddressBook",function(e){e&&n.props.openModal("AddressBook",mt({},e,{mainButtonName:n.props.addressBookMainButtonTitle,receiveContactsCallback:function(e){return n.handleContactsReceive(e)},cancelDummyControllerCallback:function(){},apiRest:null,alertModal:!0,selectMax:1}))}),n.modalId=t.getModalId(),n.state={mousePos:{x:0,y:0}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(t,we["Component"]),Ot(t,null,[{key:"getModalId",value:function(){return B.b}}]),Ot(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.updateMousePos)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.updateMousePos),this.props.setGhostPos(this.state.mousePos)}},{key:"handleContactsReceive",value:function(e){if(e[0]){var t=e[0];this.props.mobileSignatureMethod===dt.MODE_TYPES.SM_EMAIL?this.props.getContactEmail(t):this.props.mobileSignatureMethod===dt.MODE_TYPES.SM_SMS&&this.props.getContactPhoneNumber(t)}}},{key:"render",value:function(){return function(e,t,n,r){st||(st="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var c=new Array(a),u=0;u<a;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:st,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(Ve.SignatureManagerComponent,{handleAdd:this.handleAdd,handleUpdate:this.handleUpdate,handleDelete:this.handleDelete,handleSelect:this.handleSelect,handleClose:this.props.closeSignatureManager,handlePhone:this.handlePhone,handleEmail:this.handleEmail,handleOpen:this.handleOpen,handleError:this.handleError,handleOpenAddressBook:this.handleOpenAddressBook,modalId:this.modalId,jsOnly:!0})}}]),t}())||lt;function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jt=u.initial,Mt=a.a.reducers,At=a.a.maskMiddleware;t.default={components:r,reducer:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Et(e,t,n[t])})}return e}({im:i.im,signatureEditor:s.a},Mt),middlewares:[c.imageSignature,c.editorManager,At,d.a],rootSaga:ve,functions:{initModule:function(e,t){var n=e.getState(),r=n.ws.endPoints,o=r.tempStorageUrl,a=r.staticUrl,i=r.localeUrl,c=r.appKey,l=Ne(n),s={host:Ie.a.ws.config.host,port:"",userId:n.ws.viewerId},p={userId:n.ws.viewerId,token:n.ws.apiHash},d=e.dispatch(Object(je.initCustom)(o,c,p));e.dispatch(u.setApiRest(l)),e.dispatch(Object(je.setWsConnect)(s,o)),e.dispatch(u.setAddressBookApiRest(d));var f=new Ae.a("WsEditorLib",{baseUrl:a});f.loadLocaleJSON(function t(n,r){if(n)setTimeout(function(){f.loadLocaleJSON(t,{getParameterByName:Pe.j,url:i})},ke.TIME_FOR_REPEATED_REQUEST_CONSTANTS_HELP_STRUCTURE);else{var o=JSON.parse(r.EDITOR_REPORT_PROBLEM_LOCALE),a=JSON.parse(r.IMAGE_MANAGER_LOCALE),c=JSON.parse(r.SIGNATURE_MANAGER_LOCALE);e.dispatch(Object(Re.mergeLocales)({editor:{reportProblem:o},imageManager:a,signatureManager:c}))}},{getParameterByName:Pe.j,url:i}),e.dispatch(t.actions.initImageSignatureManager()),e.dispatch(Object(g.addChildrenToState)(Ee.a.createElement(t.components.ImageManagerWrapper))),e.dispatch(Object(g.addChildrenToState)(Ee.a.createElement(t.components.SignatureManagerWrapper))),e.dispatch(Object(g.addChildrenToState)(Ee.a.createElement(t.components.AddressBookWrapper)))}},actions:{openImageManager:function(e){return{type:S,options:e}},openSignatureManager:function(e){return function(t,n){var r=n(),o=Object(y.getUseSignNowTheme)(r);t({type:v,options:h({},e||{},{useSignNowTheme:o})})}},initImageSignatureManager:jt}}},925:function(e,t,n){e.exports=n(45)(105)}}]);
//# sourceMappingURL=managers.f33ad51a.chunk.js.map