(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1027:function(e,t,n){var r=n(521),o=n(1336),i=n(171);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),o):void 0}},1028:function(e,t,n){e.exports=n(21)(299)},1029:function(e,t,n){var r=n(1339),o=n(1028),i=n(1341);e.exports=function(e){return o(e)?i(e):r(e)}},1336:function(e,t,n){e.exports=n(21)(707)},1337:function(e,t,n){var r=n(1338),o=n(1029),i=n(223),a=n(239);e.exports=function(e,t,n){e=a(e);var u=(t=i(t))?o(e):0;return t&&u<t?r(t-u,n)+e:e}},1338:function(e,t,n){var r=n(520),o=n(505),i=n(950),a=n(1028),u=n(1029),c=n(951),l=Math.ceil;e.exports=function(e,t){var n=(t=void 0===t?" ":o(t)).length;if(n<2)return n?r(t,e):t;var f=r(t,l(e/u(t)));return a(t)?i(c(f),0,e).join(""):f.slice(0,e)}},1339:function(e,t,n){var r=n(1340)("length");e.exports=r},1340:function(e,t,n){e.exports=n(21)(639)},1341:function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")"+"?",l="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[i,a,u].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),f="(?:"+[i+r+"?",r,a,u,n].join("|")+")",s=RegExp(o+"(?="+o+")|"+f+l,"g");e.exports=function(e){for(var t=s.lastIndex=0;s.test(e);)++t;return t}},1342:function(e,t,n){var r=n(296),o=n(372),i=Object.prototype.hasOwnProperty,a=o(function(e,t,n){i.call(e,n)?++e[n]:r(e,n,1)});e.exports=a},899:function(e,t,n){"use strict";n.r(t);var r,o=n(34),i=n.n(o),a=n(1),u=n.n(a),c=n(8),l=n(270),f=n(9),s=n(31),p=n(26);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={},w=Object(c.connect)(function(e){return{fakeEditHint:Object(s.getEditorLocale)(e).fakeEditHint}},{setMessage:f.setMessage})(r=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=this,o=(e=y(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==d(o)&&"function"!=typeof o?b(r):o,g(b(n),"onMouseEnter",function(){n.props.setMessage(n.props.fakeEditHint.text)}),g(b(n),"onMouseLeave",function(){n.props.setMessage("")}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){return this.props.children(p.a.app.showFakeEditFrame?{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}:m)}}])&&h(n.prototype,r),o&&h(n,o),t}())||r;function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=x(t).call(this,e),n=!o||"object"!==O(o)&&"function"!=typeof o?j(r):o,E(j(n),"initComponent",function(){var e=n.props,t=e.highlightItem,r=e.scale,o=e.pdfScale,i=t.width*r*o,a=parseInt(getComputedStyle(n.wrapperNode).width,10);n.setState({scaleX:i/a,isInited:!0})}),E(j(n),"storeWrapperNodeRef",function(e){n.wrapperNode=e}),n.state={isInited:!1,scaleX:1},n.wrapperNode=null,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,a["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.initComponent()}},{key:"componentWillReceiveProps",value:function(e){this.props.highlightItem!==e.highlightItem&&this.setState({isInited:!1,scaleX:1})}},{key:"componentDidUpdate",value:function(){this.state.isInited||this.initComponent()}},{key:"render",value:function(){var e=this.state.scaleX;return this.props.children({storeWrapperNodeRef:this.storeWrapperNodeRef,scaleX:e})}}])&&S(n.prototype,r),o&&S(n,o),t}();E(P,"contextTypes",{store:i.a.shape({getState:i.a.func.isRequired}).isRequired});var C,I=n(12),F=n.n(I),_=n(7),M=n(2),R=function(e){var t=e.highlightItem,n=e.scale,r=e.pdfScale,o=e.scaleX,i=t.x,a=t.y,u=t.height,c=n*r;return{left:i*c,top:a*c,width:t.width*c,height:u*c,transform:"scaleX(".concat(o,")"),transformOrigin:"0 ".concat(u*c,"px")}};function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=T(t).call(this,e),n=!o||"object"!==A(o)&&"function"!=typeof o?W(r):o,D(W(n),"onMouseEnterOnButton",function(){n.setState({isOutlineShown:!0})}),D(W(n),"onMouseLeaveOnButton",function(){n.setState({isOutlineShown:!1})}),D(W(n),"onClick",function(e){Object(_.stopEvent)(e),n.props.doFontRecognize(e)}),D(W(n),"onDoubleClick",function(e){Object(_.stopEvent)(e),n.props.doFontRecognize(e,{saveCaretPosition:!0})}),n.state={isOutlineShown:p.a.app.showFakeEditFrame},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.highlightItem,n=e.scale,r=e.pdfScale,o=e.scaleX,i=F()("searchHighlighter","fakeEditHighlighter",{emptyHighlighter:!p.a.app.showFakeEditFrame},D({},M.K,p.a.app.showFakeEditFrame),{outlineHighlighter:!p.a.app.showFakeEditFrame&&this.state.isOutlineShown});return u.a.createElement("div",{className:i,style:R({highlightItem:t,scale:n,pdfScale:r,scaleX:o}),ref:this.props.storeWrapperNodeRef,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onDoubleClick:p.a.app.showFakeEditFrame?this.onDoubleClick:null},function(e,t,n,r){C||(C="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),c=0;c<i;c++)u[c]=arguments[c+3];t.children=u}return{$$typeof:C,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("button",{type:"button",className:F()("jsf-fillable__button i i-pen-edit",M.Kb),onClick:this.onClick,onMouseEnter:p.a.app.showFakeEditFrame?null:this.onMouseEnterOnButton,onMouseLeave:p.a.app.showFakeEditFrame?null:this.onMouseLeaveOnButton}))}}])&&z(n.prototype,r),o&&z(n,o),t}(),B=n(18),X=n(4),H=n(181),q=n(38),G=n.n(q),$=n(14),K=n(5),J=n(23),U=n(89),V=n.n(U),Q=n(1027),Y=n.n(Q),Z=n(434),ee=n.n(Z),te=n(42),ne=n.n(te),re=n(164),oe=n.n(re),ie=n(114),ae=n.n(ie),ue=n(95),ce=n.n(ue),le=n(1337),fe=n.n(le),se=n(431),pe=n.n(se),de=n(1342),he=n.n(de);function ye(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var be=function(e){var t=e%1e3,n=(e-t)/1e3%1e3;return{red:Math.trunc(e/1e6),green:n,blue:t}},ve=function(e){return 1e6*e.red+1e3*e.green+e.blue},ge=function(e){var t=e.width,n=e.height,r=e.getContext("2d").getImageData(0,0,t,n).data;return V()(Array(n),null).map(function(e,n){return V()(Array(t),null).map(function(e,o){return{red:r[n*t*4+4*o],green:r[n*t*4+4*o+1],blue:r[n*t*4+4*o+2]}})})},me=function(e){var t=function(e){for(var t=e.length/2,n={},r=0;r<e.length;++r)for(var o=e[r],i=0;i<o.length;++i){var a=ve(e[r][i]);if(n[a]){var u=n[a],c=u.count,l=u.distance;n[a]={count:c+1,distance:l+Math.abs(r-t)}}else n[a]={count:1,distance:Math.abs(r-t)}}for(var f=[],s=Object.keys(n),p=0;p<s.length;p++){var d=s[p],h=n[d],y=h.count,b=h.distance;f.push({encodedColor:d,count:y,averageDistance:b/y})}return f}(e),n=Y()(t,function(e){return e.count}),r=Y()(t,function(e){return e===n?-1:e.count});return{mostFrequent:n,secondFrequent:r}},we=function(e){for(var t=function(e,t){var n,r,o,i=he()(e,ve),a=(n=i,r=0,o=null,pe()(n,function(e,t){t>r&&(r=t,o=e)}),{maxKey:o,maxVal:r}),u=a.maxVal;return a.maxKey/e.length>.9?{rowIndex:t,color:be(u)}:null},n=[],r=0;r<e.length;r++)n.push(t(e[r],r));for(var o=0;o<n.length;o++)null===n[o]&&(n.splice(o,1),o-=1);for(var i={},a=0;a<n.length;a++){var u=ve(n[a].color);i[u]=i[u]?i[u]+1:1}return i},Oe=function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,o,i,a,u,c,l,f,s,p,d,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=t.pageId,o=t.item,e.next=3,Object(H.c)({state:n,pageId:r,highlightItem:o,desiredHeight:100});case 3:if(i=e.sent,a=ge(i),u=me(a),c=u.mostFrequent,l=u.secondFrequent,f=we(a),!((s=Object.keys(f)).length>0)){e.next=11;break}return p=Y()(s,function(e){return f[e]}),e.abrupt("return",{backgroundColor:be(p),textColor:c.encodedColor===p?be(l.encodedColor):be(c.encodedColor)});case 11:return d=c.averageDistance>l.averageDistance?be(c.encodedColor):be(l.encodedColor),h=c.averageDistance<l.averageDistance?be(c.encodedColor):be(l.encodedColor),e.abrupt("return",{backgroundColor:d,textColor:h});case 14:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ye(i,r,o,a,u,"next",e)}function u(e){ye(i,r,o,a,u,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}();function Se(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function xe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var je=function(e){var t=e.width,n=e.height,r=e.getContext("2d").getImageData(0,0,t,n).data;return V()(Array(n),null).map(function(e,n){return V()(Array(t),null).map(function(e,o){return{red:r[n*t*4+4*o],green:r[n*t*4+4*o+1],blue:r[n*t*4+4*o+2]}})})},ke=function(e){return e.map(function(t,n){return 0===n?0:t-e[n-1]})},Ee=function(e){var t=ne()(e,function(e){return Math.abs(e.value)>.08}),n=oe()(e,function(e){return Math.abs(e.value)>.08});return{capline:t,baseline:n===t?e.length:n}},Pe=function(e){var t=e[0].length,n=e.length;return V()(Array(n),null).map(function(n,r){var o=V()(Array(t),null).reduce(function(t,n,o){var i=e[r][o],a=i.red,u=i.green,c=i.blue;return{red:t.red+a,green:t.green+u,blue:t.blue+c}},{red:0,green:0,blue:0});return{red:o.red/t,green:o.green/t,blue:o.blue/t}})},Ce=function(e){return e.map(function(e){return(e.red+e.green+e.blue)/765})},Ie=function(e){return e.map(function(e,t){return{value:e,index:t}})},Fe=function(e){return e.map(function(e){return e.value})},_e=function(e){var t=Math.max.apply(Math,xe(e));return e.map(function(e){return e/t})},Me=function(e){return function(t){var n=t[0];return[].concat(xe(t.slice(0,e)),xe(V()(Array(t.length-e),n)))}},Re=function(e){var t=e.reduce(function(e,t){if(0!==t.value){var n=ne()(e,function(e){return t.index>=e.start-1&&t.index<=e.end+1});return-1===n?[].concat(xe(e),[{start:t.index,end:t.index}]):[].concat(xe(e.slice(0,n)),[{start:Math.min(e[n].start,t.index),end:Math.max(e[n].end,t.index)}],xe(e.slice(n+1)))}return e},[]),n=Y()(t,function(e){return e.end-e.start});return{start:n.start-1,end:n.end+1}},Ae=function(e,t){return e.map(function(e){var n=e[0];return void 0===G()(e,function(e){return!ce()(e,n)})?V()(Array(e.length),t):e})},ze=function(e){var t=e.red,n=e.green,r=e.blue;return fe()(t.toString(16),2,"0")+fe()(n.toString(16),2,"0")+fe()(r.toString(16),2,"0")},Te=function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,o,i,a,u,c,l,f,s,p,d,h,y,b,v,g,m,w,O,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=t.pageId,o=t.item,e.next=3,Object(H.c)({state:n,pageId:r,highlightItem:o});case 3:return i=e.sent,a=je(i),e.next=7,Oe({state:n,pageId:r,item:o});case 7:return u=e.sent,c=u.backgroundColor,l=u.textColor,f=Ae(a,c),s=ae()([Pe,Ce,_e])(f),p=ae()(ke,_e)(s),d=!1,h=Ie(p),y=Y()(h,"value"),b=ee()(h,"value"),v=p.length*(2/3),.95,Math.abs(y.value)>.95&&y.index>v&&Math.abs(b.value)>.95&&b.index>v&&(d=!0,h=ae()([Fe,_e,Ie,Me(Math.min(y.index,b.index))])(h)),g=Re(h),m=ae()(Fe,_e,Ie)(h.slice(g.start,g.end)),w=Ee(m),O=w.baseline,S=w.capline,e.abrupt("return",{baseline:O+g.start,capline:S+g.start,height:i.height,underline:d,backgroundColor:ze(c),textColor:ze(l)});case 24:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Se(i,r,o,a,u,"next",e)}function u(e){Se(i,r,o,a,u,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}();function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le=function(e){var t=e.text,n=e.fontFamily,r=e.bold,o=e.italic,i=e.maxWidth;var a=document.createElement("span");Object.assign(a.style,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){We(e,t,n[t])})}return e}({position:"absolute",display:"inline-block",whiteSpace:"pre",paddingLeft:"3px",paddingRight:"3px",top:"-500px"},n&&{fontFamily:n},r&&{fontWeight:"bold"},o&&{fontStyle:"italic"})),a.innerText=t,document.body.appendChild(a);var u=function e(t){var n=t.span,r=t.goodFontSize,o=t.badFontSize,i=t.maxWidth;if(o-r<.1){var a=n.getBoundingClientRect();return{fontSize:r,width:a.width,height:a.height}}return Object.assign(n.style,{fontSize:"".concat((r+o)/2,"px")}),e(n.getBoundingClientRect().width<=i?{span:n,goodFontSize:(r+o)/2,badFontSize:o,maxWidth:i}:{span:n,goodFontSize:r,badFontSize:(r+o)/2,maxWidth:i})}({span:a,maxWidth:i,goodFontSize:0,badFontSize:512});return document.body.removeChild(a),u};function De(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Be(e,t,n[t])})}return e}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe,He,qe,Ge=H.a.Arial,$e=function(e){var t=e.highlightItem,n=e.id,r=e.pageId,o=e.pdfScale,i=e.linkedTextId,a=e.backgroundColor,u=t.x,c=t.y,l=t.width,f=t.height,s=f,p=s/2,d=[(u+p)*o,(c+p)*o,(u+l-p)*o,(c+f-p)*o];return{pageId:r,type:K.d.erase,subType:K.c.none,content:{brushType:M.k.brush,fillColor:a,x:u*o,y:c*o,width:l*o,height:f*o,lineWidth:s*o,controlPoints:d,linkedTextId:i},id:n}},Ke=function(e){var t=e.highlightItem,n=e.fontObj,r=e.pdfScale,o=e.fontGeometry,i=function(e){var t=e.highlightItem,n=e.fontObj,r=e.pdfScale,o=e.fontGeometry,i=t.width,a=t.height,u=G()(M.M,["value",n.fontFamily]);u||(u=G()(M.M,["value",Ge.fontFamily]));var c=o.baseline-o.capline;return{width:i*r,height:a/(1+M.Wb)*r,fontSize:c*r}}({highlightItem:t,fontObj:n,pdfScale:r,fontGeometry:o}),a=function(e){var t=e.highlightItem,n=e.fontObj,r=e.pdfScale,o=t.text,i=G()(M.M,["value",n.fontFamily]);i||(i=G()(M.M,["value",Ge.fontFamily]));var a=Le(Ne({text:o},n,{maxWidth:t.width*r}));return{width:a.width,height:a.height,fontSize:a.fontSize}}({highlightItem:t,fontObj:n,pdfScale:r,fontGeometry:o});return a.fontSize>i.fontSize?i:a},Je=function(e){var t=e.highlightItem,n=e.defaultContent,r=e.pageId,o=e.fontObj,i=e.pdfScale,a=e.id,u=e.fontGeometry,c=e.linkedEraseId,l=t.x,f=t.y,s=t.text,p=G()(M.M,["value",o.fontFamily]);p||(p=G()(M.M,["value",Ge.fontFamily]));var d=Ke({highlightItem:t,fontObj:o,pdfScale:i,fontGeometry:u}),h=d.width,y=d.height,b=d.fontSize;return{pageId:r,type:K.d.text,subType:K.c.text.overlying,id:a,content:Ne({},n,{fontColor:u.textColor,align:"left",valign:"top",x:l*i,y:f*i,width:h,height:y,text:s,fontSize:b,fontFamily:o.fontFamily,bold:o.bold,italic:o.italic,underline:u.underline,linkedEraseId:c})}},Ue=function(e){var t=e.caretPositionOptions,n=e.highlightItem,r=e.recognizedFont,o=e.pageId,i=e.pdfScale;return a=regeneratorRuntime.mark(function e(a,u){var c,l,s,p,d,h,y,b,v,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=u(),l=r.fontName,s=l&&H.a[l]||Ge,e.next=5,Object(H.d)(s);case 5:return e.next=7,Te({state:c,pageId:o,item:n});case 7:p=e.sent,d=X.a.fakeEdit.getFakeEditDefaults(c),h=X.a.base.getGhostElement(c),y=Object($.getNextElementId)(h.id),b=Object($.getNextElementId)(y),t&&a(X.b.saveCaretPosition(Ne({},t,{id:y}))),v=Je({highlightItem:n,defaultContent:d[K.d.text],pageId:o,fontObj:s,pdfScale:i,id:y,linkedEraseId:b,fontGeometry:p}),g=$e({highlightItem:n,pageId:o,pdfScale:i,id:Object($.getNextElementId)(y),linkedTextId:y,backgroundColor:p.backgroundColor}),a(Object(f.addElements)([g,v],Ne({},J.g,{dontUpdateDefaults:!0}))),a(X.b.setActiveElement(y,!0));case 17:case"end":return e.stop()}},e)}),u=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=a.apply(e,t);function i(e){De(o,n,r,i,u,"next",e)}function u(e){De(o,n,r,i,u,"throw",e)}i(void 0)})},function(e,t){return u.apply(this,arguments)};var a,u},Ve=function(e){var t=e.target.getBoundingClientRect().left;return e.clientX-t};function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ze(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ye(i,r,o,a,u,"next",e)}function u(e){Ye(i,r,o,a,u,"throw",e)}a(void 0)})}}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var it,at=Object(c.connect)(function(e,t){var n=t.pageId;return function(e){return{scale:X.a.getScale(e,n),pdfScale:X.a.getPdfScale(e)}}},{doFakeEdit:Ue,showBusyLocker:B.L,hideBusyLocker:B.t})((qe=He=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=this,o=(e=tt(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==Qe(o)&&"function"!=typeof o?nt(r):o,ot(nt(n),"saveCaretPositionOptions",function(e){var t=n.props,r=t.highlightItem,o=t.scale,i=t.pdfScale,a=r.text,u=r.width*o*i,c=Ve(e);n.caretPositionOptions={clickPositionFromStart:c,itemWidth:u,text:a}}),ot(nt(n),"doFontRecognize",function(){var e=Ze(regeneratorRuntime.mark(function e(t){var r,o,i,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.length>1&&void 0!==a[1]?a[1]:{},o=n.context.store,i=n.props.highlightItem,r.saveCaretPosition&&n.saveCaretPositionOptions(t),n.props.showBusyLocker(),Object(H.e)({store:o,item:i}).then(n.doFakeEdit).catch(n.onFontRecognizeError);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),ot(nt(n),"doFakeEdit",function(){var e=Ze(regeneratorRuntime.mark(function e(t){var r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.props,o=r.pageId,i=r.highlightItem,a=r.pdfScale,n.props.doFakeEdit({highlightItem:i,recognizedFont:t,pageId:o,pdfScale:a,caretPositionOptions:n.caretPositionOptions}),n.props.hideBusyLocker();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),ot(nt(n),"onFontRecognizeError",function(){var e=H.a.Arial;n.doFakeEdit(e)}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){return this.props.children({doFontRecognize:this.doFontRecognize,scale:this.props.scale,pdfScale:this.props.pdfScale})}}])&&et(n.prototype,r),o&&et(n,o),t}(),ot(He,"contextTypes",{store:i.a.shape({getState:i.a.func.isRequired}).isRequired}),Xe=qe))||Xe;function ut(e,t,n,r){it||(it="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),c=0;c<i;c++)u[c]=arguments[c+3];t.children=u}return{$$typeof:it,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ct,lt,ft=function(e){return function(t,n){return ut(at,{highlightItem:t,pageId:e},n,function(e){var n=e.doFontRecognize,r=e.scale,o=e.pdfScale;return ut(w,{},void 0,function(e){var i=e.onMouseEnter,a=e.onMouseLeave;return ut(P,{highlightItem:t,scale:r,pdfScale:o},void 0,function(e){var u=e.storeWrapperNodeRef,c=e.scaleX;return ut(N,{highlightItem:t,storeWrapperNodeRef:u,scale:r,scaleX:c,doFontRecognize:n,pdfScale:o,onMouseEnter:i,onMouseLeave:a})})})})}};function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bt,vt=Object(c.connect)(function(e,t){var n=t.pageId;return function(e){return{textContentForRender:Object(l.c)(e,n)}}})(ct=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dt(this,ht(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.textContentForRender,n=e.pageId;return t&&0!==t.length?function(e,t,n,r){lt||(lt="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),c=0;c<i;c++)u[c]=arguments[c+3];t.children=u}return{$$typeof:lt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:"pdfTextLayer"},void 0,t.map(ft(n))):null}}])&&pt(n.prototype,r),o&&pt(n,o),t}())||ct,gt=n(10),mt=n.n(gt),wt=n(30);function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t,n,r){bt||(bt="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),c=0;c<i;c++)u[c]=arguments[c+3];t.children=u}return{$$typeof:bt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=this,o=(e=jt(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==Ot(o)&&"function"!=typeof o?kt(r):o,Pt(kt(n),"setActiveElementWithPropsId",function(){var e=n.context.store,t=n.props.id;e.dispatch(Object(f.setActiveElement)(t,!0))}),Pt(kt(n),"saveCaretPosition",function(e){var t=n.context.store,r=n.props,o=r.id,i=r.width,a=t.getState(),u=X.a.elements.getElementByIdFactory(o)(a),c=mt()(u,"content.text",""),l=Ve(e);t.dispatch(X.b.saveCaretPosition({clickPositionFromStart:l,id:o,itemWidth:i,text:c}))}),Pt(kt(n),"onDoubleClick",function(e){Object(_.stopEvent)(e),n.saveCaretPosition(e),n.setActiveElementWithPropsId()}),Pt(kt(n),"onPencilClick",function(e){Object(_.stopEvent)(e),n.context.store.dispatch(Object(wt.m)()),n.setActiveElementWithPropsId()}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.width,r=t.height,o=t.children,i=t.isActiveElement,a=F()("searchHighlighter","fakeEditHighlighter",M.K);return i?o:St(w,{},void 0,function(t){var i=t.onMouseEnter,u=t.onMouseLeave;return St("div",{className:a,style:{width:n,height:r},onDoubleClick:e.onDoubleClick,onMouseEnter:i,onMouseLeave:u},void 0,St("button",{type:"button",className:F()("jsf-fillable__button i i-pen-edit",M.Kb),onClick:e.onPencilClick}),o,St("div",{className:"fakeEditHoverBlocker",onClick:_.stopEvent}))})}}])&&xt(n.prototype,r),o&&xt(n,o),t}();Pt(Ct,"defaultProps",{isActiveElement:!1}),Pt(Ct,"contextTypes",{store:i.a.shape({dispatch:i.a.func.isRequired}).isRequired});t.default={components:{FakeEditLayer:vt,FakeEditTextToolWrapper:Ct}}},950:function(e,t,n){e.exports=n(21)(298)},951:function(e,t,n){e.exports=n(21)(300)}}]);
//# sourceMappingURL=fakeEdit.f9dd1844.chunk.js.map