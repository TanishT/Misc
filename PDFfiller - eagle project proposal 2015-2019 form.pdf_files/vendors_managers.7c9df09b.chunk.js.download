(window.webpackJsonp=window.webpackJsonp||[]).push([[10],Array(902).concat([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("string"!=typeof e)throw new TypeError("This library (validator.js) validates strings only")},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.smSetError=t.smOpenEditor=t.smOpenEditorPreview=t.setAddressBookApiRest=t.getContactPhoneNumber=t.getContactEmail=t.mobileSignatureResend=t.setMobileSignatureMethod=t.saveEmail=t.savePhoneNumber=t.sendEmail=t.sendPhoneNumber=t.setQrUrl=t.getQrUrl=t.setApiRest=t.disableWebcam=t.uploadSignatureImage=t.uploadImage=t.smSetOriginalImage=t.smMobileSignLoading=t.smNotarize=t.smCapture=t.smUploading=t.smMobileUploader=t.smUploader=t.smSetInitialSignature=t.smSaveSignature=t.smDrawComponentUpdateHistoryPoint=t.smTypeSignature=t.smDraw=t.smEmail=t.smSMS=t.smQR=t.smGallery=t.smChooseSignature=t.smSetDrawConfig=t.smEdit=t.smInitial=t.closeSignature=t.clearErrors=t.setError=t.setUploadedPercent=t.capture=t.uploading=t.mobileUploader=t.uploader=t.edit=t.initial=void 0;var a=n(929),o=n(904);t.initial=function(){return{type:a.actionTypes.INITIAL}},t.edit=function(){return{type:a.actionTypes.EDIT}},t.uploader=function(){return{type:a.actionTypes.UPLOADER}},t.mobileUploader=function(e){return{type:a.actionTypes.MOBILE_UPLOADER,targetFiles:e}},t.uploading=function(){return{type:a.actionTypes.UPLOADING}},t.capture=function(){return{type:a.actionTypes.CAPTURE}},t.setUploadedPercent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:a.actionTypes.SET_UPLOADED_PERCENT,percent:e}},t.setError=function(e){return Array.isArray(e)&&e.length&&(e=e[0].error+" "+e[0].brokenCondition),{type:a.actionTypes.ERROR_SET,error:e}},t.clearErrors=function(){return{type:a.actionTypes.ERRORS_CLEAN}},t.closeSignature=function(){return{type:a.actionTypes.CLOSE_SIGNATURE}},t.smInitial=function(){return{type:a.actionTypes.SM_INITIAL}},t.smEdit=function(e){switch(e){case o.SUB_TYPES.text:return{type:a.actionTypes.SM_TEXT_EDIT};case o.SUB_TYPES.curve:return{type:a.actionTypes.SM_CURVE_EDIT};case o.SUB_TYPES.image:return{type:a.actionTypes.SM_IMAGE_EDIT};default:return{type:a.actionTypes.SM_TEXT_EDIT}}},t.smSetDrawConfig=function(e){return{type:a.actionTypes.SM_SET_DRAW_CONFIG,config:e}},t.smChooseSignature=function(){return{type:a.actionTypes.SM_CHOOSE_SIGNATURE}},t.smGallery=function(){return{type:a.actionTypes.SM_GALLERY}},t.smQR=function(){return{type:a.actionTypes.SM_QR}},t.smSMS=function(){return{type:a.actionTypes.SM_SMS}},t.smEmail=function(){return{type:a.actionTypes.SM_EMAIL}},t.smDraw=function(){return{type:a.actionTypes.SM_DRAW}},t.smTypeSignature=function(){return{type:a.actionTypes.SM_TYPE_SIGNATURE}},t.smDrawComponentUpdateHistoryPoint=function(e){return{type:a.actionTypes.SM_DRAW_COMPONENT_UPDATE_HISTORY_POINT,drawConfig:e}},t.smSaveSignature=function(e,t){return{type:a.actionTypes.SM_SIGNATURE_SAVE,signature:e,drawConfig:t}},t.smSetInitialSignature=function(e){return{type:a.actionTypes.SM_SET_INITIAL_SIGNATURE,signature:e}},t.smUploader=function(){return{type:a.actionTypes.SM_UPLOADER}},t.smMobileUploader=function(){return{type:a.actionTypes.SM_MOBILE_UPLOADER}},t.smUploading=function(){return{type:a.actionTypes.SM_UPLOADING}},t.smCapture=function(){return{type:a.actionTypes.SM_CAPTURE}},t.smNotarize=function(){return{type:a.actionTypes.SM_NOTARIZE}},t.smMobileSignLoading=function(){return{type:a.actionTypes.SM_MOBILE_SIGN_LOADING}},t.smSetOriginalImage=function(e){return{type:a.actionTypes.SM_SET_ORIGINAL_IMAGE,image:e}},t.uploadImage=function(e,t,n,o){return{type:a.actionTypes.LAUNCH_UPLOAD_IMAGE,data:e,dimensions:t,callback:n,percentCallback:o}},t.uploadSignatureImage=function(e,t,n){return{type:a.actionTypes.SM_LAUNCH_UPLOAD_IMAGE,data:e,dimensions:t,callback:n}},t.disableWebcam=function(){return{type:a.actionTypes.DISABLE_WEBCAM}},t.setApiRest=function(e){return{type:a.actionTypes.API_REST_SET,config:e}},t.getQrUrl=function(){return{type:a.actionTypes.SM_GET_QR_URL}},t.setQrUrl=function(e){return{type:a.actionTypes.SM_SET_QR_URL,url:e}},t.sendPhoneNumber=function(){return{type:a.actionTypes.SM_SEND_PHONE_NUMBER}},t.sendEmail=function(){return{type:a.actionTypes.SM_SEND_EMAIL}},t.savePhoneNumber=function(e){return{type:a.actionTypes.SM_SAVE_PHONE_NUMBER,number:e}},t.saveEmail=function(e){return{type:a.actionTypes.SM_SAVE_EMAIL,email:e}},t.setMobileSignatureMethod=function(e){return{type:a.actionTypes.SM_SET_MOBILE_SIGNATURE_METHOD,method:e}},t.mobileSignatureResend=function(){return{type:a.actionTypes.SM_MOBILE_SIGNATURE_RESEND}},t.getContactEmail=function(e){return{type:a.actionTypes.SM_GET_CONTACT_EMAIL,contact:e}},t.getContactPhoneNumber=function(e){return{type:a.actionTypes.SM_GET_CONTACT_PHONE_NUMBER,contact:e}},t.setAddressBookApiRest=function(e){return{type:a.actionTypes.SM_SET_ADDRESSBOOK_API_REST,apiRest:e}},t.smOpenEditorPreview=function(){return{type:a.actionTypes.SM_EDITOR_PREVIEW_OPEN}},t.smOpenEditor=function(){return{type:a.actionTypes.SM_EDITOR_OPEN}},t.smSetError=function(e){return Array.isArray(e)&&e.length&&(e=e[0].error+" "+e[0].brokenCondition),{type:a.actionTypes.SM_ERROR_SET,error:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.METHODS_LIST=t.modalIds=t.DROPZONE_CONFIG=t.RENDER=t.QR_PROPS=t.IMAGES=t.FONTS=t.DRAW_OPTIONS=t.SUB_TYPES=t.MODES=t.MODE_TYPES=t.LOCALE=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1116)),o=n(921),r=n(1117),i=m(n(987)),l=m(n(1118)),s=m(n(944)),d=m(n(1119)),u=m(n(1120)),c=m(n(1121)),p=m(n(1122)),h=m(n(1123)),f=m(n(1124));function m(e){return e&&e.__esModule?e:{default:e}}t.LOCALE=a,t.MODE_TYPES=o.MODE_TYPES,t.MODES=r.MODES,t.SUB_TYPES=i.default,t.DRAW_OPTIONS=l.default,t.FONTS=s.default,t.IMAGES=d.default,t.QR_PROPS=u.default,t.RENDER=c.default,t.DROPZONE_CONFIG=p.default,t.modalIds=h.default,t.METHODS_LIST=f.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SYSTEM={ADDRESSBOOK_ADDRESS_BOOK:"AddressBook",ADDRESSBOOK_UNDEFINED:"undefined",ADDRESSBOOK_FUNCTION:"function",ADDRESSBOOK_NUMBER:"number",ADDRESSBOOK_STRING:"string",ADDRESSBOOK_LENGTH:"length",ADDRESSBOOK_MODE_TYPE_INITIAL:"initial",ADDRESSBOOK_MODE_TYPE_LIST:"list",ADDRESSBOOK_FIELD_NAME:"name",ADDRESSBOOK_FIELD_NAME_MOBILE:"name-mob",ADDRESSBOOK_FIELD_EMAIL:"email",ADDRESSBOOK_FIELD_EMAIL_MOBILE:"email-mob",ADDRESSBOOK_FIELD_PHONE:"phone",ADDRESSBOOK_FIELD_PHONE_MOBILE:"phone-mob",ADDRESSBOOK_FIELD_FAX:"fax",ADDRESSBOOK_EDITABLE_FIELDS:["name","email","phone","fax"],ADDRESSBOOK_FIELD_FAX_MOBILE:"fax-mob",ADDRESSBOOK_FIELD_MOBILE_PREFIX:"-mob",ADDRESSBOOK_FIELD_SEARCH:"search",ADDRESSBOOK_MODAL_ACTION_EDIT:"edit",ADDRESSBOOK_MODAL_ACTION_ADD:"add",ADDRESSBOOK_MODAL_SEARCH:"search",ADDRESSBOOK_DROPDOWN_SHOW:"show",ADDRESSBOOK_DROPDOWN_HIDE:"hide",ADDRESSBOOK_DROPDOWN_TYPE_SORT:"sort",ADDRESSBOOK_DROPDOWN_TYPE_IMPORT:"import",ADDRESSBOOK_DROPDOWN_TYPE_EDIT:"edit",ADDRESSBOOK_FILTER_TOGGLE_OR:"or",ADDRESSBOOK_FILTER_TOGGLE_AND:"and",ADDRESSBOOK_SORT_DIRECTION_AZ:"A-Z",ADDRESSBOOK_SORT_DIRECTION_ZA:"Z-A",ADDRESSBOOK_MATH_MAX:"max",ADDRESSBOOK_MATH_MIN:"min",ADDRESSBOOK_REGEXP_NAME:/^(.*\S.*)$/,ADDRESSBOOK_REGEXP_PHONE:/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/,ADDRESSBOOK_REGEXP_EMAIL:/^([\w\.!#\$%&'\*\+-\/=\?\^_`\{\|}~]+[0-9a-zA-Z_-]+@[a-zA-Z_-]+?\.[a-zA-Z]{2,6}(\.[a-zA-Z]{2,6})?)$/,ADDRESSBOOK_REGEXP_NUMBER:/\{\*number\*\}/gi,ADDRESSBOOK_DEFAULT_WINDOW_INNER_WIDTH:800,ADDRESSBOOK_DEFAULT_WINDOW_INNER_HEIGHT:600,ADDRESSBOOK_MODAL_WIDTH:300,ADDRESSBOOK_MODAL_HEIGHT:248,ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT:748,ADDRESSBOOK_DIALOG_TIMEOUT:2e3,ADDRESSBOOK_BLOCK_POINT_DELAY:450,ADDRESSBOOK_MOBILE_VIEW_TYPE:"mobile",ADDRESSBOOK_DESKTOP_VIEW_TYPE:"desktop",ADDRESSBOOK_MOBILE_VIEW_CLASS:"hold-screen",ADDRESSBOOK_MMC_TYPE_IMPORT_CONTACTS_FINISH:"IMPORT_CONTACTS_FINISH",ADDRESSBOOK_MMC_TYPE_ALERT:"ALERT",ADDRESSBOOK_MMC_EVENT_CLEAR_TOKEN:"CLEAR_TOKEN",ADDRESSBOOK_DIALOG_TYPE_SUCCESS:"success",ADDRESSBOOK_DIALOG_TYPE_WARNING:"warning",ADDRESSBOOK_DIALOG_SIZE_SM:"sm",ADDRESSBOOK_SEARCH_FIELD:"searchField",ADDRESSBOOK_LOGIN_URL:"/en/login.htm?msg=logout"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setWindowType=void 0,t.wsConnectionOn=r,t.initCustom=i,t.setContacts=l,t.setInitialMode=s,t.setLocal=d,t.setSinglePage=function(){return{type:a.actionTypes.SET_SINGLE_PAGE}},t.setFieldsMask=u,t.setActiveRows=c,t.setFilterMask=p,t.setFilterToggle=h,t.closeModal=f,t.openDialog=m,t.closeDialog=E,t.handleChange=_,t.addContact=S,t.editContact=g,t.clickOnContact=v,t.doubleClickOnContact=T,t.selectAllContacts=O,t.unselectAllContacts=C,t.selectContactUp=function(){return{type:a.actionTypes.SELECT_CONTACT_UP}},t.selectContactDown=function(){return{type:a.actionTypes.SELECT_CONTACT_DOWN}},t.deleteSelectedContacts=y,t.deleteAllContacts=D,t.sortContacts=M,t.searchContacts=A,t.searchUpdate=function(e){return{type:a.actionTypes.SEARCH_UPDATE,searchBy:e}},t.clearSearch=b,t.dropdownToggle=I,t.importEmail=R,t.onResizeWindow=N,t.handleErrorModal=w,t.handleAlertModal=P,t.handleSavingContact=L,t.handleSearchField=function(e){return{type:a.actionTypes.HANDLE_SEARCH_FIELD,handler:e}},t.handleBlockPoint=k,t.setWsConnect=B;var a=n(939),o=n(905);function r(e){return{type:a.actionTypes.WS_CONNECTION_ON,wsConnectObj:e}}function i(e,t,n){return{type:a.actionTypes.INIT_CUSTOM,baseUrl:e,appKey:t,userCredentials:n}}function l(e){return{type:a.actionTypes.SET_CONTACTS,contacts:e}}function s(){return{type:a.actionTypes.SET_INITIAL_MODE}}function d(e){return{type:a.actionTypes.SET_LOCAL,local:e}}function u(e){return{type:a.actionTypes.SET_FIELDS_MASK,fieldsMask:e}}function c(e){return{type:a.actionTypes.SET_ACTIVE_ROWS,activeRows:e}}function p(e){return{type:a.actionTypes.SET_FILTER_MASK,filterMask:e}}function h(e){return{type:a.actionTypes.SET_FILTER_TOGGLE,filterToggle:e}}function f(){return{type:a.actionTypes.CLOSE}}function m(e){return{type:a.actionTypes.OPEN_DIALOG,contactActionType:e}}function E(){return{type:a.actionTypes.CLOSE_DIALOG}}function _(e,t,n){return{type:a.actionTypes.HANDLE_CHANGE,value:e,inputType:t,isCorrect:n}}function S(e){return{type:a.actionTypes.ADD_CONTACT,newContact:e}}function g(){return{type:a.actionTypes.EDIT_CONTACT}}function v(e,t,n,o){return n?{type:a.actionTypes.CLICK_ROW_SHIFT,contactID:e,selectMax:o}:t?{type:a.actionTypes.CLICK_ROW_CTRL,contactID:e,selectMax:o}:{type:a.actionTypes.CLICK_ROW,contactID:e}}function T(e){return{type:a.actionTypes.DOUBLE_CLICK_ROW,contactID:e}}function O(){return{type:a.actionTypes.SELECT_ALL}}function C(){return{type:a.actionTypes.UNSELECT_ALL}}function y(){return{type:a.actionTypes.DELETE_SELECTED}}function D(){return{type:a.actionTypes.DELETE_ALL}}function M(e,t){return{type:a.actionTypes.SORT_CONTACTS,sortBy:e,sortDirection:t}}function A(e,t){return{type:a.actionTypes.SEARCH_CONTACTS,searchBy:e,fieldsMask:t}}function b(){return{type:a.actionTypes.CLEAR_SEARCH}}function I(e,t){switch(e){case o.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_IMPORT:return{type:a.actionTypes.TOGGLE_IMPORT,dropdownToggle:t};case o.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_EDIT:return{type:a.actionTypes.TOGGLE_EDIT,dropdownToggle:t}}}function R(e,t){return{type:a.actionTypes.IMPORT_EMAIL,url:e,props:t}}function N(e){return{type:a.actionTypes.ON_RESIZE_WINDOW,viewType:e}}function w(e){return{type:a.actionTypes.HANDLE_ERROR_MODAL,errorModalOpen:e}}function P(e){return{type:a.actionTypes.HANDLE_ALERT_MODAL,alertModalOpen:e}}function L(e){return{type:a.actionTypes.HANDLE_SAVING_CONTACT,saved:e}}function k(e){return{type:a.actionTypes.HANDLE_BLOCK_POINT,handler:e}}function B(e,t){return{type:a.actionTypes.SET_WS_CONNECT,connect:e,baseUrl:t}}var x=t.setWindowType=function(){return{type:a.actionTypes.SET_WINDOW_TYPE}};t.default={wsConnectionOn:r,initCustom:i,setContacts:l,setLocal:d,setFieldsMask:u,setActiveRows:c,setFilterMask:p,setFilterToggle:h,closeModal:f,openDialog:m,closeDialog:E,handleChange:_,addContact:S,clickOnContact:v,doubleClickOnContact:T,selectAllContacts:O,unselectAllContacts:C,deleteSelectedContacts:y,deleteAllContacts:D,editContact:g,sortContacts:M,searchContacts:A,clearSearch:b,dropdownToggle:I,importEmail:R,setInitialMode:s,onResizeWindow:N,handleErrorModal:w,handleAlertModal:P,handleSavingContact:L,handleBlockPoint:k,setWsConnect:B,setWindowType:x}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUseSignNowTheme=t.getSignatureManagerLocale=t.getImageManagerLocale=void 0;var a,o=n(10),r=(a=o)&&a.__esModule?a:{default:a};t.getImageManagerLocale=function(e){return e.locale.imageManager},t.getSignatureManagerLocale=function(e){return e.locale.signatureManager},t.getUseSignNowTheme=function(e){return(0,r.default)(e,"modal.options.SignatureManagerWrapper.useSignNowTheme",!1)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findContactById=void 0;var a=i(n(292)),o=i(n(192));t.detectSafari=l,t.detectIE=s,t.windowFocus=d,t.openWindow=u,t.compare=c,t.uniqArr=p,t.filterMaskApply=h,t.addMobileClass=f,t.removeMobileClass=m,t.setWindowType=E,t.redirect=S;var r=n(905);function i(e){return e&&e.__esModule?e:{default:e}}function l(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("safari")&&e.indexOf("chrome")<=-1}function s(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var a=e.indexOf("Edge/");return a>0&&parseInt(e.substring(a+5,e.indexOf(".",a)),10)}function d(){("undefined"==typeof window?"undefined":(0,o.default)(window))!==r.SYSTEM.ADDRESSBOOK_UNDEFINED&&s()&&window.focus()}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=screen.height/2-n/2,r=screen.width/2-t/2;a.length>0&&(e.indexOf("?")>=0?e+="&"+a:e+="?"+a),window.childWindow=window.open(e,"sharer","top="+o+",left="+r+",toolbar=0,status=0,width="+t+",height="+n)}function c(e,t){return t===r.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_ZA?function(t,n){if(!t[e])return 1;if(!n[e])return-1;var a=t[e].toLowerCase(),o=n[e].toLowerCase();return a?o?a<o?1:a>o?-1:0:-1:1}:function(t,n){if(!t[e])return 1;if(!n[e])return-1;var a=t[e].toLowerCase(),o=n[e].toLowerCase();return a?o?a<o?-1:a>o?1:0:-1:1}}function p(e){return e.filter(function(e,t,n){return n.indexOf(e)==t})}function h(e,t,n,o){var r=e.length;if(t===n){var i=e.find(function(e){return(0,a.default)(o).find(function(t){return-1!==e.indexOf(t)&&o[t].length>0})});return Boolean(i)}return(0,a.default)(o).filter(function(t){return e.find(function(e){return-1!==e.indexOf(t)&&o[t].length>0})}).length===r}function f(){document.body.classList.contains(r.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS)||(document.body.className+=" "+r.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS)}function m(){document.body.classList.contains(r.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS)&&(document.body.className=document.body.className.replace(" "+r.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS,""))}function E(e,t,n){var a=e.getState();("undefined"==typeof window?"undefined":(0,o.default)(window))!==t.ADDRESSBOOK_UNDEFINED&&(window.innerWidth<=t.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT?a.modal.itemsToRender.length>0?(e.dispatch(n(t.ADDRESSBOOK_MOBILE_VIEW_TYPE)),f()):(e.dispatch(n(t.ADDRESSBOOK_MOBILE_VIEW_TYPE)),m()):(e.dispatch(n(t.ADDRESSBOOK_DESKTOP_VIEW_TYPE)),m()))}var _=t.findContactById=function(e,t){return e.find(function(e){return+e.id==+t})};function S(e,t){("undefined"==typeof window?"undefined":(0,o.default)(window))!==r.SYSTEM.ADDRESSBOOK_UNDEFINED&&(window.location=""+e+t)}t.default={detectSafari:l,detectIE:s,windowFocus:d,openWindow:u,compare:c,uniqArr:p,filterMaskApply:h,setWindowType:E,findContactById:_,redirect:S}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtnSecondary=void 0;var a=c(n(69)),o=c(n(58)),r=c(n(59)),i=c(n(70)),l=c(n(71)),s=c(n(3)),d=n(1),u=c(d);function c(e){return e&&e.__esModule?e:{default:e}}var p={addClass:s.default.string,children:s.default.string,onClick:s.default.func,disabled:s.default.bool};(t.BtnSecondary=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.addClass,a=void 0===n?"":n,o=e.children,r=e.onClick;return u.default.createElement("button",{type:"button",className:"g-btn g-btn-secondary g-btn-auto-width "+a,onClick:r,disabled:t},o)}}]),t}(d.Component)).propTypes=p},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(357),r=(a=o)&&a.__esModule?a:{default:a},i=n(917);t.default={setLocale:function(e){return{type:i.ACTION_TYPES.SIGNATURE_EDITOR_LOCALE_SET,locale:e}},resetEditor:function(){return{type:i.ACTION_TYPES.EDITOR_RESET}},setEditorDimensions:function(e){return{type:i.ACTION_TYPES.EDITOR_DIMENSIONS_SET,dimensions:e}},restoreInitialState:function(){return{type:i.ACTION_TYPES.INITIAL_STATE_RESTORE}},restoreEditedImage:function(){return{type:i.ACTION_TYPES.EDITED_IMAGE_RESTORE}},selectTool:function(e){return{type:i.ACTION_TYPES.TOOL_SELECT,tool:e}},setInitialImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:i.ACTION_TYPES.IMAGE_INITIAL_SET,image:e,initialImage:t}},setImage:function(e){return{type:i.ACTION_TYPES.IMAGE_SET,image:e}},setImageDimensions:function(e){return{type:i.ACTION_TYPES.IMAGE_DIMENSIONS_SET,dimensions:e}},setCroppedImage:function(e){return{type:i.ACTION_TYPES.CROPPED_IMAGE_SET,image:e}},setEditedImage:function(e,t){return{type:i.ACTION_TYPES.EDITED_IMAGE_SET,image:e,totalSteps:t}},resetImageParams:function(){return{type:i.ACTION_TYPES.IMAGE_PARAMS_RESET}},setImageParams:function(e){return{type:i.ACTION_TYPES.IMAGE_PARAMS_SET,params:e}},rotateImage:function(e){return{type:i.ACTION_TYPES.IMAGE_ROTATE,clockwise:e}},flipImage:function(e){return(0,r.default)({type:i.ACTION_TYPES.IMAGE_FLIP},e)},flipImageHorizontally:function(){return{type:i.ACTION_TYPES.IMAGE_HORIZONTAL_FLIP}},flipImageVertically:function(){return{type:i.ACTION_TYPES.IMAGE_VERTICAL_FLIP}},setThickness:function(e){return{type:i.ACTION_TYPES.THICKNESS_SET,size:e}},applyCrop:function(){return{type:i.ACTION_TYPES.CROP_APPLY}},setBrightness:function(e){return{type:i.ACTION_TYPES.BRIGHTNESS_SET,value:e}},setContrast:function(e){return{type:i.ACTION_TYPES.CONTRAST_SET,value:e}},setThreshold:function(e){return{type:i.ACTION_TYPES.THRESHOLD_SET,value:e}},zoomIn:function(){return{type:i.ACTION_TYPES.ZOOM_IN}},zoomOut:function(){return{type:i.ACTION_TYPES.ZOOM_OUT}},addHistoryStep:function(e){return{type:i.ACTION_TYPES.HISTORY_STEP_ADD,totalSteps:e}},setHistoryState:function(e,t,n){return{type:i.ACTION_TYPES.HISTORY_STATE_SET,image:e,imageParams:t,step:n}},undoHistory:function(){return{type:i.ACTION_TYPES.HISTORY_UNDO}},redoHistory:function(){return{type:i.ACTION_TYPES.HISTORY_REDO}},saveErasedImage:function(e){return{type:i.ACTION_TYPES.ERASED_IMAGE_SAVE,image:e}},saveImageState:function(){return{type:i.ACTION_TYPES.IMAGE_STATE_SAVE}},autoAdjustImage:function(){return(0,r.default)({type:i.ACTION_TYPES.IMAGE_AUTO_ADJUST},i.AUTO_ADJUST_PARAMS)},initialImageAdjust:function(e){return{type:i.ACTION_TYPES.IMAGE_INITIAL_ADJUST,params:(0,r.default)({},i.AUTO_ADJUST_PARAMS,{src:e,flipHorizontally:!1,flipVertically:!1})}},setCurrentHistoryStep:function(e){return{type:i.ACTION_TYPES.HISTORY_CURRENT_STEP_SET,step:e}},setTotalHistorySteps:function(e){return{type:i.ACTION_TYPES.HISTORY_TOTAL_STEPS_SET,steps:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtnPrimary=void 0;var a,o,r=h(n(69)),i=h(n(58)),l=h(n(59)),s=h(n(70)),d=h(n(71)),u=h(n(3)),c=n(1),p=h(c);function h(e){return e&&e.__esModule?e:{default:e}}var f={addClass:u.default.string,children:u.default.string,onClick:u.default.func,disabled:u.default.bool};(t.BtnPrimary=(o=a=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.addClass,n=e.onClick,a=e.disabled,o=e.children,r=this.context.useSignNowTheme?"blue":"primary";return p.default.createElement("button",{type:"button",className:"g-btn g-btn-"+r+" g-btn-auto-width "+t,onClick:n,disabled:a},o)}}]),t}(c.Component),a.contextTypes={useSignNowTheme:u.default.bool},o)).propTypes=f},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ps=t.isIeOrEdge=t.isPhone=t.isTablet=t.isDesktop=t.isTabletOrMobile=void 0;var a,o=n(518),r=(a=o)&&a.__esModule?a:{default:a},i=n(904);t.isTabletOrMobile=function(e){return e&&e.type&&e.type!==i.RENDER.DESKTOP_TYPE},t.isDesktop=function(e){return e.type===i.RENDER.DESKTOP_TYPE},t.isTablet=function(e){return e.type===i.RENDER.TABLET_TYPE},t.isPhone=function(e){return e.type!==i.RENDER.PHONE_TYPE},t.isIeOrEdge=function(){var e=/* @cc_on!@ */!!document.documentMode,t=!e&&-1!==navigator.appName.indexOf("Netscape")&&-1===navigator.appVersion.indexOf("Trident")&&-1!==navigator.appVersion.indexOf("Edge");return e||t},t.ps=function(e){return{initialize:function(t){return r.default.initialize(e,t)},update:function(){return r.default.update(e)},destroy:function(){return r.default.destroy(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PADDING=t.ISCROLL_CONFIG=t.MAX_ZOOM=t.MAX_HISTORY_LENGTH=t.AUTO_ADJUST_PARAMS=t.IMAGE_CLEANER_CONFIG=t.LOCALE=t.ACTION_TYPES=t.TOOLS=void 0;var a=u(n(1129)),o=u(n(988)),r=u(n(1130)),i=u(n(1131)),l=u(n(1132)),s=u(n(1133)),d=n(989);function u(e){return e&&e.__esModule?e:{default:e}}t.TOOLS=a.default,t.ACTION_TYPES=o.default,t.LOCALE=r.default,t.IMAGE_CLEANER_CONFIG=i.default,t.AUTO_ADJUST_PARAMS=l.default,t.MAX_HISTORY_LENGTH=d.MAX_HISTORY_LENGTH,t.MAX_ZOOM=d.MAX_ZOOM,t.ISCROLL_CONFIG=s.default,t.DEFAULT_PADDING=d.DEFAULT_PADDING},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SYSTEM={EVENT_CLICK:"click",EVENT_TOUCH_START:"touchstart",EVENT_SCROLL:"scroll",EVENT_KEY_DOWN:"keydown",EVENT_KEY_UP:"keyup",EVENT_PRESS_ENTER:"enter",EVENT_PRESS_ESCAPE:"escape",EVENT_PRESS_TAB:"tab",EVENT_PRESS_UP:"up",EVENT_PRESS_DOWN:"down",EVENT_PRESS_DELETE:"delete",EVENT_PRESS_CTRL_A:"ctrl_a",ENTER_ESCAPE_CONTROLLER:"ENTER_ESCAPE_CONTROLLER",ADDRESS_BOOK_CONTROLLER:"ADDRESS_BOOK_CONTROLLER"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODE_TYPES=void 0;var a,o=n(502),r=(a=o)&&a.__esModule?a:{default:a};t.MODE_TYPES=(0,r.default)({INITIAL:null,EDIT:null,UPLOAD:null,MOBILE_UPLOAD:null,UPLOADER:null,MOBILE_UPLOADER:null,UPLOADING:null,BIG_FOOTER:null,CAPTURE:null,SM_INITIAL:null,SM_TEXT_EDIT:null,SM_CURVE_EDIT:null,SM_IMAGE_EDIT:null,SM_CHOOSE_SIGNATURE:null,SM_TYPE_SIGNATURE:null,SM_GALLERY:null,SM_QR:null,SM_SMS:null,SM_EMAIL:null,SM_DRAW:null,SM_UPLOADER:null,SM_UPLOADING:null,SM_MOBILE_UPLOADER:null,SM_CAPTURE:null,SM_NOTARIZE:null,SM_MOBILE_SIGN_LOADING:null,SM_EDITOR_PREVIEW:null,SM_EDITOR:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},e.exports=t.default},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ERROR_TYPES={ADDRESSBOOK_GET_CONTACTS:"getContacts",ADDRESSBOOK_ADD_CONTACT_DOUBLE:"addContactDouble",ADDRESSBOOK_ADD_CONTACT:"addContact",ADDRESSBOOK_EDIT_CONTACT:"editContact",ADDRESSBOOK_DELETE_CONTACT:"deleteContact",ADDRESSBOOK_DELETE_ALL_CONTACTS:"deleteAllContacts"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownTrigger=t.DropdownContent=void 0;var a=i(n(1092)),o=i(n(1095)),r=i(n(978));function i(e){return e&&e.__esModule?e:{default:e}}t.default=a.default,t.DropdownContent=o.default,t.DropdownTrigger=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultController=o,t.setCurrentController=r,t.cancelCurrentController=i,t.emit=l;var a=n(528);function o(e){return{type:a.actionTypes.SET_DEFAULT_CONTROLLER,controller:e}}function r(e){return{type:a.actionTypes.SET_CURRENT_CONTROLLER,controller:e}}function i(e){return{type:a.actionTypes.CANCEL_CURRENT_CONTROLLER,controller:e}}function l(e,t){return{type:a.actionTypes.EMIT,eventType:e,event:t}}t.default={setDefaultController:o,setCurrentController:r,cancelCurrentController:i,emit:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionTypes=void 0;var a,o=n(502),r=(a=o)&&a.__esModule?a:{default:a};t.actionTypes=(0,r.default)({INITIAL:null,EDIT:null,GALLERY:null,UPLOADER:null,MOBILE_UPLOADER:null,UPLOADING:null,CAPTURE:null,SET_UPLOADED_PERCENT:null,DISABLE_WEBCAM:null,API_REST_SET:null,ERROR_SET:null,ERRORS_CLEAN:null,CLOSE_SIGNATURE:null,SM_SET_DRAW_CONFIG:null,SM_INITIAL:null,SM_TEXT_EDIT:null,SM_CURVE_EDIT:null,SM_IMAGE_EDIT:null,SM_CHOOSE_SIGNATURE:null,SM_TYPE_SIGNATURE:null,SM_GALLERY:null,SM_QR:null,SM_SMS:null,SM_EMAIL:null,SM_DRAW:null,SM_NOTARIZE:null,SM_DRAW_COMPONENT_UPDATE_HISTORY_POINT:null,SM_SIGNATURE_SAVE:null,SM_SET_INITIAL_SIGNATURE:null,SM_SET_ADDRESSBOOK_API_REST:null,LAUNCH_UPLOAD_IMAGE:null,SM_SET_ORIGINAL_IMAGE:null,SM_UPLOADER:null,SM_MOBILE_UPLOADER:null,SM_UPLOADING:null,SM_CAPTURE:null,SM_MOBILE_SIGN_LOADING:null,SM_LAUNCH_UPLOAD_IMAGE:null,SM_GET_QR_URL:null,SM_SET_QR_URL:null,SM_SEND_PHONE_NUMBER:null,SM_SEND_EMAIL:null,SM_SAVE_PHONE_NUMBER:null,SM_SAVE_EMAIL:null,SM_SET_MOBILE_SIGNATURE_METHOD:null,SM_MOBILE_SIGNATURE_RESEND:null,SM_GET_CONTACT_EMAIL:null,SM_GET_CONTACT_PHONE_NUMBER:null,SM_EDITOR_PREVIEW_OPEN:null,SM_EDITOR_OPEN:null,SM_ERROR_SET:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.IDS={button:"DropzoneButton",content:"DropzoneContent",title:"DropzoneTitle"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.moveCaretAtEnd=function(e){var t=e.target;/text|password|search|tel|url/.test(t.type)&&t.setSelectionRange(t.value.length,t.value.length)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var a,o=f(n(69)),r=f(n(58)),i=f(n(59)),l=f(n(70)),s=f(n(71)),d=f(n(3)),u=n(1),c=f(u),p=n(8),h=n(910);function f(e){return e&&e.__esModule?e:{default:e}}var m={title:d.default.string,btns:d.default.array};(t.Loader=(0,p.connect)(function(e){return e.im.modeSignature})(a=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"renderTitle",value:function(){var e=this.props.title;return e?c.default.createElement("div",{className:"g-loader__label g-loader__label--md"},e):null}},{key:"renderBtn",value:function(){var e=this.props.btns;return e?c.default.createElement("div",{className:"g-loader-btn-block"},e.map(function(e,t){return c.default.createElement(h.BtnSecondary,{addClass:"g-btn-sm",key:t,onClick:e.btnDispatch},e.btnText)})):null}},{key:"render",value:function(){return c.default.createElement("div",{className:"g-loader g-loader--md"},c.default.createElement("div",{className:"g-loader__wrapper"},c.default.createElement("div",{className:"g-loader__layer"},c.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--left"},c.default.createElement("div",{className:"g-loader__circle"})),c.default.createElement("div",{className:"g-loader__gap-patch"},c.default.createElement("div",{className:"g-loader__circle"})),c.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--right"},c.default.createElement("div",{className:"g-loader__circle"})))),this.renderTitle(),this.renderBtn())}}]),t}(u.Component))||a).propTypes=m},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionTypes=void 0;var a,o=n(502),r=(a=o)&&a.__esModule?a:{default:a};t.actionTypes=(0,r.default)({INIT_CUSTOM:null,OPEN:null,CLOSE:null,OPEN_DIALOG:null,CLOSE_DIALOG:null,HANDLE_CHANGE:null,ADD_CONTACT:null,CLICK_ROW:null,DOUBLE_CLICK_ROW:null,CLICK_ROW_SHIFT:null,CLICK_ROW_CTRL:null,SELECT_ALL:null,UNSELECT_ALL:null,SELECT_CONTACT_UP:null,SELECT_CONTACT_DOWN:null,DELETE_SELECTED:null,EDIT_CONTACT:null,SORT_CONTACTS:null,SEARCH_CONTACTS:null,SEARCH_UPDATE:null,CLEAR_SEARCH:null,TOGGLE_IMPORT:null,TOGGLE_EDIT:null,SET_CONTACTS:null,SET_INITIAL_MODE:null,DELETE_ALL:null,SET_LOCAL:null,SET_FIELDS_MASK:null,SET_FILTER_MASK:null,SET_FILTER_TOGGLE:null,SET_ACTIVE_ROWS:null,APPLY_CONTACTS_MASK:null,IMPORT_EMAIL:null,SET_SINGLE_PAGE:null,ON_RESIZE_WINDOW:null,HANDLE_ERROR_MODAL:null,HANDLE_ALERT_MODAL:null,WS_CONNECTION_ON:null,HANDLE_SAVING_CONTACT:null,HANDLE_SEARCH_FIELD:null,HANDLE_BLOCK_POINT:null,SET_WS_CONNECT:null,SET_WINDOW_TYPE:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookCounter=void 0;var a,o=h(n(69)),r=h(n(58)),i=h(n(59)),l=h(n(70)),s=h(n(71)),d=n(1),u=h(d),c=n(8),p=n(905);function h(e){return e&&e.__esModule?e:{default:e}}t.AddressBookCounter=(0,c.connect)(function(e){return{contactsNumber:e.ab.contacts.length,singlePage:e.ab.singlePage,viewType:e.ab.viewType}})(a=function(e){function t(e){return(0,r.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return this.props.contactsNumber>0?this.props.singlePage?this.props.viewType===p.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?u.default.createElement("span",{className:"dab-header-title__label"},"(",this.props.contactsNumber," contacts)"):u.default.createElement("div",{className:"myac-counter-header__contact-counter"},u.default.createElement("span",{className:"dab-header-title__label"},this.props.contactsNumber," contacts")):u.default.createElement("span",{className:"dab-header-title__label"},"(",this.props.contactsNumber," contacts)"):null}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleErrorGenerator=o;var a=n(926);function o(e,t,n,o,r){var i=void 0,l=void 0,s=void 0;switch(t){case a.ERROR_TYPES.ADDRESSBOOK_GET_CONTACTS:i=e.ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_TITLE,l=e.ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_CONTENT,s=e.ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT_DOUBLE:i=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_TITLE,l=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_CONTENT,s=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT:i=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_TITLE,l=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_CONTENT,s=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_EDIT_CONTACT:i=e.ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_TITLE,l=e.ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_CONTENT,s=e.ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_DELETE_CONTACT:i=e.ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_TITLE,l=e.ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_CONTENT,s=e.ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_DELETE_ALL_CONTACTS:i=e.ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_TITLE,l=e.ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_CONTENT,s=e.ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_BTNCONFIRMTEXT;break;default:i=e.ADDRESSBOOK_ERROR_MODAL_DEFAULT_TITLE,l=e.ADDRESSBOOK_ERROR_MODAL_DEFAULT_CONTENT,s=e.ADDRESSBOOK_ERROR_MODAL_DEFAULT_BTNCONFIRMTEXT}n(i,l,s,o,r)}t.default={handleErrorGenerator:o}},function(e,t,n){e.exports=n(1093)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deviceProps=t.ws=t.im=void 0;var a,o=n(1115),r=n(1125),i=n(1126),l=(a=i)&&a.__esModule?a:{default:a};t.im=o.im,t.ws=r.ws,t.deviceProps=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_SIGNATURE_FONT_SIZE=24;t.default={JELLYCA:{original:"Jellyka CuttyCupcakes",custom:"font-JellykaCuttyCupcakes"},PETRA:{original:"PetraScriptEF",custom:"font-PetraScriptEF"},SIGNATURE:{original:"signature",custom:"font-signature"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editorManager=t.imageSignature=void 0;var a=r(n(1127)),o=r(n(1128));function r(e){return e&&e.__esModule?e:{default:e}}t.imageSignature=a.default,t.editorManager=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e=Date.parse(e),isNaN(e)?null:new Date(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){"object"===(void 0===e?"undefined":a(e))&&null!==e?e="function"==typeof e.toString?e.toString():"[object Object]":(null==e||isNaN(e)&&!e.length)&&(e="");return String(e)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(e),(t=(0,o.default)(t,i)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));var n=e.split(".");if(t.require_tld){var r=n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(r))return!1}for(var l,s=0;s<n.length;s++){if(l=n[s],t.allow_underscores&&(l=l.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(l))return!1;if(/[\uff01-\uff5e]/.test(l))return!1;if("-"===l[0]||"-"===l[l.length-1])return!1}return!0};var a=r(n(902)),o=r(n(922));function r(e){return e&&e.__esModule?e:{default:e}}var i={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageItem=void 0;var a=p(n(69)),o=p(n(58)),r=p(n(59)),i=p(n(70)),l=p(n(71)),s=p(n(3)),d=n(1),u=p(d),c=n(932);function p(e){return e&&e.__esModule?e:{default:e}}var h={src:s.default.string,showImage:s.default.bool},f=t.ImageItem=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.state={loading:!0},n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.showImage,t=this.state.loading;e&&t&&!this.img&&this.createLoader()}},{key:"componentWillReceiveProps",value:function(e){this.props.src!==e.src&&this.setState({loading:!0})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.showImage,n=e.src,a=this.state.loading;t&&a&&n&&!this.img&&this.createLoader()}},{key:"componentWillUnmount",value:function(){this.destroyLoader()}},{key:"createLoader",value:function(){var e=this.props.src;this.destroyLoader(),this.img=new Image,this.img.onload=this.handleLoad.bind(this),this.img.onerror=this.handleError.bind(this),this.img.src=e}},{key:"destroyLoader",value:function(){this.img&&(this.img.onload=null,this.img.onerror=null,this.img=null)}},{key:"handleLoad",value:function(){this.destroyLoader(),this.setState({loading:!1})}},{key:"handleError",value:function(){this.destroyLoader()}},{key:"render",value:function(){var e=this.props,t=e.src,n=e.showImage,a=this.state.loading;return n&&!a&&t?u.default.createElement("img",{src:t,alt:""}):u.default.createElement(c.Loader,null)}}]),t}(d.Component);f.propTypes=h,f.defaultProps={showImage:!0}},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBook=void 0;var a,o=M(n(358)),r=M(n(357)),i=M(n(192)),l=M(n(69)),s=M(n(58)),d=M(n(59)),u=M(n(70)),c=M(n(71)),p=n(1),h=M(p),f=M(n(3)),m=n(905),E=n(1085),_=n(926),S=n(144),g=n(909),v=n(1086),T=n(1096),O=n(8),C=n(906),y=M(n(10)),D=n(941);M(D);function M(e){return e&&e.__esModule?e:{default:e}}var A=M(n(982)).default.controllerActions,b=A.setDefaultController,I=A.setCurrentController,R=A.cancelCurrentController;(t.AddressBook=(0,O.connect)(function(e){return{mode:e.ab.mode,contacts:e.ab.contacts,contactsBackup:e.ab.contactsBackup,loaded:e.ab.loaded,fieldsMask:e.modal.options.AddressBook?e.modal.options.AddressBook.fieldsMask:null,fieldsMaskInternal:e.ab.fieldsMaskInternal,filterMaskReceived:e.modal.options.AddressBook?e.modal.options.AddressBook.filterMask:null,filterMaskInternalOr:e.ab.filterMaskInternalOr,filterMaskInternalAnd:e.ab.filterMaskInternalAnd,filterToggleReceived:e.modal.options.AddressBook?e.modal.options.AddressBook.filterToggle:null,filterToggleInternal:e.ab.filterToggleInternal,filterMask:e.ab.filterMask,filterToggle:e.ab.filterToggle,activeRowsReceived:e.modal.options.AddressBook?e.modal.options.AddressBook.activeRows:null,activeRows:e.ab.activeRows,controllerFromOptions:e.modal.options.AddressBook&&e.modal.options.AddressBook.controller,sendContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.receiveContactsCallback:null,cancelDummyController:e.modal.options.AddressBook?e.modal.options.AddressBook.cancelDummyControllerCallback:null,mainButtonName:e.modal.options.AddressBook?e.modal.options.AddressBook.mainButtonName:null,searchBy:e.ab.searchBy,importContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.importContacts:null,inputHandlerFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.inputHandler:null,controllerConstantsFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.controllerConstants:null,alertModalFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.alertModal:null,selectMax:e.modal.options.AddressBook?e.modal.options.AddressBook.selectMax:null}},function(e){return{actions:(0,S.bindActionCreators)({setLocal:C.setLocal,setFieldsMask:C.setFieldsMask,setFilterMask:C.setFilterMask,setFilterToggle:C.setFilterToggle,setActiveRows:C.setActiveRows,setDefaultController:b,setCurrentController:I,closeModal:C.closeModal,setContacts:C.setContacts,deleteSelectedContacts:C.deleteSelectedContacts,deleteAllContacts:C.deleteAllContacts,importEmail:C.importEmail,setSinglePage:C.setSinglePage,clearSearch:C.clearSearch,setInitialMode:C.setInitialMode,cancelCurrentController:R,initCustom:C.initCustom,selectAllContacts:C.selectAllContacts,handleErrorModal:C.handleErrorModal,handleAlertModal:C.handleAlertModal,wsConnectionOn:C.wsConnectionOn,setWindowType:C.setWindowType},e)}})(a=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.LOCAL=E.LOCAL,("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&(n.LOCAL=(0,r.default)({},E.LOCAL,window.allConstants)),n.modalId=t.getModalId(),n.configureFilterToggle=n.configureFilterToggle.bind(n),n.configureFilterMask=n.configureFilterMask.bind(n),n.makeArray=n.makeArray.bind(n),n.arrayStringify=n.arrayStringify.bind(n),n.handleError=n.handleError.bind(n),n.onErrorController=n.onErrorController.bind(n),n.offErrorController=n.offErrorController.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n.handleCtrlA=n.handleCtrlA.bind(n),n.handleDelete=n.handleDelete.bind(n),n.deleteContact=n.deleteContact.bind(n),n.handleAlertEscape=n.handleAlertEscape.bind(n),n.handleAlertEnter=n.handleAlertEnter.bind(n),n.onAlertController=n.onAlertController.bind(n),n.offAlertController=n.offAlertController.bind(n),n.openApproveModal=n.openApproveModal.bind(n),n.handleStop=n.handleStop.bind(n),n.handleClickOnModal=n.handleClickOnModal.bind(n),n.handleGetContacts=n.handleGetContacts.bind(n),n.getContactsCb=n.getContactsCb.bind(n),n.handleDeleteContact=n.handleDeleteContact.bind(n),n.deleteContactCb=n.deleteContactCb.bind(n),n.handleDeleteAllContacts=n.handleDeleteAllContacts.bind(n),n.deleteAllContactsCb=n.deleteAllContactsCb.bind(n),n.handleImportGmail=n.handleImportGmail.bind(n),n.handleImportYahoo=n.handleImportYahoo.bind(n),n.handleImportHotmail=n.handleImportHotmail.bind(n),n.handleImportOutlook=n.handleImportOutlook.bind(n),n.handleEscapeErrorModal=n.handleEscapeErrorModal.bind(n),n.handleEnterErrorModal=n.handleEnterErrorModal.bind(n),n.controller=n.props.controller||n.props.controllerFromOptions||null,n.inputHandler=n.props.inputHandler||n.props.inputHandlerFromOptions||null,n.controllerConstants=n.props.controllerConstants||n.props.controllerConstantsFromOptions||null,n}return(0,c.default)(t,e),(0,d.default)(t,[{key:"configureFilterToggle",value:function(){return(0,y.default)(this.props.filterToggleReceived,m.SYSTEM.ADDRESSBOOK_LENGTH,null)>0?this.props.filterToggleReceived:this.props.filterToggleInternal}},{key:"configureFilterMask",value:function(e){var t=e===m.SYSTEM.ADDRESSBOOK_FILTER_TOGGLE_OR?this.props.filterMaskInternalOr:this.props.filterMaskInternalAnd,n=void 0;if((0,y.default)(this.props.filterMaskReceived,m.SYSTEM.ADDRESSBOOK_LENGTH,null)>0){var a=(n=[].concat((0,o.default)(this.props.filterMaskReceived))).indexOf(m.SYSTEM.ADDRESSBOOK_FIELD_NAME);-1!==a&&n.splice(a,1)}return(0,y.default)(this.props.filterMaskReceived,m.SYSTEM.ADDRESSBOOK_LENGTH,null)>0?n:t}},{key:"makeArray",value:function(e){return Array.isArray(e)?e:[e]}},{key:"arrayStringify",value:function(e){return e.map(function(e){return e.toString()})}},{key:"componentWillMount",value:function(){var e=this.props.actions,t=e.setLocal,n=e.setFieldsMask,a=e.setFilterMask,o=e.setFilterToggle,l=e.setActiveRows,s=e.setDefaultController,d=e.setCurrentController,u=e.setSinglePage,c=e.initCustom,p=e.wsConnectionOn;if(this.apiRest=this.props.apiRest?this.props.apiRest:c(this.props.config.api.baseUrl,this.props.config.api.appKey,this.props.userCredentials),!this.props.loaded){t(this.LOCAL),this.props.singlePage&&u(),n((0,y.default)(this.props.fieldsMask,m.SYSTEM.ADDRESSBOOK_LENGTH,null)>0?this.props.fieldsMask:this.props.fieldsMaskInternal);var h=((0,i.default)((0,y.default)(this.props,"activeRowsReceived",null))===m.SYSTEM.ADDRESSBOOK_NUMBER?this.props.activeRowsReceived.toString():this.props.activeRowsReceived)||this.props.activeRows;h=this.makeArray(h),l(h=this.arrayStringify(h));var f=this.configureFilterToggle();o(f),a(this.configureFilterMask(f)),this.controller&&(s(this.controller),d(this.controller))}var E={dialogModalName:this.props.dialogModalName,openModal:this.props.openModal,closeModal:this.props.closeModal,ADDRESSBOOK_IMPORTED_CONTACTS:this.LOCAL.ADDRESSBOOK_IMPORTED_CONTACTS,ADDRESSBOOK_IMPORT_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_IMPORT_CONTACTS_FAILS,ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS,ADDRESSBOOK_TITLE_IMPORTED_CONTACTS:this.LOCAL.ADDRESSBOOK_TITLE_IMPORTED_CONTACTS,ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS,ADDRESSBOOK_TITLE_IMPORT_NEW_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_TITLE_IMPORT_NEW_CONTACTS_FAILS,handleGetContacts:this.handleGetContacts};this.props.config&&(E=(0,r.default)({},E,{connect:{host:this.props.config.ws.host,port:this.props.config.ws.port},baseUrl:this.props.config.system.baseUrl}),("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&(E=(0,r.default)({},E,{connect:(0,r.default)({},E.connect,{userId:window.user.userId})}))),p(E)}},{key:"handleError",value:function(e,t,n,a,o){this.props.openModal(this.props.errorModalName,{title:e,content:t,btnConfirmText:n,btnConfirmCallback:a||null,onCloseModal:o||null}),(0,this.props.actions.handleErrorModal)(!0)}},{key:"onErrorController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"offErrorController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"getContactsCb",value:function(e,t){var n=this,a=this.props.actions,o=a.setInitialMode,r=a.setContacts,i=a.handleErrorModal;e?((0,D.handleErrorGenerator)(this.LOCAL,_.ERROR_TYPES.ADDRESSBOOK_GET_CONTACTS,this.handleError,function(){n.offErrorController(),o(),i(!1),(0,g.windowFocus)()},function(){n.offErrorController(),o(),i(!1),(0,g.windowFocus)()}),this.onErrorController()):r(t)}},{key:"handleGetContacts",value:function(){this.apiRest.handleGetContacts(this.getContactsCb)}},{key:"deleteContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.deleteSelectedContacts,r=a.handleErrorModal;e?((0,D.handleErrorGenerator)(this.LOCAL,_.ERROR_TYPES.ADDRESSBOOK_DELETE_CONTACT,this.handleError,function(){n.offErrorController(),r(!1),(0,g.windowFocus)()},function(){n.offErrorController(),r(!1),(0,g.windowFocus)()}),this.onErrorController()):o(e,t)}},{key:"handleDeleteContact",value:function(e){this.apiRest.handleDeleteContact(e,this.deleteContactCb)}},{key:"deleteAllContactsCb",value:function(e,t){var n=this,a=this.props.actions,o=a.deleteAllContacts,r=a.handleErrorModal;e?((0,D.handleErrorGenerator)(this.LOCAL,_.ERROR_TYPES.ADDRESSBOOK_DELETE_ALL_CONTACTS,this.handleError,function(){n.offErrorController(),r(!1),(0,g.windowFocus)()},function(){n.offErrorController(),r(!1),(0,g.windowFocus)()}),this.onErrorController()):o(e,t)}},{key:"handleDeleteAllContacts",value:function(){this.apiRest.handleDeleteAllContacts(this.deleteAllContactsCb)}},{key:"handleImportGmail",value:function(){var e=this.apiRest.handleImportGmail();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleImportYahoo",value:function(){var e=this.apiRest.handleImportYahoo();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleImportHotmail",value:function(){var e=this.apiRest.handleImportHotmail();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleImportOutlook",value:function(){var e=this.apiRest.handleImportOutlook();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleEnter",value:function(){var e=this;if(this.props.activeRows.length>0){var t=this.props.contacts.filter(function(t){if(-1!==e.props.activeRows.indexOf(t.id))return t});if(this.props.sendContacts)(0,this.props.actions.closeModal)(),this.props.sendContacts(t),this.props.handleCloseModal()}}},{key:"handleEscape",value:function(){if(this.props.singlePage){var e=this.props.actions.clearSearch;""!==this.props.searchBy&&e()}else{(0,this.props.actions.closeModal)(),this.props.handleCloseModal(),this.props.cancelDummyController&&this.props.cancelDummyController()}}},{key:"handleCtrlA",value:function(){var e=this.props,t=e.selectMax,n=e.actions;t||n.selectAllContacts()}},{key:"handleDelete",value:function(){this.openApproveModal()}},{key:"deleteContact",value:function(){this.props.activeRows.length!==this.props.contactsBackup.length?this.handleDeleteContact(this.props.activeRows):this.handleDeleteAllContacts()}},{key:"handleAlertEscape",value:function(){this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController(),(0,this.props.actions.handleAlertModal)(!1),(0,g.windowFocus)()}},{key:"handleAlertEnter",value:function(){this.deleteContact(),this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController(),(0,this.props.actions.handleAlertModal)(!1),(0,g.windowFocus)()}},{key:"onAlertController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleAlertEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleAlertEnter))}},{key:"offAlertController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleAlertEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleAlertEnter))}},{key:"openApproveModal",value:function(){var e=this;if(this.props.activeRows.length>0)if(this.props.alertModalFromOptions||this.props.alertModal)if(this.props.openModal){var t=this.props.actions.handleAlertModal;t(!0),this.props.openModal(this.props.alertModalName,{modalType:"warning",title:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_TITLE,content:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_CONTENT,btnConfirmText:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONFIRMTEXT,showCloseButton:!0,btnConfirmCallback:function(){e.deleteContact(),e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,g.windowFocus)()},btnCancelText:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONCELTEXT,btnCancelCallback:function(){e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,g.windowFocus)()},confirm:!0,newStyle:!0}),this.onAlertController()}else this.deleteContact();else this.deleteContact()}},{key:"handleEscapeErrorModal",value:function(){var e=this.props.actions,t=e.setInitialMode,n=e.handleErrorModal;this.props.closeModal(this.props.errorModalName),this.props.loaded||t(),this.offErrorController(),n(!1),(0,g.windowFocus)()}},{key:"handleEnterErrorModal",value:function(){var e=this.props.actions,t=e.setInitialMode,n=e.handleErrorModal;this.props.closeModal(this.props.errorModalName),this.props.loaded||t(),this.offErrorController(),n(!1),(0,g.windowFocus)()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.loaded,n=e.singlePage,a=e.actions.setWindowType;a(),("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.addEventListener("resize",a),t||this.handleGetContacts(),this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)),("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.innerWidth<=m.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT&&(n||(0,g.addMobileClass)())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.singlePage,n=e.actions,a=n.cancelCurrentController,o=n.setWindowType;this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)),t||(0,g.removeMobileClass)(),("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.removeEventListener("resize",o),this.controller&&a(this.controller)}},{key:"handleStop",value:function(){}},{key:"handleClickOnModal",value:function(){}},{key:"render",value:function(){if((0,y.default)(this.props,"contacts",null))return this.props.singlePage?h.default.createElement(T.SinglePage,{alertModal:this.props.alertModal,controller:this.controller,handleImportGmail:this.handleImportGmail,handleImportYahoo:this.handleImportYahoo,handleImportHotmail:this.handleImportHotmail,handleImportOutlook:this.handleImportOutlook,handleEnter:this.handleEnter,handleEscape:this.handleEscape,handleCtrlA:this.handleCtrlA,handleDelete:this.handleDelete,handleDeleteContact:this.handleDeleteContact,handleDeleteAllContacts:this.handleDeleteAllContacts,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,errorModalName:this.props.errorModalName,handleError:this.handleError,inputHandler:this.inputHandler,controllerConstants:this.controllerConstants,apiRest:this.apiRest}):h.default.createElement(v.ModalWindow,{importContacts:this.props.importContacts,handleCloseModal:this.props.handleCloseModal,mainButtonName:this.props.mainButtonName,controller:this.controller,handleImportGmail:this.handleImportGmail,handleImportYahoo:this.handleImportYahoo,handleImportHotmail:this.handleImportHotmail,handleImportOutlook:this.handleImportOutlook,handleEnter:this.handleEnter,handleEscape:this.handleEscape,handleCtrlA:this.handleCtrlA,handleDelete:this.handleDelete,handleDeleteContact:this.handleDeleteContact,handleDeleteAllContacts:this.handleDeleteAllContacts,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,errorModalName:this.props.errorModalName,handleError:this.handleError,inputHandler:this.inputHandler,controllerConstants:this.controllerConstants,apiRest:this.apiRest,isApp:this.props.isApp})}}],[{key:"getModalId",value:function(){return m.SYSTEM.ADDRESSBOOK_ADDRESS_BOOK}}]),t}(p.Component))||a).propTypes={handleCloseModal:f.default.func,config:f.default.object,openModal:f.default.func,closeModal:f.default.func,errorModalName:f.default.string,alertModalName:f.default.string,controller:f.default.object,singlePage:f.default.bool,alertModal:f.default.bool,inputHandler:f.default.object,controllerConstants:f.default.object,isApp:f.default.bool}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookSearch=void 0;var a,o=E(n(69)),r=E(n(58)),i=E(n(59)),l=E(n(70)),s=E(n(71)),d=n(1),u=E(d),c=n(8),p=n(144),h=E(n(12)),f=n(906),m=n(905);function E(e){return e&&e.__esModule?e:{default:e}}t.AddressBookSearch=(0,c.connect)(function(e){return{searchBy:e.ab.searchBy,fieldsMask:e.ab.fieldsMask,singlePage:e.ab.singlePage,local:e.ab.local,searchFieldShow:e.ab.searchFieldShow}},function(e){return{actions:(0,p.bindActionCreators)({searchContacts:f.searchContacts,clearSearch:f.clearSearch,handleSearchField:f.handleSearchField},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleClearSearch=n.handleClearSearch.bind(n),n.handleSearch=n.handleSearch.bind(n),n.renderClearSearch=n.renderClearSearch.bind(n),n.handleSearchInput=n.handleSearchInput.bind(n),n.renderSearchField=n.renderSearchField.bind(n),n.activateSearchInput=n.activateSearchInput.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidUpdate",value:function(){this.activateSearchInput()}},{key:"handleClearSearch",value:function(){(0,this.props.actions.clearSearch)()}},{key:"handleSearch",value:function(e){var t=this.props.actions,n=t.searchContacts,a=t.clearSearch;""!==e.target.value?n(e.target.value,this.props.fieldsMask):a()}},{key:"handleSearchInput",value:function(){(0,this.props.actions.handleSearchField)(),this.props.searchFieldShow&&this.handleClearSearch()}},{key:"activateSearchInput",value:function(){this.refs[m.SYSTEM.ADDRESSBOOK_SEARCH_FIELD]&&this.refs[m.SYSTEM.ADDRESSBOOK_SEARCH_FIELD].focus()}},{key:"renderSearchField",value:function(){if(this.props.searchFieldShow)return u.default.createElement("div",{className:" g-form-group g-form-group-search"},this.renderClearSearch(),u.default.createElement("input",{id:"dab-search",ref:m.SYSTEM.ADDRESSBOOK_SEARCH_FIELD,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_SEARCH,className:"form-input form-input-sm",value:this.props.searchBy,onChange:this.handleSearch}))}},{key:"renderClearSearch",value:function(){return""!==this.props.searchBy?u.default.createElement("div",{className:"clean-search",onClick:this.handleClearSearch}):null}},{key:"render",value:function(){var e=(0,h.default)("myac-counter-header__search-input-icon-wrap",{"is-active":this.props.searchFieldShow});return this.props.singlePage?u.default.createElement("div",{className:"myac-counter-header__search-input"},this.renderSearchField(),u.default.createElement("div",{className:e,onClick:this.handleSearchInput},u.default.createElement("div",{className:"myac-counter-header__search-input-icon"}))):u.default.createElement("div",{className:"dab-header__search g-form-group g-form-group-search"},u.default.createElement("label",{forHtml:"dab-search",className:"i i-search dab-header__search-icon"}),this.renderClearSearch(),u.default.createElement("input",{id:"dab-search",placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_SEARCH,className:"form-input form-input-sm",value:this.props.searchBy,onChange:this.handleSearch}))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookSort=void 0;var a,o=E(n(69)),r=E(n(58)),i=E(n(59)),l=E(n(70)),s=E(n(71)),d=n(1),u=E(d),c=n(8),p=n(958),h=n(144),f=n(905),m=n(906);function E(e){return e&&e.__esModule?e:{default:e}}t.AddressBookSort=(0,c.connect)(function(e){return{contacts:e.ab.contacts,sortIsOpen:e.ab.sortIsOpen,sortBy:e.ab.sortBy,sortDirection:e.ab.sortDirection,local:e.ab.local,fieldsMask:e.ab.fieldsMask}},function(e){return{actions:(0,h.bindActionCreators)({dropdownToggle:m.dropdownToggle,sortContacts:m.sortContacts},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleSort=n.handleSort.bind(n),n.showName=n.showName.bind(n),n.showDirection=n.showDirection.bind(n),n.getSort=n.getSort.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"handleSort",value:function(e,t){var n=this.props.actions.sortContacts;this.props.sortBy===e&&this.props.sortDirection===t||n(e,t)}},{key:"showName",value:function(e){return{name:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,email:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,phone:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,fax:this.props.local.ADDRESSBOOK_UPPERCASE_FAX}[e]}},{key:"showDirection",value:function(){return this.props.sortBy===f.SYSTEM.ADDRESSBOOK_FIELD_NAME?this.props.sortDirection:null}},{key:"getSort",value:function(e,t){var n=this;return-1!==this.props.fieldsMask.indexOf(e)?u.default.createElement("div",{onClick:function(){n.handleSort(e,t)}},this.showName(e)):null}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"ab-header__sort enable"},u.default.createElement("div",{className:"g-form-group"},u.default.createElement(p.Select,{type:"bare",size:"sm",labelText:this.props.local.ADDRESSBOOK_SORT_BY,list:[u.default.createElement("div",{onClick:function(){e.handleSort(f.SYSTEM.ADDRESSBOOK_FIELD_NAME,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ)}},this.props.local.ADDRESSBOOK_UPPERCASE_NAME," ",this.props.local.ADDRESSBOOK_SORT_DIRECTION_AZ),u.default.createElement("div",{onClick:function(){e.handleSort(f.SYSTEM.ADDRESSBOOK_FIELD_NAME,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_ZA)}},this.props.local.ADDRESSBOOK_UPPERCASE_NAME," ",this.props.local.ADDRESSBOOK_SORT_DIRECTION_ZA),this.getSort(f.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ),this.getSort(f.SYSTEM.ADDRESSBOOK_FIELD_PHONE,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ),this.getSort(f.SYSTEM.ADDRESSBOOK_FIELD_FAX,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ)]})))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookInitialContent=void 0;var a,o=g(n(69)),r=g(n(58)),i=g(n(59)),l=g(n(70)),s=g(n(71)),d=n(1),u=g(d),c=n(8),p=n(144),h=n(905),f=n(906),m=n(967),E=n(968),_=n(969),S=n(970);function g(e){return e&&e.__esModule?e:{default:e}}t.AddressBookInitialContent=(0,c.connect)(function(e){return{local:e.ab.local}},function(e){return{actions:(0,p.bindActionCreators)({openDialog:f.openDialog},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleOpenDialog=n.handleOpenDialog.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"handleOpenDialog",value:function(e,t){e.preventDefault(),(0,this.props.actions.openDialog)(t)}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"ab-import"},u.default.createElement("div",{className:"ab-import__inner"},u.default.createElement("div",{className:"ab-import-table"},u.default.createElement("div",{className:"ab-import-cell ab-import-cell--after-or"},u.default.createElement("div",{className:"ab-import__icon ab-import__icon--blue"},u.default.createElement("i",{className:"i i-import-contacts"})),u.default.createElement("div",{className:"ab-import__title"},this.props.local.ADDRESSBOOK_IMPORT_CONTACTS_FROM_EMAIL),u.default.createElement("div",{className:"ab-import__small-title"},this.props.local.ADDRESSBOOK_BRING_TOGETHER),u.default.createElement("div",{className:"ab-import-list"},u.default.createElement(m.GmailContactsImport,{handleImportGmail:this.props.handleImportGmail}),u.default.createElement(E.YahooContactsImport,{handleImportYahoo:this.props.handleImportYahoo}),u.default.createElement(_.HotmailContactsImport,{handleImportHotmail:this.props.handleImportHotmail}),u.default.createElement(S.OutlookContactsImport,{handleImportOutlook:this.props.handleImportOutlook}))),u.default.createElement("div",{className:"ab-import-cell"},u.default.createElement("div",{className:"ab-import__icon ab-import__icon--green"},u.default.createElement("i",{className:"i i-add-users"})),u.default.createElement("div",{className:"ab-import__title"},this.props.local.ADDRESSBOOK_CREATE_A_NEW_CONTACT),u.default.createElement("div",{className:"ab-import__small-title"},this.props.local.ADDRESSBOOK_CLICK_ON_BUTTON,"",this.props.local.ADDRESSBOOK_CLICK_ON_BUTTON_CONTACT),u.default.createElement("a",{href:"#",className:"g-btn g-btn-primary ab-import__add-contact-btn",onClick:function(t){e.handleOpenDialog(t,h.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD)}},this.props.local.ADDRESSBOOK_ADD_CONTACT)))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GmailContactsImport=void 0;var a,o=h(n(69)),r=h(n(58)),i=h(n(59)),l=h(n(70)),s=h(n(71)),d=n(1),u=h(d),c=n(8),p=n(909);function h(e){return e&&e.__esModule?e:{default:e}}t.GmailContactsImport=(0,c.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,p.detectSafari)()?this.props.handleImportGmail():setTimeout(this.props.handleImportGmail,0)}},{key:"render",value:function(){return u.default.createElement("div",{className:"ab-import-list-item gmail",onClick:this.importFromMail},u.default.createElement("div",{className:"ab-import-list-item__img"}),u.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_GMAIL_ITEM))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YahooContactsImport=void 0;var a,o=h(n(69)),r=h(n(58)),i=h(n(59)),l=h(n(70)),s=h(n(71)),d=n(1),u=h(d),c=n(8),p=n(909);function h(e){return e&&e.__esModule?e:{default:e}}t.YahooContactsImport=(0,c.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,p.detectSafari)()?this.props.handleImportYahoo():setTimeout(this.props.handleImportYahoo,0)}},{key:"render",value:function(){return u.default.createElement("div",{className:"ab-import-list-item yahoo",onClick:this.importFromMail},u.default.createElement("div",{className:"ab-import-list-item__img"}),u.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_YAHOO_ITEM))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HotmailContactsImport=void 0;var a,o=h(n(69)),r=h(n(58)),i=h(n(59)),l=h(n(70)),s=h(n(71)),d=n(1),u=h(d),c=n(8),p=n(909);function h(e){return e&&e.__esModule?e:{default:e}}t.HotmailContactsImport=(0,c.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,p.detectSafari)()?this.props.handleImportHotmail():setTimeout(this.props.handleImportHotmail,0)}},{key:"render",value:function(){return u.default.createElement("div",{className:"ab-import-list-item hotmail",onClick:this.importFromMail},u.default.createElement("div",{className:"ab-import-list-item__img"}),u.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_HOTMAIL_ITEM))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutlookContactsImport=void 0;var a,o=h(n(69)),r=h(n(58)),i=h(n(59)),l=h(n(70)),s=h(n(71)),d=n(1),u=h(d),c=n(8),p=n(909);function h(e){return e&&e.__esModule?e:{default:e}}t.OutlookContactsImport=(0,c.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,p.detectSafari)()?this.props.handleImportOutlook():setTimeout(this.props.handleImportOutlook,0)}},{key:"render",value:function(){return u.default.createElement("div",{className:"ab-import-list-item outlook",onClick:this.importFromMail},u.default.createElement("div",{className:"ab-import-list-item__img"}),u.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_OUTLOOK_ITEM))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookListContent=void 0;var a,o=v(n(192)),r=v(n(69)),i=v(n(58)),l=v(n(59)),s=v(n(70)),d=v(n(71)),u=n(1),c=v(u),p=n(8),h=n(905),f=v(n(10)),m=n(144),E=n(909),_=v(n(1090)),S=v(n(12)),g=n(906);function v(e){return e&&e.__esModule?e:{default:e}}t.AddressBookListContent=(0,p.connect)(function(e){return{contacts:e.ab.contacts,errorModalOpen:e.ab.errorModalOpen,alertModalOpen:e.ab.alertModalOpen,searchDialogOpen:e.ab.searchDialogOpen,activeRows:e.ab.activeRows,addEditContact:e.ab.addEditContact,selectMax:e.modal.options.AddressBook?e.modal.options.AddressBook.selectMax:null,fieldsMask:e.ab.fieldsMask,filterMask:e.ab.filterMask,filterToggle:e.ab.filterToggle,sendContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.receiveContactsCallback:null,singlePage:e.ab.singlePage,sortBy:e.ab.sortBy,sortDirection:e.ab.sortDirection,blockPoint:e.ab.blockPoint,viewType:e.ab.viewType}},function(e){return{actions:(0,m.bindActionCreators)({clickOnContact:g.clickOnContact,doubleClickOnContact:g.doubleClickOnContact,closeModal:g.closeModal,selectContactUp:g.selectContactUp,selectContactDown:g.selectContactDown,openDialog:g.openDialog},e)}})(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.getEmail=n.getEmail.bind(n),n.getPhone=n.getPhone.bind(n),n.getFax=n.getFax.bind(n),n.handleClick=n.handleClick.bind(n),n.handleDoubleClick=n.handleDoubleClick.bind(n),n.clearSelection=n.clearSelection.bind(n),n.handleUp=n.handleUp.bind(n),n.handleDown=n.handleDown.bind(n),n.scrollIntoActiveRow=n.scrollIntoActiveRow.bind(n),n.addArrowsController=n.addArrowsController.bind(n),n.removeArrowsController=n.removeArrowsController.bind(n),n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"scrollIntoActiveRow",value:function(e){var t=this.refs.contactsList.querySelector(".ab-item--active");t&&t.scrollIntoView(e)}},{key:"addArrowsController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_UP,this.handleUp),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DOWN,this.handleDown))}},{key:"removeArrowsController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_UP,this.handleUp),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DOWN,this.handleDown))}},{key:"componentDidMount",value:function(){this.scrollIntoActiveRow(),this.addArrowsController()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.addEditContact,a=t.errorModalOpen,o=t.alertModalOpen,r=t.searchDialogOpen,i=t.activeRows,l=t.contacts,s=t.sortDirection,d=t.scrollToTop;if((!e.addEditContact.open&&n.open||!e.errorModalOpen&&a||!e.alertModalOpen&&o||!e.searchDialogOpen&&r)&&this.removeArrowsController(),e.addEditContact.open&&!n.open){if(1===i.length)if(1!==e.activeRows.length)this.scrollIntoActiveRow();else if(i[0]!==e.activeRows[0])this.scrollIntoActiveRow();else{var u=(0,E.findContactById)(l,i[0]);if(u){var c=(0,E.findContactById)(e.contacts,i[0]);h.SYSTEM.ADDRESSBOOK_EDITABLE_FIELDS.filter(function(e){return u[e]!==c[e]}).length>0&&this.scrollIntoActiveRow()}}this.addArrowsController()}(e.errorModalOpen&&!a||e.alertModalOpen&&!o||e.searchDialogOpen&&!r)&&this.addArrowsController(),this.props.sortBy===e.sortBy&&s===e.sortDirection||!d||this.props.scrollToTop()}},{key:"componentWillUnmount",value:function(){this.removeArrowsController()}},{key:"handleUp",value:function(){var e=this.props.actions.selectContactUp;("undefined"==typeof window?"undefined":(0,o.default)(window))!==h.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.innerWidth<h.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT?(this.scrollIntoActiveRow(!1),e()):(e(),this.scrollIntoActiveRow(!0))}},{key:"handleDown",value:function(){(0,this.props.actions.selectContactDown)(),this.scrollIntoActiveRow(!1)}},{key:"getEmail",value:function(e){if(-1!==this.props.fieldsMask.indexOf(h.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)){if((0,f.default)(e[h.SYSTEM.ADDRESSBOOK_FIELD_EMAIL],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"},c.default.createElement("div",{title:"E-mail",className:"ab-item-data__email tooltipstered tooltip--top"},e.email));if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"})}if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"})}},{key:"getPhone",value:function(e){if(-1!==this.props.fieldsMask.indexOf(h.SYSTEM.ADDRESSBOOK_FIELD_PHONE)){if((0,f.default)(e[h.SYSTEM.ADDRESSBOOK_FIELD_PHONE],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"},c.default.createElement("div",{title:"Phone",className:"ab-item-data__tel tooltipstered tooltip--top"},e.phone));if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"})}if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"})}},{key:"getFax",value:function(e){if(-1!==this.props.fieldsMask.indexOf(h.SYSTEM.ADDRESSBOOK_FIELD_FAX)){if((0,f.default)(e[h.SYSTEM.ADDRESSBOOK_FIELD_FAX],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"},c.default.createElement("div",{title:"Fax",className:"ab-item-data__fax tooltipstered tooltip--top"},e.fax));if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"})}if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"})}},{key:"handleClick",value:function(e,t){if(!this.props.blockPoint){e.stopPropagation(),e.preventDefault();var n=Boolean(e.metaKey||e.ctrlKey),a=Boolean(e.shiftKey);(0,this.props.actions.clickOnContact)(t,n,a,this.props.selectMax)}}},{key:"handleDoubleClick",value:function(e,t){if(!this.props.blockPoint){e.stopPropagation(),e.preventDefault();var n=Boolean(e.metaKey||e.ctrlKey),a=Boolean(e.shiftKey);if(!n&&!a){var o=this.props.actions,r=o.doubleClickOnContact,i=o.openDialog,l=o.closeModal;if(r(t),this.props.singlePage)i(h.SYSTEM.ADDRESSBOOK_MODAL_ACTION_EDIT);else if(this.props.sendContacts){var s=this.props.contacts.find(function(e){return t===e.id});l(),this.props.sendContacts([s]),this.props.handleCloseModal()}}}}},{key:"clearSelection",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,n=t.activeRows,a=t.fieldsMask,o=t.viewType,r=t.contacts.map(function(t){var r=(0,S.default)("ab-item",{"ab-item--active":n.indexOf(t.id)>=0});return c.default.createElement(_.default,{contactClass:r,key:t.id,handleClick:e.handleClick,handleDoubleClick:e.handleDoubleClick,onMouseDown:e.clearSelection,contact:t,fieldsMask:a,viewType:o})});return c.default.createElement("div",{className:"ab-contacts-list",ref:"contactsList"},r)}}]),t}(u.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookModalAddEdit_modal=void 0;var a,o=C(n(358)),r=C(n(357)),i=C(n(69)),l=C(n(58)),s=C(n(59)),d=C(n(70)),u=C(n(71)),c=n(1),p=C(c),h=n(144),f=n(8),m=C(n(12)),E=n(905),_=n(926),S=n(906),g=n(941),v=(C(g),C(n(973))),T=n(909),O=n(974);function C(e){return e&&e.__esModule?e:{default:e}}t.AddressBookModalAddEdit_modal=(0,f.connect)(function(e){return{addEditContact:e.ab.addEditContact,fieldsValidation:e.ab.fieldsValidation,local:e.ab.local,singlePage:e.ab.singlePage,saveContactFinished:e.ab.saveContactFinished}},function(e){return{actions:(0,h.bindActionCreators)({handleChange:S.handleChange,closeDialog:S.closeDialog,addContact:S.addContact,editContact:S.editContact,handleErrorModal:S.handleErrorModal,handleSavingContact:S.handleSavingContact,handleBlockPoint:S.handleBlockPoint},e)}})(a=function(e){function t(e){(0,l.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.handleInputChange=n.handleInputChange.bind(n),n.handleCloseDialog=n.handleCloseDialog.bind(n),n.handleSaveContact=n.handleSaveContact.bind(n),n.handleCtrlA=n.handleCtrlA.bind(n),n.handleDelete=n.handleDelete.bind(n),n.handleTab=n.handleTab.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n.addContactCb=n.addContactCb.bind(n),n.editContactCb=n.editContactCb.bind(n),n.handleAddContact=n.handleAddContact.bind(n),n.handleEditContact=n.handleEditContact.bind(n),n.handleEscapeErrorModal=n.handleEscapeErrorModal.bind(n),n.handleEnterErrorModal=n.handleEnterErrorModal.bind(n),n.onErrorController=n.onErrorController.bind(n),n.offErrorController=n.offErrorController.bind(n),n.renderTitle=n.renderTitle.bind(n),n.renderButtonName=n.renderButtonName.bind(n),n.fields=[E.SYSTEM.ADDRESSBOOK_FIELD_NAME,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,E.SYSTEM.ADDRESSBOOK_FIELD_FAX],n.fieldsMobile=[E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL_MOBILE,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE_MOBILE,E.SYSTEM.ADDRESSBOOK_FIELD_FAX_MOBILE],n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.props.singlePage&&(this.refs[E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE].focus(),this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)))}},{key:"componentWillUnmount",value:function(){this.props.singlePage&&this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete))}},{key:"componentDidUpdate",value:function(e){this.props.singlePage||(!e.addEditContact.open&&this.props.addEditContact.open?(window.innerWidth>=E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT?this.refs[E.SYSTEM.ADDRESSBOOK_FIELD_NAME].focus():this.refs[E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE].focus(),this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete))):e.addEditContact.open&&!this.props.addEditContact.open&&this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete)))}},{key:"onErrorController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"offErrorController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"addContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.addContact,r=a.handleErrorModal;(0,a.handleSavingContact)(!0),e?((0,g.handleErrorGenerator)(this.props.local,_.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,T.windowFocus)()},function(){n.offErrorController(),r(!1),(0,T.windowFocus)()}),this.onErrorController()):Number(t.id)>0?o(t):((0,g.handleErrorGenerator)(this.props.local,_.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT_DOUBLE,this.props.handleError,function(){n.offErrorController(),r(!1),(0,T.windowFocus)()},function(){n.offErrorController(),r(!1),(0,T.windowFocus)()}),this.onErrorController())}},{key:"handleAddContact",value:function(e){this.props.apiRest.handleAddContact(e,this.addContactCb)}},{key:"editContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.editContact,r=a.handleErrorModal;(0,a.handleSavingContact)(!0),e?((0,g.handleErrorGenerator)(this.props.local,_.ERROR_TYPES.ADDRESSBOOK_EDIT_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,T.windowFocus)()},function(){n.offErrorController(),r(!1),(0,T.windowFocus)()}),this.onErrorController()):o(e,t)}},{key:"handleEditContact",value:function(e){this.props.apiRest.handleEditContact(e,this.editContactCb)}},{key:"handleEscapeErrorModal",value:function(){this.offErrorController(),(0,T.windowFocus)()}},{key:"handleEnterErrorModal",value:function(){this.props.closeModal(this.props.errorModalName),this.offErrorController(),(0,T.windowFocus)()}},{key:"handleCtrlA",value:function(){-1===this.fields.indexOf(document.activeElement.name)&&-1===this.fieldsMobile.indexOf(document.activeElement.name)||document.activeElement.select()}},{key:"handleDelete",value:function(e){var t=document.activeElement,n=t.value.split(""),a=(0,r.default)({selectionStart:t.selectionStart});if((-1!==this.fields.indexOf(t.name)||-1!==this.fieldsMobile.indexOf(t.name))&&t.selectionStart<t.value.length){if(t.selectionStart===t.selectionEnd)t.value=[].concat((0,o.default)(n.slice(0,t.selectionStart)),(0,o.default)(n.slice(t.selectionStart+1))).join(""),t.selectionStart=a.selectionStart,t.selectionEnd=a.selectionStart;else{var i=document.activeElement.selectionEnd-document.activeElement.selectionStart;t.value=[].concat((0,o.default)(n.slice(0,t.selectionStart)),(0,o.default)(n.slice(t.selectionStart+i))).join(""),t.selectionStart=a.selectionStart,t.selectionEnd=a.selectionStart}-1!==t.name.indexOf(E.SYSTEM.ADDRESSBOOK_FIELD_MOBILE_PREFIX)?this.handleInputChange(e,this.fields[this.fieldsMobile.indexOf(t.name)]):this.handleInputChange(e,t.name)}}},{key:"handleTab",value:function(e){if(this.props.addEditContact.open&&window.innerWidth>=E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var t=this.fields.indexOf(document.activeElement.name);e.shiftKey?t>0&&this.refs[this.fields[t-1]].focus():t<this.fields.length-1&&this.refs[this.fields[t+1]].focus()}else if(this.props.addEditContact.open&&window.innerWidth<E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var n=this.fieldsMobile.indexOf(document.activeElement.name);e.shiftKey?n>0&&this.refs[this.fieldsMobile[n-1]].focus():n<this.fieldsMobile.length-1&&this.refs[this.fieldsMobile[n+1]].focus()}}},{key:"handleEnter",value:function(e){if(this.props.addEditContact.open&&window.innerWidth>=E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var t=this.fields.indexOf(document.activeElement.name);t<this.fields.length-1?this.refs[this.fields[t+1]].focus():this.handleSaveContact(e)}else if(this.props.addEditContact.open&&window.innerWidth<E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var n=this.fieldsMobile.indexOf(document.activeElement.name);n<this.fieldsMobile.length-1?this.refs[this.fieldsMobile[n+1]].focus():this.handleSaveContact(e)}}},{key:"handleEscape",value:function(e){this.handleCloseDialog(e)}},{key:"handleCloseDialog",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props.actions,n=t.closeDialog,a=t.handleBlockPoint;n(),a(!0),(0,T.windowFocus)(),setTimeout(function(){a(!1)},E.SYSTEM.ADDRESSBOOK_BLOCK_POINT_DELAY)}},{key:"handleInputChange",value:function(e,t){var n=e.target.value,a=void 0;switch(t){case E.SYSTEM.ADDRESSBOOK_FIELD_NAME:a=E.SYSTEM.ADDRESSBOOK_REGEXP_NAME.test(n);break;case E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL:a=(0,O.validateEmail)(n);break;default:a=E.SYSTEM.ADDRESSBOOK_REGEXP_PHONE.test(n)}a=0===n.length||a,(0,this.props.actions.handleChange)(n,t,a)}},{key:"handleSaveContact",value:function(e){(e.preventDefault(),this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&(this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax&&this.props.saveContactFinished&&((0,this.props.actions.handleSavingContact)(!1),this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.handleAddContact(this.props.addEditContact):this.handleEditContact(this.props.addEditContact),(0,T.windowFocus)()))}},{key:"renderTitle",value:function(){return this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_CONTACT_TITLE:this.props.local.ADDRESSBOOK_EDIT_CONTACT_TITLE}},{key:"renderButtonName",value:function(){return this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_BUTTON_DIALOG:this.props.local.ADDRESSBOOK_EDIT_BUTTON_DIALOG}},{key:"render",value:function(){var e=this,t=(0,m.default)("add-contact-wrap",{open:this.props.addEditContact.open&&window.innerWidth>=E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT}),n=(0,m.default)("ab-dialog-wrap ab-dialog-wrap--add-contact",{open:this.props.addEditContact.open&&window.innerWidth<E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT}),a=(0,m.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.name}),o=(0,m.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.email}),r=(0,m.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.phone}),i=(0,m.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.fax}),l=(0,m.default)("g-btn g-btn-primary g-btn-sm",{disabled:!((this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax)}),s=v.default.defaultInputMaxLength;return p.default.createElement("div",{className:"add-edit-contact-dlg"},p.default.createElement("div",{className:t},p.default.createElement("div",{className:"add-contact"},p.default.createElement("div",{className:"add-contact__title"},this.renderTitle()),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-user"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_NAME,name:E.SYSTEM.ADDRESSBOOK_FIELD_NAME,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,className:a,value:this.props.addEditContact.name,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_NAME)},maxLength:s})),p.default.createElement("div",{className:"g-form-list"},p.default.createElement("div",{className:"g-form-group g-form-group--email"},p.default.createElement("label",{className:"input-icon i i-email"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,name:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,className:o,value:this.props.addEditContact.email,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)},maxLength:s})),p.default.createElement("div",{className:"g-form-group g-form-group--tel"},p.default.createElement("label",{className:"input-icon i i-phone"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,name:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,className:r,value:this.props.addEditContact.phone,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE)}})),p.default.createElement("div",{className:"g-form-group g-form-group--fax"},p.default.createElement("label",{className:"input-icon i i-fax"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_FAX,name:E.SYSTEM.ADDRESSBOOK_FIELD_FAX,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_FAX,className:i,value:this.props.addEditContact.fax,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_FAX)}}))),p.default.createElement("div",{className:"add-contact__footer"},p.default.createElement("button",{type:"button","data-ab-dialog":"btn-add-contact-cancel",className:"g-btn g-btn-secondary g-btn-sm",onClick:this.handleCloseDialog},this.props.local.ADDRESSBOOK_BUTTON_CANCEL),p.default.createElement("button",{type:"button",className:l,onClick:this.handleSaveContact},this.renderButtonName())))),p.default.createElement("div",{className:n},p.default.createElement("div",{className:"ab-dialog"},p.default.createElement("div",{className:"ab-dialog__content"},p.default.createElement("div",{className:"ab-dialog__title"},this.props.local.ADDRESSBOOK_ADD_EDIT_CONTACT),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-user"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE,name:E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,className:a,value:this.props.addEditContact.name,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_NAME)},maxLength:s})),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-email"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL_MOBILE,name:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,className:o,value:this.props.addEditContact.email,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)},maxLength:s})),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-phone"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE_MOBILE,name:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,className:r,value:this.props.addEditContact.phone,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE)}})),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-fax"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_FAX_MOBILE,name:E.SYSTEM.ADDRESSBOOK_FIELD_FAX_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_FAX,className:i,value:this.props.addEditContact.fax,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_FAX)}}))),p.default.createElement("div",{className:"ab-dialog__footer"},p.default.createElement("button",{type:"button","data-ab-dialog":"btn-add-contact-cancel",className:"g-btn g-btn-secondary g-btn-sm",onClick:this.handleCloseDialog},this.props.local.ADDRESSBOOK_BUTTON_CANCEL),p.default.createElement("button",{type:"button",className:l,onClick:this.handleSaveContact},this.renderButtonName())))))}}]),t}(c.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={defaultInputMaxLength:80}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;t.validateEmail=function(e){return a.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookModalSearch=void 0;var a,o=_(n(69)),r=_(n(58)),i=_(n(59)),l=_(n(70)),s=_(n(71)),d=n(1),u=_(d),c=n(8),p=_(n(12)),h=n(909),f=n(144),m=n(905),E=n(906);function _(e){return e&&e.__esModule?e:{default:e}}t.AddressBookModalSearch=(0,c.connect)(function(e){return{searchBy:e.ab.searchBy,fieldsMask:e.ab.fieldsMask,singlePage:e.ab.singlePage,searchDialogOpen:e.ab.searchDialogOpen,local:e.ab.local}},function(e){return{actions:(0,f.bindActionCreators)({closeDialog:E.closeDialog,searchContacts:E.searchContacts,clearSearch:E.clearSearch,searchUpdate:E.searchUpdate},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.handleSearch=n.handleSearch.bind(n),n.handleCloseDialog=n.handleCloseDialog.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidUpdate",value:function(e){!e.searchDialogOpen&&this.props.searchDialogOpen?(this.refs[m.SYSTEM.ADDRESSBOOK_FIELD_SEARCH].focus(),this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape))):e.searchDialogOpen&&!this.props.searchDialogOpen&&this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete))}},{key:"handleEnter",value:function(){this.handleSearch()}},{key:"handleEscape",value:function(e){this.handleCloseDialog(e)}},{key:"handleCloseDialog",value:function(e){e.preventDefault();var t=this.props.actions,n=t.closeDialog,a=t.clearSearch;n(),a(),(0,h.windowFocus)()}},{key:"handleChange",value:function(e){var t=this.props.actions,n=t.searchUpdate,a=t.clearSearch;""!==e.target.value?n(e.target.value):a()}},{key:"handleSearch",value:function(){var e=this.props.actions,t=e.searchContacts,n=e.closeDialog;""!==this.props.searchBy&&t(this.props.searchBy,this.props.fieldsMask),n(),(0,h.windowFocus)()}},{key:"render",value:function(){var e=this,t=(0,p.default)("ab-dialog-wrap ab-dialog-wrap--search",{open:this.props.searchDialogOpen});return u.default.createElement("div",{className:t},u.default.createElement("div",{className:"ab-dialog"},u.default.createElement("div",{className:"ab-dialog__content"},u.default.createElement("div",{className:"ab-dialog__title"},"Search Contacts"),u.default.createElement("div",{className:"g-form-group"},u.default.createElement("label",{className:"input-icon i i-search"}),u.default.createElement("input",{ref:m.SYSTEM.ADDRESSBOOK_FIELD_SEARCH,name:m.SYSTEM.ADDRESSBOOK_FIELD_SEARCH,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_SEARCH,id:"ab-dialog-search",className:"form-input",value:this.props.searchBy,onChange:function(t){e.handleChange(t)}}))),u.default.createElement("div",{className:"ab-dialog__footer"},u.default.createElement("button",{type:"button","data-ab-dialog":"btn-search-cancel",className:"g-btn g-btn-secondary g-btn-sm",onClick:this.handleCloseDialog},"Cancel"),u.default.createElement("button",{type:"button",className:"g-btn g-btn-primary g-btn-sm",onClick:this.handleSearch},"Search"))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookBtnAdd=void 0;var a,o=m(n(69)),r=m(n(58)),i=m(n(59)),l=m(n(70)),s=m(n(71)),d=n(1),u=m(d),c=n(8),p=n(144),h=n(905),f=n(906);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookBtnAdd=(0,c.connect)(function(e){return{addEditContact:e.ab.addEditContact,local:e.ab.local}},function(e){return{actions:(0,p.bindActionCreators)({openDialog:f.openDialog},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleOpenDialog=n.handleOpenDialog.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"handleOpenDialog",value:function(e,t){e.preventDefault(),(0,this.props.actions.openDialog)(t)}},{key:"render",value:function(){var e=this;return u.default.createElement("button",{type:"button",className:"g-btn g-btn-sm g-btn-empty g-btn--add",onClick:function(t){e.handleOpenDialog(t,h.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD)}},u.default.createElement("i",{className:"i i-add"}),u.default.createElement("span",null,this.props.local.ADDRESSBOOK_BUTTON_ADD))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookBtnEdit=void 0;var a,o=g(n(69)),r=g(n(58)),i=g(n(59)),l=g(n(70)),s=g(n(71)),d=n(1),u=g(d),c=n(8),p=n(927),h=g(p),f=n(144),m=g(n(12)),E=n(905),_=n(909),S=n(906);function g(e){return e&&e.__esModule?e:{default:e}}t.AddressBookBtnEdit=(0,c.connect)(function(e){return{mode:e.ab.mode,contacts:e.ab.contacts,contactsBackup:e.ab.contactsBackup,activeRows:e.ab.activeRows,editIsOpen:e.ab.editIsOpen,local:e.ab.local,alertModalFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.alertModal:null,singlePage:e.ab.singlePage,viewType:e.ab.viewType,alertModalOpen:e.ab.alertModalOpen}},function(e){return{actions:(0,f.bindActionCreators)({dropdownToggle:S.dropdownToggle,selectAllContacts:S.selectAllContacts,unselectAllContacts:S.unselectAllContacts,deleteSelectedContacts:S.deleteSelectedContacts,openDialog:S.openDialog,handleAlertModal:S.handleAlertModal},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleDropdownToggle=n.handleDropdownToggle.bind(n),n.handleAll=n.handleAll.bind(n),n.deleteContact=n.deleteContact.bind(n),n.handleEscape=n.handleEscape.bind(n),n.handleEnter=n.handleEnter.bind(n),n.onAlertController=n.onAlertController.bind(n),n.offAlertController=n.offAlertController.bind(n),n.handleOpenDialog=n.handleOpenDialog.bind(n),n.openApproveModal=n.openApproveModal.bind(n),n.renderSelectAll=n.renderSelectAll.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"handleDropdownToggle",value:function(e){(0,this.props.actions.dropdownToggle)(E.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_EDIT,e)}},{key:"handleAll",value:function(){var e=this.props.actions,t=e.selectAllContacts,n=e.unselectAllContacts;this.props.contacts.length===this.props.activeRows.length?n():t()}},{key:"handleOpenDialog",value:function(e,t){this.refs.dropdown.hide(),e.preventDefault();var n=this.props.actions.openDialog;1===this.props.activeRows.length&&n(t)}},{key:"deleteContact",value:function(){this.refs.dropdown.hide(),this.props.activeRows.length!==this.props.contactsBackup.length?this.props.handleDeleteContact(this.props.activeRows):this.props.handleDeleteAllContacts()}},{key:"handleEscape",value:function(){this.props.alertModalOpen&&(this.refs.dropdown.hide(),this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController(),(0,this.props.actions.handleAlertModal)(!1),(0,_.windowFocus)())}},{key:"handleEnter",value:function(){this.props.alertModalOpen&&(this.deleteContact(),this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController(),(0,this.props.actions.handleAlertModal)(!1),(0,_.windowFocus)())}},{key:"onAlertController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter))}},{key:"offAlertController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter))}},{key:"openApproveModal",value:function(){var e=this;if(this.props.activeRows.length>0)if(this.props.alertModalFromOptions||this.props.alertModal)if(this.props.openModal){var t=this.props.actions.handleAlertModal;t(!0),this.props.openModal(this.props.alertModalName,{modalType:"warning",title:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_TITLE,content:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_CONTENT,btnConfirmText:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONFIRMTEXT,showCloseButton:!0,btnConfirmCallback:function(){e.deleteContact(),e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,_.windowFocus)()},btnCancelText:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONCELTEXT,btnCancelCallback:function(){e.refs.dropdown.hide(),e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,_.windowFocus)()},confirm:!0,newStyle:!0}),this.onAlertController()}else this.deleteContact();else this.deleteContact()}},{key:"renderSelectAll",value:function(e){if(this.props.singlePage)return u.default.createElement("div",{className:e,onClick:this.handleAll},this.props.local.ADDRESSBOOK_SELECT_ALL_ITEM)}},{key:"render",value:function(){var e=this,t=(0,m.default)({"g-dropdown-wrap":!0,"g-dropdown-wrap--left":!0,"g-dropdown-wrap--up":!this.props.singlePage||this.props.viewType===E.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE,"g-dropdown-wrap--down":this.props.singlePage&&this.props.viewType===E.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE,open:this.props.editIsOpen}),n=(0,m.default)("g-ibtn i-delete",{disabled:!this.props.activeRows.length>0}),a=(0,m.default)("g-ibtn i-edit",{disabled:1!==this.props.activeRows.length}),o=(0,m.default)("g-ibtn i-select-all",{disabled:this.props.mode.type===E.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL});return u.default.createElement(h.default,{className:t,ref:"dropdown",onShow:function(){e.handleDropdownToggle(E.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW)},onHide:function(){e.handleDropdownToggle(E.SYSTEM.ADDRESSBOOK_DROPDOWN_HIDE)}},u.default.createElement(p.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty"},u.default.createElement("i",{className:"i i-settings"}),u.default.createElement("span",null,this.props.local.ADDRESSBOOK_BUTTON_EDIT)),u.default.createElement(p.DropdownContent,{className:"g-dropdown-popup"},u.default.createElement("div",{className:"g-dropdown-popup__triangle"}),u.default.createElement("div",{className:"g-dropdown-popup-list"},u.default.createElement("div",{className:a,onClick:function(t){e.handleOpenDialog(t,E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_EDIT)}},this.props.local.ADDRESSBOOK_EDIT_CONTACT),u.default.createElement("div",{className:n,onClick:this.openApproveModal},this.props.local.ADDRESSBOOK_DELETE_CONTACT),this.renderSelectAll(o))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(1),r=s(o),i=s(n(942)),l=s(n(12));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=o=d(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.render=function(){var e=o.props,t=e.children,n=e.className,i=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["children","className"]),s=(0,l.default)("dropdown__trigger",n);return r.default.createElement("a",a({className:s},i,{href:"#dropdown-trigger"}),t)},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),t}();u.defaultProps={className:""},u.propTypes={children:i.default.node,className:i.default.string},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookBtnImport=void 0;var a,o=O(n(69)),r=O(n(58)),i=O(n(59)),l=O(n(70)),s=O(n(71)),d=n(1),u=O(d),c=n(8),p=n(927),h=O(p),f=n(144),m=O(n(12)),E=n(905),_=n(906),S=n(967),g=n(968),v=n(969),T=n(970);function O(e){return e&&e.__esModule?e:{default:e}}t.AddressBookBtnImport=(0,c.connect)(function(e){return{importIsOpen:e.ab.importIsOpen,local:e.ab.local,singlePage:e.ab.singlePage,loaded:e.ab.loaded,viewType:e.ab.viewType}},function(e){return{actions:(0,f.bindActionCreators)({dropdownToggle:_.dropdownToggle},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleDropdownToggle=n.handleDropdownToggle.bind(n),n.handleDropdownClose=n.handleDropdownClose.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidUpdate",value:function(e){!e.loaded&&this.props.loaded&&this.props.importContacts&&this.refs.dropdown.show()}},{key:"handleDropdownToggle",value:function(e){(0,this.props.actions.dropdownToggle)(E.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_IMPORT,e)}},{key:"handleDropdownClose",value:function(){this.refs.dropdown.hide()}},{key:"render",value:function(){var e=this,t=(0,m.default)({"g-dropdown-wrap":!0,"g-dropdown-wrap--left":!0,"g-dropdown-wrap--up":!this.props.singlePage||this.props.viewType===E.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE,"g-dropdown-wrap--down":this.props.singlePage&&this.props.viewType===E.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE,"g-dropdown-wrap--import":!0,open:this.props.importIsOpen});return u.default.createElement(h.default,{className:t,ref:"dropdown",onShow:function(){e.handleDropdownToggle(E.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW)},onHide:function(){e.handleDropdownToggle(E.SYSTEM.ADDRESSBOOK_DROPDOWN_HIDE)}},u.default.createElement(p.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty"},u.default.createElement("i",{className:"i i-import-contacts"}),u.default.createElement("span",null,this.props.local.ADDRESSBOOK_BUTTON_IMPORT_CONTACTS)),u.default.createElement(p.DropdownContent,{className:"g-dropdown-popup"},u.default.createElement("div",{className:"g-dropdown-popup__triangle"}),u.default.createElement("div",{className:"g-dropdown-popup-list"},u.default.createElement("div",{className:"ab-import-list"},u.default.createElement(S.GmailContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportGmail:this.props.handleImportGmail}),u.default.createElement(g.YahooContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportYahoo:this.props.handleImportYahoo}),u.default.createElement(v.HotmailContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportHotmail:this.props.handleImportHotmail}),u.default.createElement(T.OutlookContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportOutlook:this.props.handleImportOutlook})))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookMobileSearchBtn=void 0;var a,o=m(n(69)),r=m(n(58)),i=m(n(59)),l=m(n(70)),s=m(n(71)),d=n(1),u=m(d),c=n(8),p=n(144),h=n(905),f=n(906);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookMobileSearchBtn=(0,c.connect)(function(e){return{local:e.ab.local}},function(e){return{actions:(0,p.bindActionCreators)({openDialog:f.openDialog,clearSearch:f.clearSearch},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleOpenDialog=n.handleOpenDialog.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"handleOpenDialog",value:function(e,t){e.preventDefault();var n=this.props.actions,a=n.openDialog;(0,n.clearSearch)(),a(t)}},{key:"render",value:function(){var e=this;return u.default.createElement("button",{type:"button",className:"g-btn g-btn-sm g-btn-empty g-btn--search",onClick:function(t){e.handleOpenDialog(t,h.SYSTEM.ADDRESSBOOK_MODAL_SEARCH)}},u.default.createElement("i",{className:"i i-search"}))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var a,o=h(n(69)),r=h(n(58)),i=h(n(59)),l=h(n(70)),s=h(n(71)),d=n(1),u=h(d),c=n(8),p=h(n(12));function h(e){return e&&e.__esModule?e:{default:e}}t.Loader=(0,c.connect)(function(e){return{loaded:e.ab.loaded,loaderMessage:e.ab.local.ADDRESSBOOK_LOADING_CONTACTS}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.renderMessage=n.renderMessage.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"renderMessage",value:function(e){if(e)return u.default.createElement("div",{className:"g-loader__label"},e)}},{key:"render",value:function(){var e=(0,p.default)("",{"":!this.props.loaded});return u.default.createElement("div",{className:e},u.default.createElement("div",{className:"g-loader"},u.default.createElement("div",{className:"g-loader__wrapper"},u.default.createElement("div",{className:"g-loader__layer"},u.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--left"},u.default.createElement("div",{className:"g-loader__circle"})),u.default.createElement("div",{className:"g-loader__gap-patch"},u.default.createElement("div",{className:"g-loader__circle"})),u.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--right"},u.default.createElement("div",{className:"g-loader__circle"})))),u.default.createElement("div",{className:"g-loader__label"},this.renderMessage(this.props.loaderMessage))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(1100)),o=s(n(365)),r=n(508),i=n(920),l=s(n(928));function s(e){return e&&e.__esModule?e:{default:e}}t.default={controllers:a.default,controllerMiddleware:o.default,inputHandler:r.inputHandler,SYSTEM:i.SYSTEM,controllerActions:l.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(58)),o=i(n(59)),r=n(920);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,a.default)(this,e),this.on=this.on.bind(this),this.off=this.off.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleClick=this.handleClick.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleScroll=this.handleScroll.bind(this)}return(0,o.default)(e,[{key:"on",value:function(){document.body.addEventListener(r.SYSTEM.EVENT_KEY_DOWN,this.handleKeyDown),document.body.addEventListener(r.SYSTEM.EVENT_KEY_UP,this.handleKeyUp),document.addEventListener(r.SYSTEM.EVENT_CLICK,this.handleClick),document.addEventListener(r.SYSTEM.EVENT_TOUCH_START,this.handleTouchStart),document.addEventListener(r.SYSTEM.EVENT_SCROLL,this.handleScroll)}},{key:"off",value:function(){document.body.removeEventListener(r.SYSTEM.EVENT_KEY_DOWN,this.handleKeyDown),document.body.removeEventListener(r.SYSTEM.EVENT_KEY_UP,this.handleKeyUp),document.removeEventListener(r.SYSTEM.EVENT_CLICK,this.handleClick),document.removeEventListener(r.SYSTEM.EVENT_TOUCH_START,this.handleTouchStart),document.removeEventListener(r.SYSTEM.EVENT_SCROLL,this.handleScroll)}},{key:"handleKeyDown",value:function(e){}},{key:"handleKeyUp",value:function(e){}},{key:"handleClick",value:function(e){}},{key:"handleTouchStart",value:function(e){}},{key:"handleScroll",value:function(e){}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(358)),o=u(n(359)),r=u(n(357));t.ab=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i.actionTypes.SET_LOCAL:return(0,r.default)({},e,{local:t.local});case i.actionTypes.SET_SINGLE_PAGE:return(0,r.default)({},e,{singlePage:!0});case i.actionTypes.SET_FIELDS_MASK:return(0,r.default)({},e,{fieldsMask:t.fieldsMask});case i.actionTypes.SET_ACTIVE_ROWS:return(0,r.default)({},e,{activeRows:t.activeRows,activeRowsBackup:t.activeRows});case i.actionTypes.SET_FILTER_MASK:return(0,r.default)({},e,{filterMask:t.filterMask});case i.actionTypes.SET_FILTER_TOGGLE:return(0,r.default)({},e,{filterToggle:t.filterToggle});case i.actionTypes.SET_CONTACTS:return(0,r.default)({},e,{contacts:t.contacts.sort((0,l.compare)(e.sortBy,e.sortDirection)),contactsBackup:t.contacts,loaded:!0,mode:(0,r.default)({},e.mode,{type:t.contacts.length>0?d.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL})});case i.actionTypes.SET_INITIAL_MODE:return(0,r.default)({},e,{loaded:!0,mode:(0,r.default)({},e.mode,{type:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL})});case i.actionTypes.CLOSE:return(0,r.default)({},e,{contacts:e.contactsBackup,loaded:!1,addEditContact:(0,r.default)({},(0,s.makeInitialForm)()),fieldsValidation:(0,r.default)({},(0,s.makeInitialValidation)()),activeRows:e.activeRowsBackup,searchBy:""});case i.actionTypes.OPEN_DIALOG:switch(t.contactActionType){case d.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD:return(0,r.default)({},e,{addEditContact:(0,r.default)({},e.addEditContact,{actionType:t.contactActionType,open:!0})});case d.SYSTEM.ADDRESSBOOK_MODAL_ACTION_EDIT:return(0,r.default)({},e,{addEditContact:(0,r.default)({},(0,s.makeEditForm)(e.contacts,e.activeRows,t.contactActionType))});case d.SYSTEM.ADDRESSBOOK_MODAL_SEARCH:return(0,r.default)({},e,{searchDialogOpen:!0});default:return e}case i.actionTypes.CLOSE_DIALOG:return(0,r.default)({},e,{addEditContact:(0,r.default)({},(0,s.makeInitialForm)()),fieldsValidation:(0,r.default)({},(0,s.makeInitialValidation)()),searchDialogOpen:!1});case i.actionTypes.HANDLE_CHANGE:return(0,r.default)({},e,{addEditContact:(0,r.default)({},e.addEditContact,(0,o.default)({},t.inputType,t.value)),fieldsValidation:(0,r.default)({},e.fieldsValidation,(0,o.default)({},t.inputType,t.isCorrect))});case i.actionTypes.ADD_CONTACT:var n=(0,s.addContact)(e.addEditContact,t.newContact.id,e.contacts),u=(0,s.addContact)(e.addEditContact,t.newContact.id,e.contactsBackup);return(0,r.default)({},e,{contacts:n.sort((0,l.compare)(e.sortBy,e.sortDirection)),contactsBackup:u,mode:(0,r.default)({},e.mode,{type:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST}),addEditContact:(0,r.default)({},(0,s.makeInitialForm)()),fieldsValidation:(0,r.default)({},(0,s.makeInitialValidation)()),activeRows:[t.newContact.id],activeRowsBackup:[t.newContact.id]});case i.actionTypes.CLICK_ROW:return(0,r.default)({},e,{activeRows:[t.contactID],activeRowsBackup:[t.contactID]});case i.actionTypes.CLICK_ROW_CTRL:var p=e.activeRows.indexOf(t.contactID);return p>=0?(0,r.default)({},e,{activeRows:[].concat((0,a.default)(e.activeRows.slice(0,p)),(0,a.default)(e.activeRows.slice(p+1))),activeRowsBackup:[].concat((0,a.default)(e.activeRows.slice(0,p)),(0,a.default)(e.activeRows.slice(p+1)))}):(0,s.acceptCheckSelectMax)(t.selectMax,e.activeRows)?(0,r.default)({},e,{activeRows:[].concat((0,a.default)(e.activeRows),[t.contactID]),activeRowsBackup:[].concat((0,a.default)(e.activeRows),[t.contactID])}):e;case i.actionTypes.CLICK_ROW_SHIFT:var h=(0,l.uniqArr)((0,s.selectedListWithShift)(e.activeRows,t.contactID,e.contacts,t.selectMax));return(0,s.acceptSelectMax)(t.selectMax)?(0,s.checkSelectMax)(t.selectMax,e.activeRows)?(0,r.default)({},e,{activeRows:(0,s.activeListMax)(h,Number(t.selectMax),e.contacts,t.contactID,e.activeRows),activeRowsBackup:(0,s.activeListMax)(h,Number(t.selectMax),e.contacts,t.contactID,e.activeRows)}):e:(0,r.default)({},e,{activeRows:h,activeRowsBackup:h});case i.actionTypes.DOUBLE_CLICK_ROW:return(0,r.default)({},e,{activeRows:[t.contactID],activeRowsBackup:[t.contactID]});case i.actionTypes.SELECT_ALL:var f=e.contacts.map(function(e){return e.id});return(0,r.default)({},e,{activeRows:[].concat((0,a.default)(f)),activeRowsBackup:[].concat((0,a.default)(f))});case i.actionTypes.UNSELECT_ALL:return(0,r.default)({},e,{activeRows:[],activeRowsBackup:[]});case i.actionTypes.SELECT_CONTACT_DOWN:if(0===e.activeRows.length||e.activeRows.length===e.contacts.length)return(0,r.default)({},e,{activeRows:[e.contacts[0].id],activeRowsBackup:[e.contacts[0].id]});var m=(0,s.findActivePlace)(e.contacts,e.activeRows,d.SYSTEM.ADDRESSBOOK_MATH_MAX);return m+1<e.contacts.length?(0,r.default)({},e,{activeRows:[e.contacts[m+1].id],activeRowsBackup:[e.contacts[m+1].id]}):e;case i.actionTypes.SELECT_CONTACT_UP:if(0===e.activeRows.length||e.activeRows.length===e.contacts.length)return(0,r.default)({},e,{activeRows:[e.contacts[0].id]});var E=(0,s.findActivePlace)(e.contacts,e.activeRows,d.SYSTEM.ADDRESSBOOK_MATH_MIN);return E>0?(0,r.default)({},e,{activeRows:[e.contacts[E-1].id]}):e;case i.actionTypes.DELETE_SELECTED:return(0,r.default)({},e,{contacts:(0,s.deleteSelected)(e.contacts,e.activeRows),contactsBackup:(0,s.deleteSelected)(e.contactsBackup,e.activeRows),mode:(0,r.default)({},e.mode,{type:e.contactsBackup.length>0?d.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL}),activeRows:[],activeRowsBackup:[]});case i.actionTypes.DELETE_ALL:return(0,r.default)({},e,{contacts:[],contactsBackup:[],mode:(0,r.default)({},e.mode,{type:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL}),activeRows:[],activeRowsBackup:[]});case i.actionTypes.EDIT_CONTACT:var _=(0,s.updateContact)(e.addEditContact,e.contacts),S=(0,s.updateContact)(e.addEditContact,e.contactsBackup);return(0,r.default)({},e,{contacts:_.sort((0,l.compare)(e.sortBy,e.sortDirection)),contactsBackup:S,addEditContact:(0,r.default)({},(0,s.makeInitialForm)()),fieldsValidation:(0,r.default)({},(0,s.makeInitialValidation)())});case i.actionTypes.SORT_CONTACTS:return(0,r.default)({},e,{contacts:[].concat((0,a.default)(e.contacts)).sort((0,l.compare)(t.sortBy,t.sortDirection)),contactsBackup:[].concat((0,a.default)(e.contactsBackup)).sort((0,l.compare)(t.sortBy,t.sortDirection)),sortBy:t.sortBy,sortDirection:t.sortDirection});case i.actionTypes.SEARCH_CONTACTS:var g=(0,s.filterContacts)(e.contactsBackup,t.searchBy,t.fieldsMask,d.SYSTEM.ADDRESSBOOK_FIELD_NAME),v=(0,s.filterActiveRows)(g,e.activeRowsBackup);return(0,r.default)({},e,{contacts:g.sort((0,l.compare)(e.sortBy,e.sortDirection)),activeRows:v,searchBy:t.searchBy});case i.actionTypes.SEARCH_UPDATE:return(0,r.default)({},e,{searchBy:t.searchBy});case i.actionTypes.CLEAR_SEARCH:return(0,r.default)({},e,{contacts:e.contactsBackup.sort((0,l.compare)(e.sortBy,e.sortDirection)),activeRows:e.activeRowsBackup,searchBy:""});case i.actionTypes.TOGGLE_IMPORT:return(0,r.default)({},e,{importIsOpen:t.dropdownToggle===d.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW});case i.actionTypes.TOGGLE_EDIT:return(0,r.default)({},e,{editIsOpen:t.dropdownToggle===d.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW});case i.actionTypes.ON_RESIZE_WINDOW:return(0,r.default)({},e,{viewType:t.viewType});case i.actionTypes.HANDLE_ERROR_MODAL:return(0,r.default)({},e,{errorModalOpen:t.errorModalOpen});case i.actionTypes.HANDLE_ALERT_MODAL:return(0,r.default)({},e,{alertModalOpen:t.alertModalOpen});case i.actionTypes.WS_CONNECTION_ON:return(0,r.default)({},e,{wsConnectionOn:!0});case i.actionTypes.HANDLE_SAVING_CONTACT:return(0,r.default)({},e,{saveContactFinished:t.saved});case i.actionTypes.HANDLE_SEARCH_FIELD:return(0,r.default)({},e,{searchFieldShow:t.handler||!e.searchFieldShow});case i.actionTypes.HANDLE_BLOCK_POINT:return(0,r.default)({},e,{blockPoint:t.handler});case i.actionTypes.SET_WS_CONNECT:return(0,r.default)({},e,{connect:t.connect,baseUrl:t.baseUrl});default:return e}};var i=n(939),l=n(909),s=n(1105),d=n(905);function u(e){return e&&e.__esModule?e:{default:e}}var c={local:null,mode:{type:null},fieldsMaskInternal:[d.SYSTEM.ADDRESSBOOK_FIELD_NAME,d.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,d.SYSTEM.ADDRESSBOOK_FIELD_PHONE,d.SYSTEM.ADDRESSBOOK_FIELD_FAX],fieldsMask:null,filterMaskInternalOr:[d.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,d.SYSTEM.ADDRESSBOOK_FIELD_PHONE,d.SYSTEM.ADDRESSBOOK_FIELD_FAX],filterMaskInternalAnd:[],filterMask:null,filterToggleInternal:d.SYSTEM.ADDRESSBOOK_FILTER_TOGGLE_OR,filterToggle:null,contacts:[],contactsBackup:[],loaded:!1,addEditContact:{open:!1,actionType:"",name:"",email:"",phone:"",fax:"",picture:"https://devapp.pdffiller.com/img/header/icon_user.svg",external:!0},fieldsValidation:{name:!0,email:!0,phone:!0,fax:!0},editIsOpen:!1,activeRows:[],activeRowsBackup:[],sortBy:d.SYSTEM.ADDRESSBOOK_FIELD_NAME,sortDirection:d.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ,sortIsOpen:!1,searchBy:"",searchDialogOpen:!1,importIsOpen:!1,serverReplyStatus:null,singlePage:!1,viewType:null,errorModalOpen:!1,alertModalOpen:!1,wsConnectionOn:!1,saveContactFinished:!0,searchFieldShow:!1,blockPoint:!1,connect:null,baseUrl:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maskMiddleware=void 0;var a=p(n(357)),o=p(n(192)),r=p(n(1106)),i=n(1107),l=n(939),s=n(909),d=n(905),u=n(906),c=n(1114);function p(e){return e&&e.__esModule?e:{default:e}}t.maskMiddleware=function(e){return function(t){return function(n){var p=e.getState();if(n){switch(n.type){case l.actionTypes.INIT_CUSTOM:return new c.apiRestMediator({baseUrl:n.baseUrl,appKey:n.appKey,userCredentials:n.userCredentials});case l.actionTypes.WS_CONNECTION_ON:if(!p.ab.wsConnectionOn){var h=void 0;(h=p.ab.connect?new i.WsService(p.ab.connect.host,p.ab.connect.port,p.ab.connect.userId):new i.WsService(n.wsConnectObj.connect.host,n.wsConnectObj.connect.port,n.wsConnectObj.connect.userId)).on(d.SYSTEM.ADDRESSBOOK_MMC_TYPE_IMPORT_CONTACTS_FINISH,function(t){if(n.wsConnectObj.dialogModalName&&n.wsConnectObj.openModal&&n.wsConnectObj.closeModal){var a=void 0,r=void 0,i=void 0;!t.countNew||(0,o.default)(t.countNew)!==d.SYSTEM.ADDRESSBOOK_NUMBER&&(0,o.default)(t.countNew)!==d.SYSTEM.ADDRESSBOOK_STRING||0===Number(t.countNew)?!t.countUpdated||(0,o.default)(t.countUpdated)!==d.SYSTEM.ADDRESSBOOK_NUMBER&&(0,o.default)(t.countUpdated)!==d.SYSTEM.ADDRESSBOOK_STRING||0===Number(t.countUpdated)?(a=n.wsConnectObj.ADDRESSBOOK_IMPORT_CONTACTS_FAILS,r=n.wsConnectObj.ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS,i=d.SYSTEM.ADDRESSBOOK_DIALOG_TYPE_WARNING):(a=n.wsConnectObj.ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS,r=n.wsConnectObj.ADDRESSBOOK_TITLE_IMPORTED_CONTACTS,i=d.SYSTEM.ADDRESSBOOK_DIALOG_TYPE_SUCCESS):(a=n.wsConnectObj.ADDRESSBOOK_IMPORTED_CONTACTS.replace(d.SYSTEM.ADDRESSBOOK_REGEXP_NUMBER,t.countNew.toString()),r=n.wsConnectObj.ADDRESSBOOK_TITLE_IMPORTED_CONTACTS,i=d.SYSTEM.ADDRESSBOOK_DIALOG_TYPE_SUCCESS),n.wsConnectObj.openModal(n.wsConnectObj.dialogModalName,{size:d.SYSTEM.ADDRESSBOOK_DIALOG_SIZE_SM,modalType:i,title:r,text:a,showCloseButton:!1})}if(n.wsConnectObj.closeModal){var l=n.wsConnectObj;setTimeout(function(){l.closeModal(l.dialogModalName)},d.SYSTEM.ADDRESSBOOK_DIALOG_TIMEOUT)}t.data?e.dispatch((0,u.setContacts)(t.data)):n.wsConnectObj.handleGetContacts(),("undefined"==typeof window?"undefined":(0,o.default)(window))!==d.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.childWindow&&(window.childWindow.close(),window.childWindow=null,(0,s.windowFocus)())});var f=void 0;f=p.ab.baseUrl?p.ab.baseUrl:n.wsConnectObj.baseUrl,h.on(d.SYSTEM.ADDRESSBOOK_MMC_TYPE_ALERT,function(e){e.event&&e.event===d.SYSTEM.ADDRESSBOOK_MMC_EVENT_CLEAR_TOKEN&&(0,s.redirect)(f,d.SYSTEM.ADDRESSBOOK_LOGIN_URL)}),h.connect()}break;case l.actionTypes.SET_CONTACTS:n.contacts=n.contacts.filter(function(e){return(0,s.filterMaskApply)(p.ab.filterMask,p.ab.filterToggle,d.SYSTEM.ADDRESSBOOK_FILTER_TOGGLE_OR,e)}),n.contacts=n.contacts.map(function(e){return(0,a.default)({},e,{name:e.contact_name})});break;case l.actionTypes.ADD_CONTACT:n.newContact.id=n.newContact.id.toString();break;case l.actionTypes.IMPORT_EMAIL:(0,s.openWindow)(n.url,500,500,(0,r.default)(n.props));break;case l.actionTypes.SET_WINDOW_TYPE:(0,s.setWindowType)(e,d.SYSTEM,u.onResizeWindow)}return t(n)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CONNECT="WEBSOCKET_CONNECT",t.CLOSE="WEBSOCKET_CLOSE",t.ERROR="WEBSOCKET_ERROR",t.PING_DELAY=5e3,t.SUBSCRIBER_METHODS={open:"onOpen",close:"onClose",message:"onMessage",error:"onError"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(502),r=(a=o)&&a.__esModule?a:{default:a};t.default=(0,r.default)({all:null,text:null,curve:null,image:null,initials:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(502),r=(a=o)&&a.__esModule?a:{default:a};t.default=(0,r.default)({SIGNATURE_EDITOR_LOCALE_SET:null,EDITOR_RESET:null,EDITOR_DIMENSIONS_SET:null,INITIAL_STATE_RESTORE:null,EDITED_IMAGE_RESTORE:null,TOOL_SELECT:null,IMAGE_INITIAL_SET:null,IMAGE_SET:null,IMAGE_ROTATE:null,IMAGE_FLIP:null,IMAGE_DIMENSIONS_SET:null,IMAGE_PARAMS_RESET:null,IMAGE_PARAMS_SET:null,IMAGE_AUTO_ADJUST:null,IMAGE_INITIAL_ADJUST:null,IMAGE_HORIZONTAL_FLIP:null,IMAGE_VERTICAL_FLIP:null,CROPPED_IMAGE_SET:null,EDITED_IMAGE_SET:null,THICKNESS_SET:null,CROP_APPLY:null,ZOOM_IN:null,ZOOM_OUT:null,BRIGHTNESS_SET:null,CONTRAST_SET:null,THRESHOLD_SET:null,IMAGE_STATE_SAVE:null,ERASED_IMAGE_SAVE:null,HISTORY_STEP_ADD:null,HISTORY_STATE_SET:null,HISTORY_UNDO:null,HISTORY_REDO:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_HISTORY_LENGTH=30,t.MAX_ZOOM=4,t.DEFAULT_PADDING=7},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(357)),o=i(n(1134)),r=n(917);function i(e){return e&&e.__esModule?e:{default:e}}var l={selectedTool:r.TOOLS.flipRotate,locale:r.LOCALE,image:null,initialImage:{},imageDimensions:{},editorDimensions:{},croppedImage:null,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,eraserThickness:10,currentStep:0,totalSteps:1,minStep:0,scale:1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case r.ACTION_TYPES.SIGNATURE_EDITOR_LOCALE_SET:return(0,a.default)({},e,{locale:(0,o.default)(e.locale,t.locale)});case r.ACTION_TYPES.EDITOR_RESET:return(0,a.default)({},e,{selectedTool:r.TOOLS.flipRotate,image:null,croppedImage:null,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,eraserThickness:10,currentStep:0,totalSteps:1,minStep:0,scale:1});case r.ACTION_TYPES.EDITOR_DIMENSIONS_SET:return(0,a.default)({},e,{editorDimensions:t.dimensions});case r.ACTION_TYPES.IMAGE_INITIAL_ADJUST:return(0,a.default)({},e,{selectedTool:r.TOOLS.flipRotate,image:t.params.src,croppedImage:null,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,eraserThickness:10,currentStep:0,totalSteps:1,minStep:0,scale:1});case r.ACTION_TYPES.INITIAL_STATE_RESTORE:return(0,a.default)({},e,{selectedTool:r.TOOLS.flipRotate,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,currentStep:0,totalSteps:1,minStep:0});case r.ACTION_TYPES.EDITED_IMAGE_RESTORE:return(0,a.default)({},e,{selectedTool:r.TOOLS.flipRotate});case r.ACTION_TYPES.IMAGE_INITIAL_SET:return(0,a.default)({},e,{image:t.image,initialImage:t.initialImage});case r.ACTION_TYPES.IMAGE_SET:return(0,a.default)({},e,{image:t.image});case r.ACTION_TYPES.IMAGE_HORIZONTAL_FLIP:return(0,a.default)({},e,{isFlippedHorizontally:!e.isFlippedHorizontally});case r.ACTION_TYPES.IMAGE_VERTICAL_FLIP:return(0,a.default)({},e,{isFlippedVertically:!e.isFlippedVertically});case r.ACTION_TYPES.CROPPED_IMAGE_SET:return(0,a.default)({},e,{croppedImage:t.image});case r.ACTION_TYPES.IMAGE_DIMENSIONS_SET:return(0,a.default)({},e,{imageDimensions:t.dimensions});case r.ACTION_TYPES.EDITED_IMAGE_SET:var n=e.currentStep+1,i=n+1,s=e.minStep;return i>=r.MAX_HISTORY_LENGTH&&(s=i-r.MAX_HISTORY_LENGTH),(0,a.default)({},e,{currentStep:n,minStep:s,image:t.image,totalSteps:t.totalSteps});case r.ACTION_TYPES.ERASED_IMAGE_SAVE:return(0,a.default)({},e,{image:t.image,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1});case r.ACTION_TYPES.IMAGE_PARAMS_RESET:return(0,a.default)({},e,{threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1});case r.ACTION_TYPES.IMAGE_PARAMS_SET:return(0,a.default)({},e,{isFlippedVertically:t.params.flipVertically,isFlippedHorizontally:t.params.flipHorizontally,contrast:t.params.contrast,brightness:t.params.brightness,threshold:t.params.threshold});case r.ACTION_TYPES.IMAGE_AUTO_ADJUST:return(0,a.default)({},e,{threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast});case r.ACTION_TYPES.THICKNESS_SET:return(0,a.default)({},e,{eraserThickness:t.size});case r.ACTION_TYPES.TOOL_SELECT:return(0,a.default)({},e,{selectedTool:t.tool});case r.ACTION_TYPES.BRIGHTNESS_SET:return(0,a.default)({},e,{brightness:t.value});case r.ACTION_TYPES.CONTRAST_SET:return(0,a.default)({},e,{contrast:t.value});case r.ACTION_TYPES.THRESHOLD_SET:return(0,a.default)({},e,{threshold:t.value});case r.ACTION_TYPES.ZOOM_IN:return(0,a.default)({},e,{scale:Math.min(r.MAX_ZOOM,e.scale+.1)});case r.ACTION_TYPES.ZOOM_OUT:return(0,a.default)({},e,{scale:e.scale-.1});case r.ACTION_TYPES.CROP_APPLY:return(0,a.default)({},e,{image:e.croppedImage,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,scale:1});case r.ACTION_TYPES.HISTORY_STATE_SET:var d=t.imageParams.threshold,u=t.imageParams.contrast,c=t.imageParams.brightness;return t.imageParams.isAutoCleaned&&(d=r.IMAGE_CLEANER_CONFIG.defaultThreshold,u=r.IMAGE_CLEANER_CONFIG.defaultContrast,c=r.IMAGE_CLEANER_CONFIG.defaultBrightness),(0,a.default)({},e,{threshold:d,contrast:u,brightness:c,image:t.image,isFlippedVertically:t.imageParams.flipVertically,isFlippedHorizontally:t.imageParams.flipHorizontally,currentStep:t.step});case r.ACTION_TYPES.HISTORY_STEP_ADD:var p=e.currentStep+1,h=p+1,f=e.minStep;return h>=r.MAX_HISTORY_LENGTH&&(f=h-r.MAX_HISTORY_LENGTH),(0,a.default)({},e,{currentStep:p,minStep:f,totalSteps:t.totalSteps});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(915)),o=u(n(357)),r=n(912),i=u(n(913)),l=n(917),s=u(n(1135)),d=u(n(1136));function u(e){return e&&e.__esModule?e:{default:e}}var c=i.default.setImage,p=i.default.setEditedImage,h=i.default.resetImageParams,f=i.default.addHistoryStep,m=i.default.flipImageHorizontally,E=i.default.flipImageVertically,_=i.default.setHistoryState,S=i.default.setImageDimensions,g=i.default.restoreInitialState,v=s.default.areParamsDefault,T=s.default.getCurrentImageParams,O=s.default.getParamsForImageFlipping;t.default=function(e){var t=new d.default;return function(n){return function(i){var s=e.getState().signatureEditor;switch(i.type){case l.ACTION_TYPES.EDITOR_RESET:t.clear();break;case l.ACTION_TYPES.INITIAL_STATE_RESTORE:var d=t.restoreInitialState();t.saveImageState(s.currentStep,{},d),e.dispatch(c(d));break;case l.ACTION_TYPES.EDITED_IMAGE_RESTORE:var u=t.getEditedImageState();t.saveImageState(s.currentStep,u.params,u.src),e.dispatch(p(u.src,1)),e.dispatch(S(u.dimensions));break;case l.ACTION_TYPES.IMAGE_ROTATE:var C={src:s.image,clockwise:i.clockwise};(0,r.rotateImage)(C).then(function(n){var a=t.saveImageState(s.currentStep,{},n.src);e.dispatch(p(n.src,a)),e.dispatch(h())});break;case l.ACTION_TYPES.IMAGE_FLIP:var y=s.isFlippedHorizontally,D=s.isFlippedVertically,M=(0,o.default)({},O(s),{src:t.getImage(s.currentStep)});i.horizontally?(y=!y,e.dispatch(m())):i.vertically&&(D=!D,e.dispatch(E())),M=(0,o.default)({},M,{flipHorizontally:y,flipVertically:D}),(0,r.editImage)(M).then(function(n){var a=n.src,r=(0,o.default)({},O(s),{flipHorizontally:y,flipVertically:D}),i=t.saveImageState(s.currentStep,r);e.dispatch(p(a,i))});break;case l.ACTION_TYPES.CROP_APPLY:var A=t.saveImageState(s.currentStep,{},s.croppedImage);e.dispatch(f(A));break;case l.ACTION_TYPES.CONTRAST_SET:var b=(0,o.default)({},T(s),{src:t.getImage(s.currentStep),contrast:i.value});(0,r.editImage)(b).then(function(t){var n=t.src;return e.dispatch(c(n))});break;case l.ACTION_TYPES.BRIGHTNESS_SET:var I=(0,o.default)({},T(s),{src:t.getImage(s.currentStep),brightness:i.value});(0,r.editImage)(I).then(function(t){var n=t.src;return e.dispatch(c(n))});break;case l.ACTION_TYPES.THRESHOLD_SET:var R=(0,o.default)({},T(s),{src:t.getImage(s.currentStep),threshold:i.value});(0,r.editImage)(R).then(function(t){var n=t.src;return e.dispatch(c(n))});break;case l.ACTION_TYPES.ERASED_IMAGE_SAVE:var N=t.saveImageState(s.currentStep,{},i.image);e.dispatch(f(N));break;case l.ACTION_TYPES.IMAGE_STATE_SAVE:var w=T(s),P=t.saveImageState(s.currentStep,w);e.dispatch(f(P));break;case l.ACTION_TYPES.IMAGE_AUTO_ADJUST:var L={src:t.getImage(s.currentStep),contrast:i.contrast,threshold:i.threshold,brightness:i.brightness,flipHorizontally:s.isFlippedHorizontally,flipVertically:s.isFlippedVertically};(0,r.editImage)(L).then(function(e){var t=e.src;return(0,r.trimImage)(t)}).then(function(n){var r=(0,a.default)(L,["src"]),i=t.saveImageState(s.currentStep,(0,o.default)({},r,{isAutoCleaned:!0}),n);e.dispatch(p(n,i))});break;case l.ACTION_TYPES.IMAGE_INITIAL_SET:t.init(s.currentStep,i.image),e.dispatch(g());break;case l.ACTION_TYPES.IMAGE_INITIAL_ADJUST:var k=void 0;t.init(s.currentStep,i.params.src),(0,r.editImage)(i.params).then(function(e){var t=e.src,n=e.width,a=e.height;return k={width:n,height:a},(0,r.trimImage)(t)}).then(function(n){var r=i.params,l=(r.src,(0,a.default)(r,["src"])),d=t.saveImageState(s.currentStep,(0,o.default)({},l,{isAutoCleaned:!0}),n);t.saveEditedImage(n,l,k),e.dispatch(p(n,d)),e.dispatch(S(k))});break;case l.ACTION_TYPES.HISTORY_UNDO:var B=s.currentStep-1,x=t.getImageState(B),F=x.src,Y=(0,a.default)(x,["src"]);!Y.isAutoCleaned||v(Y)?(0,r.editImage)(x).then(function(t){var n=t.src;return e.dispatch(_(n,Y,B))}):e.dispatch(_(F,Y,B));break;case l.ACTION_TYPES.HISTORY_REDO:var U=s.currentStep+1,H=t.getImageState(U),K=H.src,G=(0,a.default)(H,["src"]);v(G)?(0,r.editImage)(H).then(function(t){var n=t.src;return e.dispatch(_(n,G,U))}):e.dispatch(_(K,G,U))}return n(i)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.editorManagerMiddleware=t.imageSignatureMiddleware=t.actions=t.reducers=t.configureStore=t.SignatureManagerComponent=t.ImageManagerComponent=void 0;var a=c(n(1137)),o=c(n(1222)),r=c(n(1250)),i=u(n(943)),l=u(n(903)),s=u(n(904)),d=n(945);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}t.ImageManagerComponent=a.default,t.SignatureManagerComponent=o.default,t.configureStore=r.default,t.reducers=i,t.actions=l,t.imageSignatureMiddleware=d.imageSignature,t.editorManagerMiddleware=d.editorManager,t.constants=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(994)),o=s(n(1142)),r=s(n(1144)),i=s(n(1196)),l=s(n(1198));function s(e){return e&&e.__esModule?e:{default:e}}t.default={DropzoneComponentWrapper:a.default,DropzoneComponentContainerWrapper:o.default,DropzoneButton:r.default,DropzoneContent:i.default,DropzoneTitle:l.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.defaultProps=t.propTypes=void 0;var a=f(n(69)),o=f(n(58)),r=f(n(59)),i=f(n(70)),l=f(n(71)),s=n(1),d=f(s),u=f(n(3)),c=f(n(1343)),p=n(912),h=n(930);function f(e){return e&&e.__esModule?e:{default:e}}var m=t.propTypes={handleFilesSelect:u.default.func.isRequired,handleErrors:u.default.func,acceptTypes:u.default.string,content:u.default.string,maxFileSize:u.default.string,activeClassName:u.default.string,maxFilesNumber:u.default.number,multiple:u.default.bool,checkImage:u.default.bool,imageDimensions:u.default.object,errors:u.default.object,allowedFileTypes:u.default.oneOfType([u.default.string,u.default.array])},E=t.defaultProps={handleErrors:function(){return{}},imageDimensions:{width:640,height:480},errors:{},maxFileSize:null,maxFilesNumber:null,allowedFileTypes:"",content:null,multiple:!1,activeClassName:"",checkImage:!1},_=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.validateFiles=e.validateFiles.bind(e),e}return(0,l.default)(t,e),(0,r.default)(t,[{key:"validateFiles",value:function(e){var t=this.props,n=t.handleFilesSelect,a=t.handleErrors,o=t.maxFileSize,r=t.allowedFileTypes,i=t.maxFilesNumber,l=t.checkImage,s=t.imageDimensions,d={customErrors:t.errors,maxFileSize:o,allowedFileTypes:r,maxFilesNumber:i,checkImage:l,imageDimensions:s};(0,p.validateFiles)(e,d,n,a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.allowedFileTypes,a=t.children,o=t.multiple,r=t.activeClassName,i=Array.isArray(a)?a:[a],l=i.length?i.map(function(t,a){return t.type&&t.type.getId()===h.IDS.button?d.default.cloneElement(t,{key:a,onSelect:e.validateFiles,allowedFileTypes:n,multiple:o,activeClassName:r,inputId:"dropzoneInput"}):d.default.cloneElement(t,{key:a})}):null,s="string"==typeof n?n:n.join();return d.default.createElement("div",{className:"crop-body-cell crop-body-cell--not-border"},d.default.createElement(c.default,{className:"crop-body-upload",onDrop:this.validateFiles,disableClick:!0,multiple:o,activeClassName:r,acceptClassName:r,accept:s},d.default.createElement("div",{className:"crop-body-upload__inner"},l)))}}]),t}(s.Component);t.default=_,_.propTypes=m,_.defaultProps=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validator=t.phoneRegexp=void 0;var a=r(n(159));t.default=function(e){void 0!==e.prototype.validate&&warning(!1,"Cannot decorate `%s` with @validateDecorator, because it already implements `validate().",function(e){var t=e.prototype&&e.prototype.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||"a component"}(e));return e.prototype.validate=l,e};var o=r(n(1147));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.phoneRegexp=/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/;function l(e){var t=[];this.props.validations.forEach(function(n){if("required"==n.rule)!!!e.length&&t.push(n);else if("isEmail"==n.rule&&e.length>0)!o.default.isValidEmail(e)&&t.push(n);else if("isNoSystemEmail"==n.rule&&e.length>0)!o.default.isNoSystemEmail(e)&&t.push(n);else if("isPhone"==n.rule&&e.length>0)!o.default.isValidPhone(e)&&t.push(n);else if("isURL"==n.rule&&e.length>0)!o.default.isURL(e)&&t.push(n);else if("isYoutubeURL"==n.rule&&e.length>0)!o.default.isYoutubeUrl(e)&&t.push(n);else if(e.length>0){var a=o.default[n.rule];"function"==typeof a&&!a(e||"",n.options)&&t.push(n)}});var n=!t.length,a=t[t.length-1];return n?this.setState({errorMessage:""}):this.setState({errorMessage:a.errorMessage?a.errorMessage:""}),n}(0,a.default)(o.default,{isValidPhone:function(e){return i.test(e)},isYoutubeUrl:function(e){return e.match(/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|v\/)?)([\w\-]+)(\S+)?$/)},isNotJustSpaces:function(e){return!/^\s+$/.test(e)},isValidEmail:function(e){var t=RegExp(/^[^@]{1,64}@[^@]{1,255}$/,"i").test(e),n=RegExp(/^[a-z0-9!#$%&*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z](?:[a-z]*[a-z])?$/,"i").test(e);return t&&n},isNoSystemEmail:function(e){return!RegExp(/^u[?|\d\]+[\d]+\@pdffiller\.com$/,"i").test(e)}}),t.validator=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),parseFloat(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,a.default)(e),(t=(0,o.default)(t,s)).require_display_name||t.allow_display_name){var n=e.match(d);if(n)e=n[1];else if(t.require_display_name)return!1}var l=e.split("@"),f=l.pop(),m=l.join("@"),E=f.toLowerCase();"gmail.com"!==E&&"googlemail.com"!==E||(m=m.replace(/\./g,"").toLowerCase());if(!(0,r.default)(m,{max:64})||!(0,r.default)(f,{max:256}))return!1;if(!(0,i.default)(f,{require_tld:t.require_tld}))return!1;if('"'===m[0])return m=m.slice(1,m.length-1),t.allow_utf8_local_part?h.test(m):c.test(m);for(var _=t.allow_utf8_local_part?p:u,S=m.split("."),g=0;g<S.length;g++)if(!_.test(S[g]))return!1;return!0};var a=l(n(902)),o=l(n(922)),r=l(n(998)),i=l(n(948));function l(e){return e&&e.__esModule?e:{default:e}}var s={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,u=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,c=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){(0,i.default)(e);var n=void 0,o=void 0;"object"===(void 0===t?"undefined":a(t))?(n=t.min||0,o=t.max):(n=arguments[1],o=arguments[2]);var r=encodeURI(e).split(/%..|./).length-1;return r>=n&&(void 0===o||r<=o)};var o,r=n(902),i=(o=r)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,r.default)(t);n=String(n);if(!n)return e(t,4)||e(t,6);if("4"===n){if(!i.test(t))return!1;var a=t.split(".").sort(function(e,t){return e-t});return a[3]<=255}if("6"===n){var o=t.split(":"),s=!1,d=e(o[o.length-1],4),u=d?7:8;if(o.length>u)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(o.shift(),o.shift(),s=!0):"::"===t.substr(t.length-2)&&(o.pop(),o.pop(),s=!0);for(var c=0;c<o.length;++c)if(""===o[c]&&c>0&&c<o.length-1){if(s)return!1;s=!0}else if(d&&c===o.length-1);else if(!l.test(o[c]))return!1;return s?o.length>=1:o.length===u}return!1};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,l=/^[0-9A-F]{1,4}$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var a,o=t.alpha={"en-US":/^[A-Z]+$/i,"cs-CZ":/^[A-Z]+$/i,"da-DK":/^[A-Z]+$/i,"de-DE":/^[A-Z]+$/i,"es-ES":/^[A-Z]+$/i,"fr-FR":/^[A-Z]+$/i,"nl-NL":/^[A-Z]+$/i,"hu-HU":/^[A-Z]+$/i,"pl-PL":/^[A-Z]+$/i,"pt-PT":/^[A-Z]+$/i,"ru-RU":/^[-]+$/i,"sr-RS@latin":/^[A-Z]+$/i,"sr-RS":/^[-]+$/i,"tr-TR":/^[A-Z]+$/i,"uk-UA":/^[-I]+$/i,ar:/^[]+$/},r=t.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"cs-CZ":/^[0-9A-Z]+$/i,"da-DK":/^[0-9A-Z]$/i,"de-DE":/^[0-9A-Z]+$/i,"es-ES":/^[0-9A-Z]+$/i,"fr-FR":/^[0-9A-Z]+$/i,"hu-HU":/^[0-9A-Z]+$/i,"nl-NL":/^[0-9A-Z]+$/i,"pl-PL":/^[0-9A-Z]+$/i,"pt-PT":/^[0-9A-Z]+$/i,"ru-RU":/^[0-9-]+$/i,"sr-RS@latin":/^[0-9A-Z]+$/i,"sr-RS":/^[0-9-]+$/i,"tr-TR":/^[0-9A-Z]+$/i,"uk-UA":/^[0-9-I]+$/i,ar:/^[0-9]+$/},i=t.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],l=0;l<i.length;l++)o[a="en-"+i[l]]=o["en-US"],r[a]=r["en-US"];o["pt-BR"]=o["pt-PT"],r["pt-BR"]=r["pt-PT"];for(var s,d=t.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],u=0;u<d.length;u++)o[s="ar-"+d[u]]=o.ar,r[s]=r.ar},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullWidth=void 0,t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=t.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.halfWidth=void 0,t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=t.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[0-9A-F]+$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iso8601=void 0,t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=t.iso8601=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=t?new RegExp("^["+t+"]+","g"):/^\s+/g;return e.replace(n,"")};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=t?new RegExp("["+t+"]"):/\s/,a=e.length-1;for(;a>=0&&n.test(e[a]);)a--;return a<e.length?e.substr(0,a+1):e};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),e.replace(new RegExp("["+t+"]+","g"),"")};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(1)),o=l(n(1199)),r=l(n(1202)),i=l(n(1207));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return a.default.createElement("div",{className:"sign-m-upload-doc-area-wrap"},a.default.createElement(o.default,null),a.default.createElement(r.default,null),a.default.createElement(i.default,null))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=h(n(69)),i=h(n(58)),l=h(n(59)),s=h(n(70)),d=h(n(71)),u=n(1),c=h(u),p=h(n(3));function h(e){return e&&e.__esModule?e:{default:e}}var f=(o=a=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.canvas=null,e.ctx=null,e.setReference=e.setReference.bind(e),e}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.drawImage()}},{key:"componentDidUpdate",value:function(e){var t=this.props.image;t&&t!==e.image&&this.drawImage()}},{key:"drawImage",value:function(){var e=this.props.image;e&&(this.canvas.width=e.width,this.canvas.height=e.height,this.ctx.drawImage(e,0,0))}},{key:"setReference",value:function(e){e&&!this.canvas&&(this.canvas=e,this.ctx=this.canvas.getContext("2d"))}},{key:"render",value:function(){return c.default.createElement("canvas",{ref:this.setReference,style:{display:"block",margin:"auto"}})}}]),t}(u.Component),a.propTypes={image:p.default.object},o);t.default=f},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=T(n(69)),l=T(n(58)),s=T(n(59)),d=T(n(70)),u=T(n(71)),c=T(n(3)),p=n(1),h=T(p),f=n(8),m=T(n(913)),E=n(914),_=n(910),S=n(907),g=n(904),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903));function T(e){return e&&e.__esModule?e:{default:e}}var O=(0,f.connect)(function(e){return{backButtonText:(0,S.getSignatureManagerLocale)(e).backButton,saveButtonText:(0,S.getSignatureManagerLocale)(e).editorPreview.saveButton,saveAndUseButtonText:(0,S.getSignatureManagerLocale)(e).editorPreview.saveAndUseButton,mode:e.im.mode,modeSignature:e.im.modeSignature}},{restoreEditedImage:m.default.restoreEditedImage,resetEditor:m.default.resetEditor,smGallery:v.smGallery,initial:v.initial})((r=o=function(e){function t(){var e,n,a,o;(0,l.default)(this,t);for(var r=arguments.length,s=Array(r),u=0;u<r;u++)s[u]=arguments[u];return n=a=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),a.handleBackButtonClick=function(){var e=a.props,t=e.mode,n=e.modeSignature;return t.type===g.MODE_TYPES.EDIT?(a.props.initial(),void a.props.resetEditor()):n.type===g.MODE_TYPES.SM_IMAGE_EDIT?(a.props.smGallery(),void a.props.resetEditor()):void a.props.restoreEditedImage()},a.handleSaveButtonClick=function(){a.props.handleSaveAndUse(!1),a.props.resetEditor()},a.handleSaveAndUseButtonClick=function(){a.props.handleSaveAndUse(!0),a.props.resetEditor()},o=n,(0,d.default)(a,o)}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.saveButtonText,n=e.saveAndUseButtonText,a=e.backButtonText;return h.default.createElement("div",{className:"sign-m-footer"},h.default.createElement("div",{className:"sign-m-footer__left"},h.default.createElement(_.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:this.handleBackButtonClick},a)),h.default.createElement("div",{className:"sign-m-footer__right"},h.default.createElement(_.BtnSecondary,{addClass:"g-btn-sm",onClick:this.handleSaveButtonClick},t),h.default.createElement(E.BtnPrimary,{addClass:"g-btn-sm",onClick:this.handleSaveAndUseButtonClick},n)))}}]),t}(p.Component),o.propTypes={handleSaveAndUse:c.default.func.isRequired,restoreEditedImage:c.default.func.isRequired,backButtonText:c.default.string.isRequired,saveButtonText:c.default.string.isRequired,saveAndUseButtonText:c.default.string.isRequired,mode:c.default.object.isRequired,modeSignature:c.default.object.isRequired,resetEditor:c.default.func.isRequired,smGallery:c.default.func.isRequired,initial:c.default.func.isRequired},a=r))||a;t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerHeader=void 0;var a,o=m(n(359)),r=m(n(69)),i=m(n(58)),l=m(n(59)),s=m(n(70)),d=m(n(71)),u=m(n(3)),c=n(1),p=m(c),h=m(n(12)),f=n(8);function m(e){return e&&e.__esModule?e:{default:e}}var E={icon:u.default.string,title:u.default.string,btnBackDispatch:u.default.func,handleClose:u.default.func,btnBack:u.default.object,addClass:u.default.string},_=t.ImageManagerHeader=(0,f.connect)(function(e){return e.im.mode})(a=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,l.default)(t,[{key:"btnBack",value:function(){var e=this.props,t=e.btnBack,n=void 0!==t&&t,a=e.btnBackDispatch;return n.status?p.default.createElement("div",{className:"sign-m-header__btn-back",onClick:a}):null}},{key:"render",value:function(){var e=this.props,t=e.addClass,n=e.handleClose,a=e.icon,r=e.title;return p.default.createElement("div",{className:"sign-m-header "+t},this.btnBack(),p.default.createElement("div",{className:"sign-m-header__close",onClick:n}),a&&p.default.createElement("div",{className:(0,h.default)("sign-m-header__icon",(0,o.default)({},a,a))}),p.default.createElement("div",{className:"sign-m-header__title",dangerouslySetInnerHTML:{__html:r}}))}}]),t}(c.Component))||a;_.propTypes=E,_.defaultProps={icon:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerContentUploading=void 0;var a=c(n(69)),o=c(n(58)),r=c(n(59)),i=c(n(70)),l=c(n(71)),s=c(n(3)),d=n(1),u=c(d);function c(e){return e&&e.__esModule?e:{default:e}}(t.ImageManagerContentUploading=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n={width:e.uploadedPercent+"%"};return u.default.createElement("div",{className:"sign-m-body"},u.default.createElement("div",{className:"sign-m-upload-doc-area-wrap sign-m-upload-doc-area-wrap--full-height"},u.default.createElement("div",{className:"sign-m-upload-doc-loading"},u.default.createElement("div",{className:"sign-m-upload-doc-loading-icon sign-m-svg-icon-cloud"},u.default.createElement("i",{className:"i i-in-process"})),u.default.createElement("div",{className:"sign-m-upload-doc-loading__title"},t),u.default.createElement("div",{className:"progress"},u.default.createElement("div",{className:"progress-bar",style:n})))))}}]),t}(d.Component)).propTypes={title:s.default.string.isRequired,uploadedPercent:s.default.number}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureDrawComponent=void 0;var a,o,r=f(n(69)),i=f(n(58)),l=f(n(59)),s=f(n(70)),d=f(n(71)),u=n(1),c=f(u),p=f(n(3)),h=n(1231);function f(e){return e&&e.__esModule?e:{default:e}}var m={touchAction:"none"};t.SignatureDrawComponent=(o=a=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.setDrawRootRef=function(e){n.drawRoot=e},n.sDraw=new h.SignatureDrawElement,n.state={width:0,height:0,MOBILE_PANEL_WIDTH:e.noScale?0:60},n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.width,n=e.height,a=e.curves,o=e.updateDrawElement,r=e.canDraw,i=e.drawConfig,l=e.canvasStyle,s=this.sDraw.init(t,n,a,o,r,i,l);this.setState({width:t,height:n}),this.drawRoot.appendChild(s)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.width,n=e.height,a=e.noScale;if(this.state.width!==t||this.state.height!==n){this.setState({width:t,height:n});var o=t-this.state.MOBILE_PANEL_WIDTH,r=this.sDraw.update(o,n,a);this.drawRoot.removeChild(this.drawRoot.childNodes[this.drawRoot.childNodes.length-1]),this.drawRoot.appendChild(r)}}},{key:"render",value:function(){return c.default.createElement("div",{ref:this.setDrawRootRef,className:this.props.className,style:m})}}]),t}(u.Component),a.propTypes={width:p.default.number,height:p.default.number,curves:p.default.array,noScale:p.default.bool,canDraw:p.default.bool,updateDrawElement:p.default.func,drawConfig:p.default.object,canvasStyle:p.default.object,className:p.default.string},a.defaultProps={noScale:!1},o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;var a,o,r,i=S(n(357)),l=S(n(69)),s=S(n(58)),d=S(n(59)),u=S(n(70)),c=S(n(71)),p=S(n(3)),h=S(n(1)),f=S(n(911)),m=S(n(995)),E=S(n(931)),_=n(916);function S(e){return e&&e.__esModule?e:{default:e}}t.Input=(0,E.default)(a=(0,m.default)((r=o=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return n.setRef=function(e){n.input=e},n.handleChange=function(e){var t=n.props.onChange,a=n.state.isValid,o=e.target.value.trim();n.setState({value:o,isValid:a}),t(e)},n.handleFocus=function(e){var t=n.props,a=t.onFocus,o=t.value;n.checkValidity(o),a(e),setTimeout(n.moveCaretAtEnd,35,(0,i.default)({},e))},n.state={value:e.value,errorMessage:"",isValid:!0,showAddressBookButton:!(0,_.isIeOrEdge)()},n}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.value,n=e.value.trim();t!==n&&this.setState({value:n})}},{key:"componentWillUpdate",value:function(e,t){this.state.value!==t.value&&this.checkValidity(t.value)}},{key:"componentDidMount",value:function(){var e=this.props.value;this.input.focus(),e&&this.checkValidity(e)}},{key:"checkValidity",value:function(e){var t=this.props.handleIsValid,n=this.validate(e||"");this.setState({isValid:n}),t(n)}},{key:"renderErrorMessage",value:function(){var e=this.props.className,t=this.state.isValid?"":"g-form-group__message--error";return h.default.createElement("div",{className:(0,f.default)({name:"g-form-group__message",modifiers:["size"],disabled:["disabled"]},t,this.props,e)},this.state.errorMessage)}},{key:"renderAddressBookButton",value:function(){var e=this.props.handleAddressBookButtonClick;return h.default.createElement("span",{className:"g-form-add-contact",onClick:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.placeholder,a=e.onBlur,o=this.state,r=o.showAddressBookButton,i=o.isValid,l=o.value,s={name:"g-form-control",modifiers:["size","type","placeholder-bold"],disabled:["disabled"],error:!i},d=i?"":"g-form-control--error";return h.default.createElement("div",{className:"g-form-group"},h.default.createElement("input",{type:"text",value:l,placeholder:n,ref:this.setRef,className:(0,f.default)(s,d,this.props,t),onChange:this.handleChange,onFocus:this.handleFocus,onBlur:a}),r&&this.renderAddressBookButton(),!i&&this.renderErrorMessage())}}]),t}(h.default.Component),o.defaultProps={placeholder:"",value:"",className:"",validations:[],handleAddressBookButtonClick:function(){},onFocus:function(){},onBlur:function(){},onChange:function(){},handleIsValid:function(){}},o.propTypes={placeholder:p.default.string,value:p.default.string,className:p.default.string,validations:p.default.array,handleAddressBookButtonClick:p.default.func,onFocus:p.default.func,onBlur:p.default.func,onChange:p.default.func,handleIsValid:p.default.func},a=r))||a)||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownColor=void 0;var a=E(n(292)),o=E(n(69)),r=E(n(58)),i=E(n(59)),l=E(n(70)),s=E(n(71)),d=E(n(3)),u=n(1),c=E(u),p=E(n(12)),h=n(927),f=E(h),m=n(904);function E(e){return e&&e.__esModule?e:{default:e}}var _={color:d.default.string,addClass:d.default.string,setColor:d.default.func};(t.DropDownColor=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.dropdownToggle=function(e){n.setState({open:e})},n.changeColor=function(e){(0,n.props.setColor)(e),n.dropdown&&n.dropdown.hide()},n.setReference=function(e){n.dropdown=e},n.state={open:!1},n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"renderColorsList",value:function(){var e=this;return(0,a.default)(m.DRAW_OPTIONS.COLORS).map(function(t){var n=m.DRAW_OPTIONS.COLORS[t];return c.default.createElement("div",{key:t,className:"sign-m-dropdown-colors__item",onClick:function(){return e.changeColor(n)}},c.default.createElement("div",{style:{background:"#"+n}}))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.addClass,a=void 0===n?"":n,o=t.color,r=this.state.open,i=(0,p.default)({"g-dropdown-wrap":!0,"sign-m-dropdown-colors":!0,open:r});return c.default.createElement(f.default,{className:i+" "+a,ref:this.setReference,onShow:function(){return e.dropdownToggle(!0)},onHide:function(){return e.dropdownToggle(!1)}},c.default.createElement(h.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty"},c.default.createElement("div",{className:"sign-m-dropdown-colors__preview",style:{backgroundColor:"#"+o}})),c.default.createElement(h.DropdownContent,{className:"g-dropdown-popup"},c.default.createElement("div",{className:"g-dropdown-popup__triangle right"}),c.default.createElement("div",{className:"g-dropdown-popup-list"},this.renderColorsList())))}}]),t}(u.Component)).propTypes=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownLineThickness=void 0;var a=m(n(69)),o=m(n(58)),r=m(n(59)),i=m(n(70)),l=m(n(71)),s=m(n(3)),d=n(1),u=m(d),c=n(927),p=m(c),h=m(n(12)),f=n(904);function m(e){return e&&e.__esModule?e:{default:e}}var E={setLineWidth:s.default.func,addClass:s.default.string};(t.DropDownLineThickness=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.dropdownToggle=function(e){n.setState({open:e})},n.itemClick=function(e){(0,n.props.setLineWidth)(e),n.dropdown.hide()},n.setReference=function(e){n.dropdown=e},n.state={open:!1},n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.addClass,n=void 0===t?"":t,a=this.state.open,o=(0,h.default)({"g-dropdown-wrap":!0,"sign-m-dropdown-list-thickness":!0,open:a});return u.default.createElement(p.default,{className:o+" "+n,ref:this.setReference,onShow:function(){return e.dropdownToggle(!0)},onHide:function(){return e.dropdownToggle(!1)}},u.default.createElement(c.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty"},u.default.createElement("i",{className:"i i-thinkness"})),u.default.createElement(c.DropdownContent,{"aria-labelledby":"menu-1",className:"g-dropdown-popup"},u.default.createElement("div",{className:"g-dropdown-popup__triangle right"}),u.default.createElement("div",{className:"g-dropdown-popup-list"},u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.XSMALL)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--2px"})),u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.SMALL)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--4px"})),u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.MEDIUM)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--6px"})),u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.LARGE)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--8px"})),u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.XLARGE)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--10px"})))))}}]),t}(d.Component)).propTypes=E},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(963),o=n(1103),r=n(1104),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(984)),l=n(985),s=n(906);t.default={AddressBook:a.AddressBook,AddressBookButton:o.AddressBookButton,create:r.create,reducers:i,maskMiddleware:l.maskMiddleware,initCustom:s.initCustom,setWsConnect:s.setWsConnect}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOCAL={ADDRESSBOOK_MAIN_NAME:"Address Book",ADDRESSBOOK_SEARCH_RESULTS:"Search Results",ADDRESSBOOK_ADD_EDIT_CONTACT:"Add/Edit Contact",ADDRESSBOOK_ADD_CONTACT_TITLE:"Add Contact",ADDRESSBOOK_EDIT_CONTACT_TITLE:"Edit Contact",ADDRESSBOOK_ADD_BUTTON_DIALOG:"Add",ADDRESSBOOK_EDIT_BUTTON_DIALOG:"Save",ADDRESSBOOK_SORT_DIRECTION_AZ:"A-Z",ADDRESSBOOK_SORT_DIRECTION_ZA:"Z-A",ADDRESSBOOK_UPPERCASE_NAME:"Name",ADDRESSBOOK_UPPERCASE_EMAIL:"Email",ADDRESSBOOK_UPPERCASE_PHONE:"Phone",ADDRESSBOOK_UPPERCASE_FAX:"Fax",ADDRESSBOOK_UPPERCASE_LABEL_NAME:"Full Name",ADDRESSBOOK_UPPERCASE_LABEL_EMAIL:"Email Address",ADDRESSBOOK_UPPERCASE_LABEL_PHONE:"Phone Number",ADDRESSBOOK_UPPERCASE_LABEL_FAX:"Fax Number",ADDRESSBOOK_UPPERCASE_SEARCH:"Search",ADDRESSBOOK_BUTTON_CANCEL:"Cancel",ADDRESSBOOK_BUTTON_SAVE:"Save",ADDRESSBOOK_CONTACTS_SELECTED:"contact(s) selected",ADDRESSBOOK_SEND_TO:"Send to",ADDRESSBOOK_SORT_BY:"Sort by:",ADDRESSBOOK_BUTTON_ADD:"Add",ADDRESSBOOK_BUTTON_EDIT:"Edit",ADDRESSBOOK_SELECT_ALL_ITEM:"Select all",ADDRESSBOOK_EDIT_CONTACT:"Edit contact",ADDRESSBOOK_DELETE_CONTACT:"Delete contact",ADDRESSBOOK_BUTTON_IMPORT_CONTACTS:"Import Contacts",ADDRESSBOOK_IMPORT_GMAIL_ITEM:"Gmail",ADDRESSBOOK_IMPORT_HOTMAIL_ITEM:"Hotmail",ADDRESSBOOK_IMPORT_OUTLOOK_ITEM:"Outlook",ADDRESSBOOK_IMPORT_YAHOO_ITEM:"Yahoo",ADDRESSBOOK_IMPORT_CONTACTS_FROM_EMAIL:"Import contacts from email accounts",ADDRESSBOOK_BRING_TOGETHER:"Bring together all the people you know in one place. Click on an icon below to start.",ADDRESSBOOK_CREATE_A_NEW_CONTACT:"Create a new contact",ADDRESSBOOK_CLICK_ON_BUTTON:"Click on button below to enter information of new",ADDRESSBOOK_CLICK_ON_BUTTON_CONTACT:"contact.",ADDRESSBOOK_ADD_CONTACT:"Add Contact",ADDRESSBOOK_LOADING_CONTACTS:"Loading contacts...",ADDRESSBOOK_TITLE_IMPORTED_CONTACTS:"Success",ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS:"We're Sorry",ADDRESSBOOK_TITLE_IMPORT_NEW_CONTACTS_FAILS:"Success",ADDRESSBOOK_IMPORTED_CONTACTS:"Youve imported {*NUMBER*} contact(s)",ADDRESSBOOK_IMPORT_CONTACTS_FAILS:"You have no contacts to import",ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS:"Your contacts have been updated",ADDRESSBOOK_ERROR_MODAL_DEFAULT_TITLE:"Error!",ADDRESSBOOK_ERROR_MODAL_DEFAULT_CONTENT:"Some error occurred...",ADDRESSBOOK_ERROR_MODAL_DEFAULT_BTNCONFIRMTEXT:"OK",ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_TITLE:"Loading error",ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_CONTENT:"Loading contacts failed!",ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_TITLE:"Add contact error",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_CONTENT:"Adding contact failed!",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_TITLE:"Edit contact error",ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_CONTENT:"Contact edit failed!",ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_TITLE:"Delete contact error",ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_CONTENT:"Contacts deleting failed!",ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_TITLE:"Delete all contacts error",ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_CONTENT:"Contacts deleting failed!",ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_TITLE:"Delete contact(s)",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_CONTENT:"Are you sure want delete this contact(s)?",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONFIRMTEXT:"OK",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONCELTEXT:"Cancel",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_TITLE:"Double contact",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_CONTENT:"The specified contact already exists!",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_BTNCONFIRMTEXT:"OK"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=void 0;var a,o=R(n(192)),r=R(n(69)),i=R(n(58)),l=R(n(59)),s=R(n(70)),d=R(n(71)),u=n(1),c=R(u),p=n(905),h=n(8),f=R(n(1087)),m=R(n(12)),E=n(1088),_=n(1089),S=n(964),g=n(965),v=n(966),T=n(971),O=n(972),C=n(975),y=n(1091),D=n(976),M=n(977),A=n(979),b=n(980),I=n(981);function R(e){return e&&e.__esModule?e:{default:e}}t.ModalWindow=(0,h.connect)(function(e){return{mode:e.ab.mode,contactsBackup:e.ab.contactsBackup,searchBy:e.ab.searchBy,searchDialogOpen:e.ab.searchDialogOpen,contacts:e.ab.contacts,loaded:e.ab.loaded,viewType:e.ab.viewType}})(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.windowWidth=("undefined"==typeof window?"undefined":(0,o.default)(window))!==p.SYSTEM.ADDRESSBOOK_UNDEFINED?window.innerWidth:p.SYSTEM.ADDRESSBOOK_DEFAULT_WINDOW_INNER_WIDTH,n.windowHeight=("undefined"==typeof window?"undefined":(0,o.default)(window))!==p.SYSTEM.ADDRESSBOOK_UNDEFINED?window.innerHeight:p.SYSTEM.ADDRESSBOOK_DEFAULT_WINDOW_INNER_HEIGHT,n.state={left:Math.ceil(n.windowWidth/2-p.SYSTEM.ADDRESSBOOK_MODAL_WIDTH),top:Math.ceil(n.windowHeight/2-p.SYSTEM.ADDRESSBOOK_MODAL_HEIGHT)},n.renderContentByTypeContent=n.renderContentByTypeContent.bind(n),n.handleStop=n.handleStop.bind(n),n.handleClickOnModal=n.handleClickOnModal.bind(n),n.renderLoader=n.renderLoader.bind(n),n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"renderContentByTypeContent",value:function(e){switch(e){case p.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL:return c.default.createElement(v.AddressBookInitialContent,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook});case p.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:return c.default.createElement(T.AddressBookListContent,{handleCloseModal:this.props.handleCloseModal,controller:this.props.controller,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants});default:return null}}},{key:"renderLoader",value:function(){return this.props.loaded?null:c.default.createElement(I.Loader,null)}},{key:"handleStop",value:function(){}},{key:"handleClickOnModal",value:function(){}},{key:"render",value:function(){var e=this.props.mode.type,t=(0,m.default)("dab",{"dab--no-contacts":0===this.props.contactsBackup.length&&this.props.loaded&&""===this.props.searchBy}),n=(0,m.default)("dab-header handle-drag",{"dab-header--search-results":""!==this.props.searchBy&&!this.props.searchDialogOpen}),a=(0,m.default)("ab-body",{"ab-body--no-results":""!==this.props.searchBy&&0===this.props.contacts.length}),o=0,r=0,i=!1,l=this.state,s=l.left,d=l.top;return this.props.viewType===p.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?(s=d=0,i=!0):(o=this.state.left,r=this.state.top,i=!1),c.default.createElement(f.default,{modalClass:t,onStop:this.handleStop,onMouseDown:this.handleClickOnModal,draggableOff:i,handle:".handle-drag",left:o,top:r,style:{left:s,top:d}},c.default.createElement("div",{className:n},c.default.createElement(E.AddressBookTitle_modal,null),c.default.createElement(_.AddressBookClose,{handleCloseModal:this.props.handleCloseModal})),c.default.createElement("div",{className:"height-full"},this.renderLoader(),c.default.createElement("div",{className:"ab"},c.default.createElement("div",{className:"ab-header"},c.default.createElement(S.AddressBookSearch,null),c.default.createElement(g.AddressBookSort,null)),c.default.createElement("div",{className:a},c.default.createElement("div",{className:"ab-content"},this.renderContentByTypeContent(e)),c.default.createElement("div",{className:"no-results-icon"}))),c.default.createElement(O.AddressBookModalAddEdit_modal,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,handleError:this.props.handleError,closeModal:this.props.closeModal,errorModalName:this.props.errorModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,apiRest:this.props.apiRest}),c.default.createElement(C.AddressBookModalSearch,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),c.default.createElement("div",{className:"dab-footer"},c.default.createElement("div",{className:"ab-controls"},c.default.createElement(D.AddressBookBtnAdd,null),c.default.createElement(M.AddressBookBtnEdit,{handleDeleteContact:this.props.handleDeleteContact,handleDeleteAllContacts:this.props.handleDeleteAllContacts,controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleDelete:this.props.handleDelete,handleCtrlA:this.props.handleCtrlA,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),!this.props.isApp&&c.default.createElement(A.AddressBookBtnImport,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook,importContacts:this.props.importContacts}),c.default.createElement(b.AddressBookMobileSearchBtn,null)),c.default.createElement(y.AddressBookSend,{mainButtonName:this.props.mainButtonName,handleCloseModal:this.props.handleCloseModal}))))}}]),t}(u.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(69)),o=c(n(58)),r=c(n(59)),i=c(n(70)),l=c(n(71)),s=c(n(1)),d=c(n(924)),u=c(n(908));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,r.default)(t,[{key:"handleStop",value:function(){return function(e){var t=e.left,n=e.top;this.props.onStop({left:t,top:n})}}()},{key:"handleClickOnModal",value:function(){return function(){this.props.onMouseDown()}}()},{key:"render",value:function(){return function(){var e=this.props.modalClass;return s.default.createElement(u.default,{contentLabel:"Drag Back Drop"},s.default.createElement(d.default,{onStop:this.handleStop.bind(this),onMouseDown:this.handleClickOnModal.bind(this),handle:".handle-drag",left:this.props.left,top:this.props.top,draggableOff:this.props.draggableOff,className:e,sticky:this.props.sticky,modalWidth:this.props.modalWidth,modalHeight:this.props.modalHeight,style:{left:this.props.left,top:this.props.top}},this.props.children))}}()}]),t}(s.default.Component);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookTitle_modal=void 0;var a,o=m(n(69)),r=m(n(58)),i=m(n(59)),l=m(n(70)),s=m(n(71)),d=n(1),u=m(d),c=n(8),p=n(144),h=(m(n(12)),n(906)),f=n(940);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookTitle_modal=(0,c.connect)(function(e){return{searchBy:e.ab.searchBy,local:e.ab.local,searchDialogOpen:e.ab.searchDialogOpen}},function(e){return{actions:(0,p.bindActionCreators)({clearSearch:h.clearSearch},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleClearSearch=n.handleClearSearch.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"handleClearSearch",value:function(){(0,this.props.actions.clearSearch)()}},{key:"render",value:function(){return""===this.props.searchBy||this.props.searchDialogOpen?u.default.createElement("div",{className:"dab-header-title dab-header-title--default"},u.default.createElement("span",null,this.props.local.ADDRESSBOOK_MAIN_NAME,""),u.default.createElement(f.AddressBookCounter,null)):u.default.createElement("div",null,u.default.createElement("div",{className:"dab-header-title dab-header-title--search-results"},this.props.local.ADDRESSBOOK_SEARCH_RESULTS,"",u.default.createElement(f.AddressBookCounter,null)),u.default.createElement("div",{"data-dab":"back",className:"dab-header-back-arrow",onClick:this.handleClearSearch}))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookClose=void 0;var a,o=f(n(69)),r=f(n(58)),i=f(n(59)),l=f(n(70)),s=f(n(71)),d=n(1),u=f(d),c=n(8),p=n(144),h=n(906);function f(e){return e&&e.__esModule?e:{default:e}}t.AddressBookClose=(0,c.connect)(function(e){return{cancelDummyController:e.modal.options.AddressBook?e.modal.options.AddressBook.cancelDummyControllerCallback:null}},function(e){return{actions:(0,p.bindActionCreators)({closeModal:h.closeModal},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleCloseModalLocal=n.handleCloseModalLocal.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"handleCloseModalLocal",value:function(e){e.preventDefault(),this.props.handleCloseModal(),(0,this.props.actions.closeModal)(),this.props.cancelDummyController&&this.props.cancelDummyController()}},{key:"render",value:function(){return u.default.createElement("div",{className:"dab-header-close-modal",onClick:this.handleCloseModalLocal})}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=m(n(69)),i=m(n(58)),l=m(n(59)),s=m(n(70)),d=m(n(71)),u=n(1),c=m(u),p=n(3),h=m(n(10)),f=n(905);function m(e){return e&&e.__esModule?e:{default:e}}var E=(o=a=function(e){function t(){var e,n,a,o;(0,i.default)(this,t);for(var l=arguments.length,d=Array(l),u=0;u<l;u++)d[u]=arguments[u];return n=a=(0,s.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(d))),a.getEmail=function(e){var t=a.props,n=t.fieldsMask,o=t.viewType;if(-1!==n.indexOf(f.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)){if((0,h.default)(e[f.SYSTEM.ADDRESSBOOK_FIELD_EMAIL],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"},c.default.createElement("div",{title:"E-mail",className:"ab-item-data__email tooltipstered tooltip--top"},e.email));if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"})}if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"})},a.getPhone=function(e){var t=a.props,n=t.fieldsMask,o=t.viewType;if(-1!==n.indexOf(f.SYSTEM.ADDRESSBOOK_FIELD_PHONE)){if((0,h.default)(e[f.SYSTEM.ADDRESSBOOK_FIELD_PHONE],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"},c.default.createElement("div",{title:"Phone",className:"ab-item-data__tel tooltipstered tooltip--top"},e.phone));if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"})}if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"})},a.getFax=function(e){var t=a.props,n=t.fieldsMask,o=t.viewType;if(-1!==n.indexOf(f.SYSTEM.ADDRESSBOOK_FIELD_FAX)){if((0,h.default)(e[f.SYSTEM.ADDRESSBOOK_FIELD_FAX],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"},c.default.createElement("div",{title:"Fax",className:"ab-item-data__fax tooltipstered tooltip--top"},e.fax));if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"})}if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"})},a.handleClick=function(e){var t=a.props;(0,t.handleClick)(e,t.contact.id)},a.handleDoubleClick=function(e){var t=a.props;(0,t.handleDoubleClick)(e,t.contact.id)},o=n,(0,s.default)(a,o)}return(0,d.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.contactClass,n=e.contact,a=e.onMouseDown;return c.default.createElement("div",{className:t,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:a},c.default.createElement("div",{className:"ab-item__icon"},c.default.createElement("img",{alt:"",src:n.picture})),c.default.createElement("div",{className:"ab-item__name"},n.name),c.default.createElement("div",{className:"ab-item-data"},this.getEmail(n),this.getPhone(n),this.getFax(n)))}}]),t}(u.Component),a.propTypes={contact:p.PropTypes.object.isRequired,handleClick:p.PropTypes.func,handleDoubleClick:p.PropTypes.func,onMouseDown:p.PropTypes.func},a.defaultProps={handleClick:null,handleDoubleClick:null,onMouseDown:null},o);t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookSend=void 0;var a,o=m(n(69)),r=m(n(58)),i=m(n(59)),l=m(n(70)),s=m(n(71)),d=n(1),u=m(d),c=n(8),p=n(144),h=m(n(12)),f=n(906);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookSend=(0,c.connect)(function(e){return{contacts:e.ab.contacts,activeRows:e.ab.activeRows,local:e.ab.local,sendContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.receiveContactsCallback:null}},function(e){return{actions:(0,p.bindActionCreators)({closeModal:f.closeModal},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.getSelectedContacts=n.getSelectedContacts.bind(n),n.handleContactsSend=n.handleContactsSend.bind(n),n.renderButton=n.renderButton.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"getSelectedContacts",value:function(){return this.props.activeRows.length>0?u.default.createElement("div",{className:"dab-footer__action-wrap-counter"},u.default.createElement("span",null,this.props.activeRows.length)," ",this.props.local.ADDRESSBOOK_CONTACTS_SELECTED):null}},{key:"handleContactsSend",value:function(){var e=this;if(this.props.activeRows.length>0){var t=this.props.contacts.filter(function(t){if(-1!==e.props.activeRows.indexOf(t.id))return t});if(this.props.sendContacts)(0,this.props.actions.closeModal)(),this.props.sendContacts(t),this.props.handleCloseModal()}}},{key:"renderButton",value:function(){var e=(0,h.default)("g-btn","g-btn-primary","g-btn-sm","btn-send",{disabled:0===this.props.activeRows.length});return this.props.sendContacts?u.default.createElement("button",{className:e,onClick:this.handleContactsSend},this.props.mainButtonName||this.props.local.ADDRESSBOOK_SEND_TO):null}},{key:"render",value:function(){return u.default.createElement("div",{className:"dab-footer__action-wrap"},this.getSelectedContacts(),this.renderButton())}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=s(a),r=s(n(942)),i=s(n(12)),l=s(n(978));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,Object.getPrototypeOf(t).call(this,e));return n.componentDidMount=function(){window.addEventListener("mousedown",n._onWindowClick)},n.componentWillUnmount=function(){window.removeEventListener("mousedown",n._onWindowClick)},n.isActive=function(){return"boolean"==typeof n.props.active?n.props.active:n.state.active},n.hide=function(){n.setState({active:!1}),n.props.onHide&&n.props.onHide()},n.show=function(){n.setState({active:!0}),n.props.onShow&&n.props.onShow()},n.storeRef=function(e){n.elDropdownRef=e},n._onWindowClick=function(e){var t=n.elDropdownRef;e.target!==t&&!t.contains(e.target)&&n.isActive()&&n.hide()},n._onToggleClick=function(e){e.preventDefault(),n.isActive()?n.hide():n.show()},n.render=function(){var e=n.props,t=e.children,r=e.className,s=n.isActive(),d=(0,i.default)("dropdown",r,{"dropdown--active":s}),u=a.Children.map(t,function(e){return e.type===l.default&&(e=(0,a.cloneElement)(e,{onClick:n._onToggleClick})),e});return o.default.createElement("div",{style:n.props.style,className:d,ref:n.storeRef},u)},n.state={active:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),t}();d.propTypes={className:r.default.string,active:r.default.bool,style:r.default.object,children:r.default.oneOfType([r.default.array.isRequired,r.default.element.isRequired]),onHide:r.default.func,onShow:r.default.func},d.defaultProps={className:""},t.default=d},function(e,t,n){"use strict";var a=n(1094);function o(){}e.exports=function(){function e(e,t,n,o,r,i){if(i!==a){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(1),r=s(o),i=s(n(942)),l=s(n(12));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=o=d(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.render=function(){var e=o.props,t=e.children,n=e.className,i=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["children","className"]),s=(0,l.default)("dropdown__content",n);return r.default.createElement("div",a({className:s},i),t)},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),t}();u.propTypes={children:i.default.node,className:i.default.string},u.defaultProps={className:""},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SinglePage=void 0;var a,o=R(n(69)),r=R(n(58)),i=R(n(59)),l=R(n(70)),s=R(n(71)),d=n(1),u=R(d),c=n(905),p=n(8),h=R(n(12)),f=R(n(908)),m=n(1097),E=n(1098),_=n(940),S=n(964),g=n(965),v=n(966),T=n(971),O=n(1099),C=n(972),y=n(976),D=n(977),M=n(979),A=n(975),b=n(980),I=n(981);function R(e){return e&&e.__esModule?e:{default:e}}t.SinglePage=(0,p.connect)(function(e){return{mode:e.ab.mode,contactsBackup:e.ab.contactsBackup,searchBy:e.ab.searchBy,contacts:e.ab.contacts,addEditContact:e.ab.addEditContact,loaded:e.ab.loaded,viewType:e.ab.viewType}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.renderContentByTypeContent=n.renderContentByTypeContent.bind(n),n.handleStop=n.handleStop.bind(n),n.handleClickOnModal=n.handleClickOnModal.bind(n),n.renderDialog=n.renderDialog.bind(n),n.renderLoader=n.renderLoader.bind(n),n.generalRender=n.generalRender.bind(n),n.scrollToTop=n.scrollToTop.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"scrollToTop",value:function(){var e=this.refs.abBody;console.log("scrolledElement",e),e.scrollTop=0}},{key:"renderContentByTypeContent",value:function(e){switch(e){case c.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL:return u.default.createElement(v.AddressBookInitialContent,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook});case c.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:var t=(0,h.default)("ab-body",{"ab-body--no-results":""!==this.props.searchBy&&0===this.props.contacts.length});return u.default.createElement("div",{className:t,ref:"abBody"},u.default.createElement("div",{className:"ab-content"},u.default.createElement(T.AddressBookListContent,{handleCloseModal:this.props.handleCloseModal,controller:this.props.controller,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,scrollToTop:this.scrollToTop})),u.default.createElement("div",{className:"no-results-icon"}));default:return null}}},{key:"renderDialog",value:function(){return this.props.addEditContact.open?this.props.viewType===c.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?u.default.createElement(C.AddressBookModalAddEdit_modal,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,handleError:this.props.handleError,closeModal:this.props.closeModal,errorModalName:this.props.errorModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,apiRest:this.props.apiRest}):u.default.createElement(f.default,null,u.default.createElement(O.AddressBookModalAddEdit_page,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,handleError:this.props.handleError,closeModal:this.props.closeModal,errorModalName:this.props.errorModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,apiRest:this.props.apiRest})):null}},{key:"renderLoader",value:function(){return this.props.loaded?null:u.default.createElement(I.Loader,null)}},{key:"handleStop",value:function(){}},{key:"handleClickOnModal",value:function(){}},{key:"generalRender",value:function(){var e=this.props.mode.type,t=(0,h.default)("myac-main__inner",{"g-wrap-loading":!this.props.loaded});return this.props.viewType===c.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?u.default.createElement("main",{className:"myac-main myac-main--ab"},u.default.createElement("div",{className:t},u.default.createElement(E.AddressBookTitle_page_mobile,null),u.default.createElement("div",{className:"ab"},this.renderLoader(),this.renderContentByTypeContent(e)),u.default.createElement("div",{className:"dab-footer"},u.default.createElement("div",{className:"ab-controls"},u.default.createElement(y.AddressBookBtnAdd,null),u.default.createElement(D.AddressBookBtnEdit,{handleDeleteContact:this.props.handleDeleteContact,handleDeleteAllContacts:this.props.handleDeleteAllContacts,controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleDelete:this.props.handleDelete,handleCtrlA:this.props.handleCtrlA,alertModal:this.props.alertModal,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),u.default.createElement(M.AddressBookBtnImport,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook,importContacts:this.props.importContacts}),u.default.createElement(b.AddressBookMobileSearchBtn,null))),u.default.createElement(A.AddressBookModalSearch,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),this.renderDialog())):u.default.createElement("main",{className:"myac-main myac-main--ab"},u.default.createElement("div",{className:t},u.default.createElement("div",{className:"myac-counter-header clfx"},u.default.createElement(m.AddressBookTitle_page_desktop,null),u.default.createElement(_.AddressBookCounter,null),u.default.createElement(S.AddressBookSearch,null)),u.default.createElement("div",{className:"ab"},u.default.createElement("div",{className:"ab-header"},u.default.createElement("div",{className:"ab-controls"},u.default.createElement(y.AddressBookBtnAdd,null),u.default.createElement(D.AddressBookBtnEdit,{handleDeleteContact:this.props.handleDeleteContact,handleDeleteAllContacts:this.props.handleDeleteAllContacts,controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleDelete:this.props.handleDelete,handleCtrlA:this.props.handleCtrlA,alertModal:this.props.alertModal,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),u.default.createElement(M.AddressBookBtnImport,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook})),u.default.createElement(g.AddressBookSort,null)),this.renderLoader(),this.renderContentByTypeContent(e)),this.renderDialog()))}},{key:"render",value:function(){return u.default.createElement("div",{className:"main-content"},u.default.createElement("div",{className:"myac-wrap"},u.default.createElement("div",{className:"container"},u.default.createElement("div",{className:"myac-container"},this.generalRender()))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookTitle_page_desktop=void 0;var a,o=p(n(69)),r=p(n(58)),i=p(n(59)),l=p(n(70)),s=p(n(71)),d=n(1),u=p(d),c=n(8);function p(e){return e&&e.__esModule?e:{default:e}}t.AddressBookTitle_page_desktop=(0,c.connect)(function(e){return{local:e.ab.local}})(a=function(e){function t(e){return(0,r.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"myac-header"},u.default.createElement("h1",{className:"myac-header-title"},this.props.local.ADDRESSBOOK_MAIN_NAME,""))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookTitle_page_mobile=void 0;var a,o=m(n(69)),r=m(n(58)),i=m(n(59)),l=m(n(70)),s=m(n(71)),d=n(1),u=m(d),c=n(8),p=n(940),h=n(144),f=n(906);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookTitle_page_mobile=(0,c.connect)(function(e){return{local:e.ab.local,searchBy:e.ab.searchBy,searchDialogOpen:e.ab.searchDialogOpen}},function(e){return{actions:(0,h.bindActionCreators)({clearSearch:f.clearSearch},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleClearSearch=n.handleClearSearch.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"handleClearSearch",value:function(){(0,this.props.actions.clearSearch)()}},{key:"render",value:function(){return""===this.props.searchBy||this.props.searchDialogOpen?u.default.createElement("div",{className:"dab-header"},u.default.createElement("div",{className:"dab-header-title dab-header-title--default"},this.props.local.ADDRESSBOOK_MAIN_NAME,"",u.default.createElement(p.AddressBookCounter,null))):u.default.createElement("div",{className:"dab-header dab-header--search-results"},u.default.createElement("div",{className:"dab-header-title dab-header-title--search-results"},this.props.local.ADDRESSBOOK_SEARCH_RESULTS,"",u.default.createElement(p.AddressBookCounter,null)),u.default.createElement("div",{"data-dab":"back",className:"dab-header-back-arrow",onClick:this.handleClearSearch}))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookModalAddEdit_page=void 0;var a,o=C(n(358)),r=C(n(357)),i=C(n(69)),l=C(n(58)),s=C(n(59)),d=C(n(70)),u=C(n(71)),c=n(1),p=C(c),h=n(144),f=n(8),m=C(n(12)),E=n(905),_=n(926),S=n(906),g=n(941),v=(C(g),C(n(973))),T=n(909),O=n(974);function C(e){return e&&e.__esModule?e:{default:e}}t.AddressBookModalAddEdit_page=(0,f.connect)(function(e){return{addEditContact:e.ab.addEditContact,fieldsValidation:e.ab.fieldsValidation,local:e.ab.local,saveContactFinished:e.ab.saveContactFinished}},function(e){return{actions:(0,h.bindActionCreators)({handleChange:S.handleChange,closeDialog:S.closeDialog,addContact:S.addContact,editContact:S.editContact,handleErrorModal:S.handleErrorModal,handleSavingContact:S.handleSavingContact,handleBlockPoint:S.handleBlockPoint},e)}})(a=function(e){function t(e){(0,l.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.handleInputChange=n.handleInputChange.bind(n),n.handleCloseDialog=n.handleCloseDialog.bind(n),n.handleSaveContact=n.handleSaveContact.bind(n),n.handleCtrlA=n.handleCtrlA.bind(n),n.handleDelete=n.handleDelete.bind(n),n.handleTab=n.handleTab.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n.addContactCb=n.addContactCb.bind(n),n.editContactCb=n.editContactCb.bind(n),n.handleAddContact=n.handleAddContact.bind(n),n.handleEditContact=n.handleEditContact.bind(n),n.handleEscapeErrorModal=n.handleEscapeErrorModal.bind(n),n.handleEnterErrorModal=n.handleEnterErrorModal.bind(n),n.onErrorController=n.onErrorController.bind(n),n.offErrorController=n.offErrorController.bind(n),n.renderTitle=n.renderTitle.bind(n),n.renderButtonName=n.renderButtonName.bind(n),n.fields=[E.SYSTEM.ADDRESSBOOK_FIELD_NAME,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,E.SYSTEM.ADDRESSBOOK_FIELD_FAX],n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.refs[E.SYSTEM.ADDRESSBOOK_FIELD_NAME].focus(),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)}},{key:"componentWillUnmount",value:function(){this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete)}},{key:"onErrorController",value:function(){this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal)}},{key:"offErrorController",value:function(){this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal)}},{key:"addContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.addContact,r=a.handleErrorModal;(0,a.handleSavingContact)(!0),e?((0,g.handleErrorGenerator)(this.props.local,_.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,T.windowFocus)()},function(){n.offErrorController(),r(!1),(0,T.windowFocus)()}),this.onErrorController()):Number(t.id)>0?o(t):((0,g.handleErrorGenerator)(this.props.local,_.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT_DOUBLE,this.props.handleError,function(){n.offErrorController(),r(!1),(0,T.windowFocus)()},function(){n.offErrorController(),r(!1),(0,T.windowFocus)()}),this.onErrorController())}},{key:"handleAddContact",value:function(e){this.props.apiRest.handleAddContact(e,this.addContactCb)}},{key:"editContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.editContact,r=a.handleErrorModal;(0,a.handleSavingContact)(!0),e?((0,g.handleErrorGenerator)(this.props.local,_.ERROR_TYPES.ADDRESSBOOK_EDIT_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,T.windowFocus)()},function(){n.offErrorController(),r(!1),(0,T.windowFocus)()}),this.onErrorController()):o(e,t)}},{key:"handleEditContact",value:function(e){this.props.apiRest.handleEditContact(e,this.editContactCb)}},{key:"handleEscapeErrorModal",value:function(){this.offErrorController(),(0,T.windowFocus)()}},{key:"handleEnterErrorModal",value:function(){this.props.closeModal(this.props.errorModalName),this.offErrorController(),(0,T.windowFocus)()}},{key:"handleCtrlA",value:function(){-1!==this.fields.indexOf(document.activeElement.name)&&document.activeElement.select()}},{key:"handleDelete",value:function(e){var t=document.activeElement,n=t.value.split(""),a=(0,r.default)({selectionStart:t.selectionStart});if(-1!==this.fields.indexOf(t.name)&&t.selectionStart<t.value.length){if(t.selectionStart===t.selectionEnd)t.value=[].concat((0,o.default)(n.slice(0,t.selectionStart)),(0,o.default)(n.slice(t.selectionStart+1))).join(""),t.selectionStart=a.selectionStart,t.selectionEnd=a.selectionStart;else{var i=document.activeElement.selectionEnd-document.activeElement.selectionStart;t.value=[].concat((0,o.default)(n.slice(0,t.selectionStart)),(0,o.default)(n.slice(t.selectionStart+i))).join(""),t.selectionStart=a.selectionStart,t.selectionEnd=a.selectionStart}this.handleInputChange(e,t.name)}}},{key:"handleTab",value:function(e){if(this.props.addEditContact.open){var t=this.fields.indexOf(document.activeElement.name);e.shiftKey?t>0&&this.refs[this.fields[t-1]].focus():t<this.fields.length-1&&this.refs[this.fields[t+1]].focus()}}},{key:"handleEnter",value:function(e){if(this.props.addEditContact.open){var t=this.fields.indexOf(document.activeElement.name);t<this.fields.length-1?this.refs[this.fields[t+1]].focus():this.handleSaveContact(e)}}},{key:"handleEscape",value:function(e){this.handleCloseDialog(e)}},{key:"handleCloseDialog",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props.actions,n=t.closeDialog,a=t.handleBlockPoint;n(),a(!0),(0,T.windowFocus)(),setTimeout(function(){a(!1)},E.SYSTEM.ADDRESSBOOK_BLOCK_POINT_DELAY)}},{key:"handleInputChange",value:function(e,t){var n=e.target.value,a=void 0;switch(t){case E.SYSTEM.ADDRESSBOOK_FIELD_NAME:a=E.SYSTEM.ADDRESSBOOK_REGEXP_NAME.test(n);break;case E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL:a=(0,O.validateEmail)(n);break;default:a=E.SYSTEM.ADDRESSBOOK_REGEXP_PHONE.test(n)}a=0===n.length||a,(0,this.props.actions.handleChange)(n,t,a)}},{key:"handleSaveContact",value:function(e){(e.preventDefault(),this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&(this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax&&this.props.saveContactFinished&&((0,this.props.actions.handleSavingContact)(!1),this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.handleAddContact(this.props.addEditContact):this.handleEditContact(this.props.addEditContact),(0,T.windowFocus)()))}},{key:"renderTitle",value:function(){return this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_CONTACT_TITLE:this.props.local.ADDRESSBOOK_EDIT_CONTACT_TITLE}},{key:"renderButtonName",value:function(){return this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_BUTTON_DIALOG:this.props.local.ADDRESSBOOK_EDIT_BUTTON_DIALOG}},{key:"render",value:function(){var e=this,t=(0,m.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.name}),n=(0,m.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.email}),a=(0,m.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.phone}),o=(0,m.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.fax}),r=(0,m.default)("btn -sm -orange",{disabled:!((this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax)}),i=v.default.defaultInputMaxLength;return p.default.createElement("div",{className:"modal-container"},p.default.createElement("header",{className:"modal-header"},p.default.createElement("span",{className:"modal-header__title"},this.renderTitle()),p.default.createElement("i",{className:"close-modal",onClick:this.handleCloseDialog})),p.default.createElement("section",{className:"modal-body"},p.default.createElement("div",{className:"form-group"},p.default.createElement("label",{for:"full_name",className:"myac-label-icon i i-user"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_NAME,name:E.SYSTEM.ADDRESSBOOK_FIELD_NAME,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,className:t,value:this.props.addEditContact.name,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_NAME)},maxLength:i})),p.default.createElement("div",{className:"form-group"},p.default.createElement("label",{for:"email_address",className:"myac-label-icon i i-email"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,name:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,className:n,value:this.props.addEditContact.email,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)},maxLength:i})),p.default.createElement("div",{className:"form-group form-group--half-cols"},p.default.createElement("div",{className:"form-group"},p.default.createElement("label",{for:"phone_number",className:"myac-label-icon i i-phone"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,name:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,className:a,value:this.props.addEditContact.phone,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE)}})),p.default.createElement("div",{className:"form-group"},p.default.createElement("label",{for:"fax_number",className:"myac-label-icon i i-fax"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_FAX,name:E.SYSTEM.ADDRESSBOOK_FIELD_FAX,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_FAX,className:o,value:this.props.addEditContact.fax,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_FAX)}}))),p.default.createElement("div",{className:"modal-actions-btns text-right"},p.default.createElement("button",{type:"button",className:"btn -sm -light-gray",onClick:this.handleCloseDialog},this.props.local.ADDRESSBOOK_BUTTON_CANCEL),p.default.createElement("button",{type:"button",className:r,onClick:this.handleSaveContact},this.renderButtonName()))))}}]),t}(c.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1101)),o=r(n(1102));function r(e){return e&&e.__esModule?e:{default:e}}t.default={EnterEscapeController:a.default,AddressBookController:o.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(69)),o=c(n(58)),r=c(n(59)),i=c(n(70)),l=c(n(71)),s=c(n(983)),d=n(920),u=n(928);function c(e){return e&&e.__esModule?e:{default:e}}var p=[13,27],h=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.dispatch=e,n.TAG=d.SYSTEM.ENTER_ESCAPE_CONTROLLER,n.handleKeyUp=n.handleKeyUp.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleClick=n.handleClick.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleScroll=n.handleScroll.bind(n),n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"handleKeyUp",value:function(e){switch(e.keyCode){case 13:this.dispatch((0,u.emit)(d.SYSTEM.EVENT_PRESS_ENTER,e));break;case 27:this.dispatch((0,u.emit)(d.SYSTEM.EVENT_PRESS_ESCAPE,e))}p.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault())}},{key:"handleKeyDown",value:function(e){p.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault())}},{key:"handleClick",value:function(e){this.dispatch((0,u.emit)(d.SYSTEM.EVENT_CLICK,e))}},{key:"handleTouchStart",value:function(e){this.dispatch((0,u.emit)(d.SYSTEM.EVENT_TOUCH_START,e))}},{key:"handleScroll",value:function(e){this.dispatch((0,u.emit)(d.SYSTEM.EVENT_SCROLL,e))}}]),t}(s.default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(69)),o=c(n(58)),r=c(n(59)),i=c(n(70)),l=c(n(71)),s=c(n(983)),d=n(920),u=n(928);function c(e){return e&&e.__esModule?e:{default:e}}var p=[9,13,27,38,40,46],h=[8,65],f=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.dispatch=e,n.TAG=d.SYSTEM.ADDRESS_BOOK_CONTROLLER,n.handleKeyUp=n.handleKeyUp.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"handleKeyUp",value:function(e){switch(e.keyCode){case 9:this.dispatch((0,u.emit)(d.SYSTEM.EVENT_PRESS_TAB,e));break;case 13:this.dispatch((0,u.emit)(d.SYSTEM.EVENT_PRESS_ENTER,e));break;case 27:this.dispatch((0,u.emit)(d.SYSTEM.EVENT_PRESS_ESCAPE,e));break;case 38:this.dispatch((0,u.emit)(d.SYSTEM.EVENT_PRESS_UP,e));break;case 40:this.dispatch((0,u.emit)(d.SYSTEM.EVENT_PRESS_DOWN,e));break;case 46:this.dispatch((0,u.emit)(d.SYSTEM.EVENT_PRESS_DELETE,e));break;case 65:e.ctrlKey&&this.dispatch((0,u.emit)(d.SYSTEM.EVENT_PRESS_CTRL_A,e))}p.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault()),h.indexOf(e.keyCode)>=0&&e.ctrlKey&&(e.stopPropagation(),e.preventDefault())}},{key:"handleKeyDown",value:function(e){switch(e.keyCode){case 65:e.metaKey&&this.dispatch((0,u.emit)(d.SYSTEM.EVENT_PRESS_CTRL_A,e));break;case 8:e.metaKey&&this.dispatch((0,u.emit)(d.SYSTEM.EVENT_PRESS_DELETE,e))}p.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault()),h.indexOf(e.keyCode)>=0&&(e.ctrlKey||e.metaKey)&&(e.stopPropagation(),e.preventDefault())}}]),t}(s.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookButton=void 0;var a=c(n(69)),o=c(n(58)),r=c(n(59)),i=c(n(70)),l=c(n(71)),s=n(1),d=c(s),u=c(n(3));n(8);function c(e){return e&&e.__esModule?e:{default:e}}(t.AddressBookButton=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.handleOpenModalLocal=n.handleOpenModalLocal.bind(n),n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"handleOpenModalLocal",value:function(){this.props.handleOpenModal()}},{key:"render",value:function(){return d.default.createElement("button",{className:"g-btn g-btn-secondary g-btn-sm g-btn-auto-width",onClick:this.handleOpenModalLocal},"AddressBook")}}]),t}(s.Component)).propTypes={handleOpenModal:u.default.func}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(192)),o=i(n(358));t.create=function(e,t){return(0,r.compose)(r.applyMiddleware.apply(void 0,(0,o.default)(t)),l&&"object"===("undefined"==typeof window?"undefined":(0,a.default)(window))&&void 0!==window.devToolsExtension?window.devToolsExtension():function(e){return e})(r.createStore)((0,r.combineReducers)(e),{})};var r=n(144);function i(e){return e&&e.__esModule?e:{default:e}}var l=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(357)),o=r(n(358));function r(e){return e&&e.__esModule?e:{default:e}}function i(){return{open:!1,actionType:"",name:"",email:"",phone:"",fax:"",picture:"https://devapp.pdffiller.com/img/header/icon_user.svg",external:!0}}function l(){return{name:!0,email:!0,phone:!0,fax:!0}}function s(e,t,n){var a=e.map(function(e){return e.id}),r=t.map(function(e){return a.indexOf(e)});return Math[n].apply(Math,(0,o.default)(r))}function d(e,t,n){var o=e.find(function(e){return e.id===t[0]});return(0,a.default)({},o,{actionType:n,open:!0})}function u(e,t,n){var r=(0,a.default)({},e,{id:t});return delete r.open,delete r.actionType,[].concat((0,o.default)(n),[r])}function c(e,t,n){var a=[].concat((0,o.default)(e)),r=a[a.length-1],i=0;if(t!==r)for(var l=n.length;l--;){var s=n[l].id;s!==r&&s!==t||(1===i?(!e.indexOf(s)>=0&&a.push(s),i=2):i=1),1===i&&!e.indexOf(s)>=0&&a.push(s)}return a}function p(e,t){return e.filter(function(e){return-1===t.indexOf(e.id)})}function h(e,t){var n=(0,a.default)({},e),r=t.findIndex(function(e){return e.id===n.id});return delete n.open,delete n.actionType,[].concat((0,o.default)(t.slice(0,r)),[n],(0,o.default)(t.slice(r+1)))}function f(e,t){return e.filter(function(e){return-1!==t.indexOf(e.id)}).map(function(e){return e.id})}function m(e,t){return!(null!=e&&!isNaN(Number(e))&&Number(e)>0)||t.length<Number(e)}function E(e){return null!=e&&!isNaN(Number(e))&&Number(e)>0}function _(e,t){return t.length<Number(e)}function S(e,t,n,a,o){var r=n.map(function(e){return e.id}),i=r.indexOf(a),l=r.indexOf(o[o.length-1]);return e=r.filter(function(t){return-1!==e.indexOf(t)}),e=i>=l?e.length>t?e.slice(0,t):e:e.length>t?e.slice(e.length-t,t+1):e}t.makeInitialForm=i,t.makeInitialValidation=l,t.findActivePlace=s,t.makeEditForm=d,t.addContact=u,t.selectedListWithShift=c,t.deleteSelected=p,t.updateContact=h,t.filterContacts=function(e,t,n,a){var r=-1===n.indexOf(a)?[a].concat((0,o.default)(n)):[].concat((0,o.default)(n)),i=t.toLowerCase();return e.filter(function(e){var t=r.map(function(t){return e[t]});return t.find(function(e){if(e)return-1!==e.toLowerCase().indexOf(i)})})},t.filterActiveRows=f,t.acceptCheckSelectMax=m,t.acceptSelectMax=E,t.checkSelectMax=_,t.activeListMax=S,t.default={makeInitialForm:i,makeInitialValidation:l,findActivePlace:s,makeEditForm:d,addContact:u,selectedListWithShift:c,deleteSelected:p,updateContact:h,filterActiveRows:f,acceptSelectMax:E,acceptCheckSelectMax:m,checkSelectMax:_,activeListMax:S}},function(e,t,n){var a;
/**
 * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT
 */
/**
 * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT
 */
!function(n){"use strict";var o=function(e){var t=[],n=/\[\]$/,a=function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=function(e,n){n="function"==typeof n?n():null===n?"":void 0===n?"":n,t[t.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)},r=function(e,i){var l,s,d;if(e)if(a(i))for(l=0,s=i.length;l<s;l++)n.test(e)?o(e,i[l]):r(e+"["+("object"==typeof i[l]?l:"")+"]",i[l]);else if(i&&"[object Object]"===String(i))for(d in i)r(e+"["+d+"]",i[d]);else o(e,i);else if(a(i))for(l=0,s=i.length;l<s;l++)o(i[l].name,i[l].value);else for(d in i)r(d,i[d]);return t};return r("",e).join("&").replace(/%20/g,"+")};"object"==typeof e.exports?e.exports=o:void 0===(a=function(){return o}.apply(t,[]))||(e.exports=a)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGE_MANAGER_HOST_PRODUCTION=t.MESSAGE_MANAGER_HOST_DEVELOPMENT=t.WsService=void 0;var a,o=p(n(69)),r=p(n(58)),i=p(n(70)),l=p(n(71)),s=n(380),d=p(n(1108)),u=n(1112),c=n(1113);function p(e){return e&&e.__esModule?e:{default:e}}t.WsService=(0,d.default)(c.parseInput,c.parseMessage)(a=function(e){function t(e,n,a){(0,r.default)(this,t);var l=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return l.host=e,l.port=n,l.userId=a,l.publisher=null,l}return(0,l.default)(t,e),t}(s.EventEmitter))||a;t.MESSAGE_MANAGER_HOST_DEVELOPMENT=u.MESSAGE_MANAGER_HOST_DEVELOPMENT,t.MESSAGE_MANAGER_HOST_PRODUCTION=u.MESSAGE_MANAGER_HOST_PRODUCTION},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(159)),o=i(n(1109)),r=n(986);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return function(n){return(0,a.default)(n.prototype,function(e,t){return{connect:function(){var t=this.host,n=this.port,a=this.userId;this.publisher=new o.default(e(t,n),a),this.publisher.subscribe(this)},send:function(e){return this.publisher.send(e)},onOpen:function(){this.emit(r.CONNECT)},onMessage:function(e){var n=t(e);return this.emit(n.type,n)},onClose:function(e){this.emit(r.CLOSE,e)},onError:function(e){this.emit(r.ERROR,e)},disconnect:function(){this.publisher.unsubscribe(this)}}}(e,t),n.prototype),n}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(986),o=n(1110),r=n(1111);e.MessagePublishers=e.MessagePublishers||{};var i=e.WebSocket.OPEN,l=function(e){return function(t){return!(!e.ws||e.ws.readyState!==i)&&(e.ws.send((0,r.stringify)(t)),!0)}},s=function(e){return function(){e.connected=!0,l(e)((0,o.authMessage)(e.userId)),function(e,t){e.pingId=setInterval(l(e).bind(null,o.pingMessage),t)}(e,a.PING_DELAY),e.subscribers.forEach((0,r.callMethod)(a.SUBSCRIBER_METHODS.open))}},d=function(t){return function(n){!function(e){clearInterval(e.pingId),e.pingId=null}(t),delete t.ws,t.ws=null,t.connected=!1,e.MessagePublishers[t.id]=null,t.subscribers.forEach((0,r.callMethod)(a.SUBSCRIBER_METHODS.close,n))}},u=function(e){var t=e.socketUrl;":"===t[t.length-1]&&(t=t.slice(0,-1));var n=new WebSocket(t);e.ws=n,n.onopen=s(e),n.onmessage=function(e){return function(t){return e.subscribers.forEach((0,r.callMethod)(a.SUBSCRIBER_METHODS.message,t))}}(e),n.onclose=d(e),n.onerror=function(e){return function(t){return e.subscribers.forEach((0,r.callMethod)(a.SUBSCRIBER_METHODS.error,t))}}(e)},c=function(e){return function(t){var n=(0,r.include)(e.subscribers,t);n!==e.subscribers&&(e.subscribers=n,e.connected?(0,r.callMethod)(a.SUBSCRIBER_METHODS.open)(t):null===e.ws&&u(e))}},p=function(e){return function(t){var n=(0,r.exclude)(e.subscribers,t);n!==e.subscribers&&(e.subscribers=n,e.connected&&(0,r.callMethod)(a.SUBSCRIBER_METHODS.close)(t),0===e.subscribers.length&&e.ws&&function(e){e.ws.close(),e.connected=!1}(e))}},h=function(e){return function(){return e.subscribers&&e.subscribers.length||0}},f=(0,r.compose2)(function(e){return{subscribe:c(e),unsubscribe:p(e),send:l(e),subscribersCount:h(e)}},function(e,t,n){return{id:e,socketUrl:t,userId:n,ws:null,connected:!1,subscribers:null,pingId:null}}),m=function(t,n,a){var o=f(t,n,a);return e.MessagePublishers[t]=o,o},E=function(e,t){return String(t)+"::"+String(e.toLowerCase())};t.default=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E(t,n);return e.MessagePublishers[a]||m(a,t,n)}}).call(this,n(145))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.authMessage=function(e){return{auth:{userId:e}}},t.pingMessage="{}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose2=t.stringify=t.callMethod=t.exclude=t.include=void 0;var a,o=n(297),r=(a=o)&&a.__esModule?a:{default:a};t.include=function(e,t){return void 0===t||e&&e.includes(t)?e:e&&e.concat(t)||[t]},t.exclude=function(e,t){var n=e.indexOf(t);return n<0?e:e.slice(0,n).concat(e.slice(n+1))},t.callMethod=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return function(t){try{return function(e,t,n){return"function"==typeof e?e.apply(t,n):void 0}(t[e],t,n)}catch(o){var a;(a=console).error.apply(a,["Failed to call method "+String(e)+" of",t,"with args"].concat(n,["Error raised",o]))}}},t.stringify=function(e){return"string"!=typeof e?(0,r.default)(e):e},t.compose2=function(e,t){return function(){return e(t.apply(void 0,arguments))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MESSAGE_MANAGER_HOST_DEVELOPMENT="wss://wsmm_dev.pdffiller.com",t.MESSAGE_MANAGER_HOST_PRODUCTION="wss://wsmm.pdffiller.com"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInput=function(e,t){var n=e.match(/([^:]+[:][^:]+)[:]?([^:]*)/),a=n[1].trim(),o=n[2]&&n[2].trim()||t&&t.trim();/^wss[:][\/][\/]/.test(a)||console.warn("WsService: Host is not wss:// address: ",a);o&&/[^\d]/.test(o)&&console.warn("WsService: Port is not a number value: ",o);return a+(o?":"+String(o):"")},t.parseMessage=function(e){var t=void 0;try{t=JSON.parse(e.data)}catch(n){t={group:"SYSTEM",type:"ALERT",message:e.data}}t.group||(t.group="SYSTEM");t.type||t.message||(t.message=t.type,t.type="ALERT");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiRestMediator=void 0;var a=s(n(192)),o=s(n(58)),r=s(n(59)),i=n(905),l=s(n(207));function s(e){return e&&e.__esModule?e:{default:e}}t.apiRestMediator=function(){function e(t){(0,o.default)(this,e),this.pdffiller=window.pdffiller,this.lang=(0,a.default)(this.pdffiller)!==i.SYSTEM.ADDRESSBOOK_UNDEFINED&&null!==this.pdffiller&&this.pdffiller.lang?this.pdffiller.lang:"en",this.apiRest=new l.default(i.SYSTEM.ADDRESSBOOK_ADDRESS_BOOK,{appKey:t.appKey,userId:t.userCredentials&&t.userCredentials.userId||window.user&&window.user.userId,token:t.userCredentials&&t.userCredentials.token||window.user&&window.user.token,lang:this.lang,baseUrl:t.baseUrl}),this.apiProps=this.apiRest.getParameters(),this.handleGetContacts=this.handleGetContacts.bind(this),this.handleAddContact=this.handleAddContact.bind(this),this.handleEditContact=this.handleEditContact.bind(this),this.handleDeleteContact=this.handleDeleteContact.bind(this),this.handleDeleteAllContacts=this.handleDeleteAllContacts.bind(this),this.handleImportGmail=this.handleImportGmail.bind(this),this.handleImportYahoo=this.handleImportYahoo.bind(this),this.handleImportHotmail=this.handleImportHotmail.bind(this),this.handleImportOutlook=this.handleImportOutlook.bind(this),this.getApiProps=this.getApiProps.bind(this)}return(0,r.default)(e,[{key:"handleGetContacts",value:function(e){this.apiRest.getContacts(function(t,n){e&&(void 0===e?"undefined":(0,a.default)(e))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&e(t,n)})}},{key:"handleAddContact",value:function(e,t){this.apiRest.addContact(e,function(e,n){t&&(void 0===t?"undefined":(0,a.default)(t))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&t(e,n)})}},{key:"handleEditContact",value:function(e,t){this.apiRest.editContact(e,function(e,n){t&&(void 0===t?"undefined":(0,a.default)(t))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&t(e,n)})}},{key:"handleDeleteContact",value:function(e,t){this.apiRest.deleteContact(e,function(e,n){t&&(void 0===t?"undefined":(0,a.default)(t))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&t(e,n)})}},{key:"handleDeleteAllContacts",value:function(e){this.apiRest.deleteAllContacts(function(t,n){e&&(void 0===e?"undefined":(0,a.default)(e))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&e(t,n)})}},{key:"handleImportGmail",value:function(){return this.apiRest.importGmail()}},{key:"handleImportYahoo",value:function(){return this.apiRest.importYahoo()}},{key:"handleImportHotmail",value:function(){return this.apiRest.importHotmail()}},{key:"handleImportOutlook",value:function(){return this.apiRest.importOutlook()}},{key:"getApiProps",value:function(){return this.apiProps}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.im=void 0;var a,o=n(357),r=(a=o)&&a.__esModule?a:{default:a},i=n(929),l=n(904);var s={uploadedPercent:0,webcamEnabled:!0,dropzoneConfig:l.DROPZONE_CONFIG,qrUrl:"",mobileSignatureMethod:"",phoneNumber:"",email:"",addressBookApiRest:null,drawConfig:{canUndo:!1,canRedo:!1,color:l.DRAW_OPTIONS.COLORS.BLACK,lineWidth:l.DRAW_OPTIONS.THICKNESS.XSMALL},mode:{type:l.MODE_TYPES.INITIAL},modeSignature:{type:l.MODE_TYPES.SM_GALLERY,loadState:!1,showResend:!1,uploaderType:null},originalImage:"",imageManagerError:"",signatureManagerError:"",signature:{},initialSignature:{}};t.im=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i.actionTypes.INITIAL:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:l.MODE_TYPES.INITIAL}),uploadedPercent:0});case i.actionTypes.EDIT:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:l.MODE_TYPES.EDIT})});case i.actionTypes.UPLOADER:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:l.MODE_TYPES.UPLOADER})});case i.actionTypes.MOBILE_UPLOADER:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:l.MODE_TYPES.MOBILE_UPLOADER,targetFiles:t.targetFiles})});case i.actionTypes.UPLOADING:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:l.MODE_TYPES.UPLOADING}),uploadedPercent:0});case i.actionTypes.CAPTURE:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:l.MODE_TYPES.CAPTURE})});case i.actionTypes.SET_UPLOADED_PERCENT:return(0,r.default)({},e,{uploadedPercent:Math.max(t.percent,e.uploadedPercent)});case i.actionTypes.DISABLE_WEBCAM:return(0,r.default)({},e,{webcamEnabled:!1});case i.actionTypes.ERROR_SET:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:l.MODE_TYPES.INITIAL}),imageManagerError:t.error});case i.actionTypes.ERRORS_CLEAN:return(0,r.default)({},e,{imageManagerError:"",signatureManagerError:""});case i.actionTypes.CLOSE_SIGNATURE:return(0,r.default)({},e,{phoneNumber:"",email:""});case i.actionTypes.SM_INITIAL:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_INITIAL})});case i.actionTypes.SM_TEXT_EDIT:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_TEXT_EDIT})});case i.actionTypes.SM_CURVE_EDIT:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_CURVE_EDIT})});case i.actionTypes.SM_IMAGE_EDIT:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_IMAGE_EDIT})});case i.actionTypes.SM_SET_DRAW_CONFIG:return(0,r.default)({},e,{drawConfig:(0,r.default)({},e.drawConfig,t.config)});case i.actionTypes.SM_TYPE_SIGNATURE:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_TYPE_SIGNATURE})});case i.actionTypes.SM_GALLERY:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_GALLERY,loadState:!1}),signature:{}});case i.actionTypes.SM_QR:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_QR})});case i.actionTypes.SM_SMS:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_SMS})});case i.actionTypes.SM_EMAIL:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_EMAIL})});case i.actionTypes.SM_DRAW:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_DRAW})});case i.actionTypes.SM_DRAW_COMPONENT_UPDATE_HISTORY_POINT:return(0,r.default)({},e,{drawConfig:(0,r.default)({},e.drawConfig,t.drawConfig)});case i.actionTypes.SM_SIGNATURE_SAVE:return(0,r.default)({},e,{signature:t.signature,drawConfig:(0,r.default)({},e.drawConfig,t.drawConfig)});case i.actionTypes.SM_SET_INITIAL_SIGNATURE:return(0,r.default)({},e,{signature:t.signature,initialSignature:t.signature});case i.actionTypes.SM_UPLOADER:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_UPLOADER,uploaderType:l.MODE_TYPES.SM_UPLOADER})});case i.actionTypes.SM_MOBILE_UPLOADER:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_MOBILE_UPLOADER,uploaderType:l.MODE_TYPES.SM_UPLOADER})});case i.actionTypes.SM_SET_ORIGINAL_IMAGE:return(0,r.default)({},e,{originalImage:t.image});case i.actionTypes.SM_UPLOADING:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_UPLOADING}),uploadedPercent:0});case i.actionTypes.SM_CAPTURE:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_CAPTURE,uploaderType:l.MODE_TYPES.SM_CAPTURE})});case i.actionTypes.SM_MOBILE_SIGN_LOADING:var n=e.mobileSignatureMethod!==l.MODE_TYPES.SM_QR;return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_MOBILE_SIGN_LOADING,loadState:!0,showResend:n})});case i.actionTypes.SM_SET_QR_URL:return(0,r.default)({},e,{qrUrl:t.url});case i.actionTypes.SM_SET_MOBILE_SIGNATURE_METHOD:return(0,r.default)({},e,{mobileSignatureMethod:t.method});case i.actionTypes.SM_SAVE_PHONE_NUMBER:return(0,r.default)({},e,{phoneNumber:t.number});case i.actionTypes.SM_SAVE_EMAIL:return(0,r.default)({},e,{email:t.email});case i.actionTypes.SM_MOBILE_SIGNATURE_RESEND:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:e.mobileSignatureMethod,loadState:!1})});case i.actionTypes.SM_GET_CONTACT_EMAIL:return(0,r.default)({},e,{email:t.contact.email});case i.actionTypes.SM_GET_CONTACT_PHONE_NUMBER:return(0,r.default)({},e,{phoneNumber:t.contact.phone.replace(/[^+0-9]/g,"")});case i.actionTypes.SM_SET_ADDRESSBOOK_API_REST:return(0,r.default)({},e,{addressBookApiRest:t.apiRest});case i.actionTypes.SM_EDITOR_PREVIEW_OPEN:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_EDITOR_PREVIEW})});case i.actionTypes.SM_EDITOR_OPEN:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_EDITOR})});case i.actionTypes.SM_ERROR_SET:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:l.MODE_TYPES.SM_GALLERY,loadState:!1}),signatureManagerError:t.error});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.imageManagerLocale={backButton:"Back",edit:{header:"Edit Your Image"},uploading:{header:"Uploading...",text:"Uploading an Image"},gallery:{header:"Image Wizard",loadingImage:"Loading an image",loadingImages:"Loading images",emptyGallery:{title:"You do not have any saved Images",text:"To add your image, please use the options below."},footerDesktop:{uploaderButton:{title:"Upload Your Image",text:"Use this option to upload an image from your computer."},captureButton:{title:"Capture Your Image",text:"Easily capture a high quality image using your webcam."}},footerMobile:{uploaderButton:{title:"Upload Your Image",text:"Upload an image from your mobile device or tablet."}}},capture:{header:"Capture Your Image",text:"The program identifies your computers camera, and you can see a live preview of the image that you can use, and decide when to capture an image.",button:"Take"},upload:{header:"Upload Your Image",dropZone:{title:"Drag and Drop Your Image Here",text:"Use the button below to upload your image to the Image Wizard. PDFfiller supports <b>JPG</b>, <b>GIF</b> and <b>PNG</b> formats.<br/>Just so you know, max file size:",button:"Browse Your Images"}},errorModal:{title:"Warning",button:"OK"},errors:{dropZone:{defaultError:"Can't upload the image",bigFile:"Your file is too big. Please select another one. Maximum file size is",wrongType:"Acceptable file types are",noFiles:"The format youre trying to upload is not supported.<br> Select a .jpeg, .gif or .png file and try your upload again.",manyFiles:"Multiple images have been selected. Please select one image and try again"}}},t.signatureManagerLocale={backButton:"Back",poweredBy:"Powered by",footerText:"SignNow is an award-winning e-signature solution known for its easy-to-use and comprehensive toolkit.",uploading:{header:"Uploading...",text:"Uploading an Image",awaitingText:"Awaiting Signature...",resendButton:"Resend"},gallery:{header:"Signature Wizard",headerSignNow:"SignNow Signature Wizard",loadingSignatures:"Loading signatures",loadingImage:"Loading an image",mainButton:"Add New Signature"},methods:{header:"Signature Wizard",headerSignNow:"SignNow Signature Wizard",preview:{title:"type",text:"<b>Type</b> your full name below, and click <b>Sign</b> to proceed. Your signature will appear in a handwritten font style and ready for use.",button:"sign",placeholder:"John Smith"},list:{draw:{title:"Draw",text:"Easily draw your signature using the mouse or trackpad.",titleMobile:"Draw",textMobile:"Easily draw your signature right on your mobile device or tablet."},upload:{title:"Upload",text:"Upload the image of your signature from a computer.",titleMobile:"UPLOAD OR CAPTURE",textMobile:"Upload or capture your signature from any mobile device and tablet."},capture:{title:"Capture",text:"Allow the access to your camera and take a photo of your signature."},qr:{title:"Scan a QR Code",text:"Scan a QR Code to draw your signature on your mobile device."},notarize:{title:"NOTARIZE YOUR DOCUMENT",text:"Legally notarize your documents online in less than 15 minutes."},sms:{title:"Use Mobile via SMS",text:"Get a link via SMS and easily draw a signature right on your mobile device."},email:{title:"Use Mobile via Email",text:"Get a link via Email and easily draw a signature right on your mobile device."}}},draw:{header:"Draw Your Signature",text:"Draw your signature below, use the toolbar to make any desired changes, then click Save and Use to continue",cleanButton:"Clean",doneButton:"Done",saveButton:"Save",saveAndUseButton:"Save and Use"},edit:{header:"Edit Your Signature"},capture:{header:"Capture Your Image",text:"Sign the paper and show to the camera, so your signature fits inside the box and click Take. Your signature will appear in the Signature Wizard and ready for use.",button:"Take"},upload:{header:"Upload Your Image",dropZone:{title:"Drag and Drop Your Image Here",text:"Use the button below to upload your signature to the Signature Wizard. PDFfiller supports <b>JPG</b>, <b>GIF</b> and <b>PNG</b> formats.<br/>Just so you know, Max file size:",button:"Browse Your Images"}},qr:{header:"Scan a QR Code <span>via mobile</span>",text:"Scanning this QR Code will open a new screen on your mobile device where you can easily draw your signature.",listTitle:"USAGE:",list:[{id:"scanQr",text:"Scan a QR Code."},{id:"drawSignature",text:"Draw the signature or type your initials from any mobile device."},{id:"clickDone",text:"Click Done to save your signature."},{id:"findSignature",text:"Find your signature in the Signature Wizard."}]},sms:{header:"Use Mobile via SMS",text:"Using Mobile Via SMS allows you to get a link via SMS and easily draw a signature right on your mobile device.",listTitle:"USAGE:",placeholder:"(999) 999-9999",sendButton:"Send",list:[{id:"enterNumber",text:"Enter your phone number."},{id:"findMessage",text:"Find a text message from PDFfiller on your mobile device."},{id:"drawSignature",text:"Draw the signature or type your initials from any mobile device."},{id:"findSignature",text:"Find your signature in the Signature Wizard."}]},email:{header:"Use Mobile via Email",text:"Using Mobile Via Email allows you to get a link via Email on your mobile device and easily draw your signature right there.",listTitle:"USAGE:",placeholder:"Email",sendButton:"Send",addressBookMainButton:"Send to",list:[{id:"enterEmail",text:"Enter your email address."},{id:"findEmail",text:"Find an email from PDFfiller on your mobile device."},{id:"drawSignature",text:"Draw the signature or type your initials from any mobile device."},{id:"findSignature",text:"Find your signature in the Signature Wizard."}]},type:{header:"Signature Wizard",text:"Preview",placeholder:"John Smith",saveAndUseButton:"Save and Use",saveButton:"Save"},editorPreview:{title:"We automatically cleaned up your signature. What do you think?",originalImageLabel:"Before",editedImageLabel:"After",list:{saveAndUse:"This signature looks fine, save and use.",needClean:"This signature looks ok, but let me clean it up some more.",cleanManually:"This is no good, I will clean it up manually."},doneButton:"Do it!",saveButton:"Save",saveAndUseButton:"Save and Use"},editor:{toolbar:{flipRotate:"Flip / Rotate",crop:"Crop",erase:"Erase",adjust:"Adjust"},toolSubBar:{flipHorizontal:"Flip horizontal",flipVertical:"Flip vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",applyCrop:"Apply Crop",thickness:"Thickness",autoAdjust:"Auto"}},errorModal:{title:"Warning",button:"OK"},errors:{dropZone:{defaultError:"Can't upload the image",bigFile:"Your file is too big. Please select another one. Maximum file size is",wrongType:"Acceptable file types are",noFiles:"The format youre trying to upload is not supported.<br> Select a .jpeg, .gif or .png file and try your upload again.",manyFiles:"Multiple images have been selected. Please select one image and try again"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODES=void 0;var a=n(921);t.MODES={INITIAL:{content:{type:a.MODE_TYPES.INITIAL},footer:{type:a.MODE_TYPES.BIG_FOOTER,btnIcons:{uploader:"sign-m-svg-icon-upload",capture:"sign-m-svg-icon-camera"}}},EDIT:{content:{type:a.MODE_TYPES.EDIT}},UPLOADER:{header:{icon:"sign-m-svg-icon-upload-sm",title:"Upload Your Image"},content:{mods:"sign-m--hide-mobile-footer",type:a.MODE_TYPES.UPLOAD},footer:{type:a.MODE_TYPES.UPLOAD}},MOBILE_UPLOADER:{header:{icon:"sign-m-svg-icon-upload-sm",title:"Upload Your Image"},content:{mods:"sign-m--hide-mobile-footer",type:a.MODE_TYPES.MOBILE_UPLOAD},footer:{type:a.MODE_TYPES.MOBILE_UPLOAD}},UPLOADING:{header:{icon:"sign-m-svg-icon-upload-sm",title:"Upload Your Image"},content:{type:a.MODE_TYPES.UPLOADING}},CAPTURE:{content:{type:a.MODE_TYPES.CAPTURE}},SM_INITIAL:{type:a.MODE_TYPES.SM_INITIAL,mods:"sign-m--vanilla sign-m--hide-mobile-footer"},SM_TEXT_EDIT:{type:a.MODE_TYPES.SM_TEXT_EDIT,mods:"sign-m--mobile-draw"},SM_CURVE_EDIT:{type:a.MODE_TYPES.SM_CURVE_EDIT,mods:"sign-m--mobile-draw"},SM_IMAGE_EDIT:{type:a.MODE_TYPES.SM_IMAGE_EDIT,mods:"sign-m--mobile-draw"},SM_CHOOSE_SIGNATURE:{type:a.MODE_TYPES.SM_CHOOSE_SIGNATURE,mods:"sign-m--hide-mobile-footer"},SM_TYPE_SIGNATURE:{type:a.MODE_TYPES.SM_TYPE_SIGNATURE},SM_GALLERY:{type:a.MODE_TYPES.SM_GALLERY},SM_QR:{type:a.MODE_TYPES.SM_QR},SM_SMS:{type:a.MODE_TYPES.SM_SMS,mods:"sign-m--hide-mobile-footer"},SM_EMAIL:{type:a.MODE_TYPES.SM_EMAIL,mods:"sign-m--hide-mobile-footer"},SM_DRAW:{type:a.MODE_TYPES.SM_DRAW,mods:"sign-m--mobile-draw"},SM_MOBILE_SIGN_LOADING:{type:a.MODE_TYPES.SM_MOBILE_SIGN_LOADING,mods:"g-wrap-loading"},SM_UPLOADER:{mods:"sign-m--hide-mobile-footer",type:a.MODE_TYPES.SM_UPLOADER},SM_MOBILE_UPLOADER:{mods:"sign-m--hide-mobile-footer",type:a.MODE_TYPES.SM_MOBILE_UPLOADER},SM_UPLOADING:{type:a.MODE_TYPES.SM_UPLOADING},SM_CAPTURE:{type:a.MODE_TYPES.SM_CAPTURE},SM_EDITOR_PREVIEW:{type:a.MODE_TYPES.SM_EDITOR_PREVIEW},SM_EDITOR:{type:a.MODE_TYPES.SM_EDITOR}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={COLORS:{RED:"FF0000",BLUE:"0000FF",BLACK:"000000"},THICKNESS:{XSMALL:2,SMALL:4,MEDIUM:6,LARGE:8,XLARGE:10}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SM_EMAIL:"https://dev5_static.pdffiller.com/img/signature-manager/signature-email.png",SM_QR:"http://dev5_static.pdffiller.com/img/signature-manager/signature-qr.svg",SM_SMS:"https://dev5_static.pdffiller.com/img/signature-manager/signature-sms.png"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={height:200,width:200}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DESKTOP_TYPE:"desktop",TABLET_TYPE:"tablet",PHONE_TYPE:"phone"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={maxFileSize:"15 Mb",allowedFileTypes:["image/jpeg","image/jpg","image/png","image/gif"],imageDimensions:{width:640,height:480}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={IMAGE_MANAGER:"ImageManager",SIGNATURE_MANAGER:"SignatureManager"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(921),r=n(987),i=(a=r)&&a.__esModule?a:{default:a};var l=[{icon:"sign-m-svg-icon-draw",id:"draw",typeDispatch:o.MODE_TYPES.SM_DRAW,subType:i.default.curve},{icon:"sign-m-svg-icon-upload",id:"upload",typeDispatch:o.MODE_TYPES.SM_UPLOADER,subType:i.default.image},{icon:"sign-m-svg-icon-camera",id:"capture",typeDispatch:o.MODE_TYPES.SM_CAPTURE,subType:i.default.image},{strip:"fast",icon:"sign-m-svg-icon-qr-mobile",id:"qr",typeDispatch:o.MODE_TYPES.SM_QR,subType:i.default.curve},{strip:"new",icon:"sign-m-svg-icon-notarize",id:"notarize",typeDispatch:o.MODE_TYPES.SM_NOTARIZE,subType:"",experiment:!0},{icon:"sign-m-svg-icon-sms-mobile",id:"sms",typeDispatch:o.MODE_TYPES.SM_SMS,subType:i.default.curve},{icon:"sign-m-svg-icon-email-mobile",id:"email",typeDispatch:o.MODE_TYPES.SM_EMAIL,subType:i.default.curve}];t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ws=void 0;var a=n(904),o={images:[{systemId:17891,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17896,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17826,url:"http://s3.amazonaws.com/TimeScapes/images/stills/4k/big_sur.jpg"},{systemId:17891,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17896,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17826,url:"http://s3.amazonaws.com/TimeScapes/images/stills/4k/big_sur.jpg"}],signatures:[{id:123423,subType:a.SUB_TYPES.curve,curve:[{lineWidth:1,smoothing:!0,color:"#000000",controlPoints:[0,0,10,10,20,20]},{lineWidth:1,smoothing:!0,color:"#000000",controlPoints:[0,0,10,40,20,70]}]},{id:89897812,subType:a.SUB_TYPES.image,url:"http://s3.amazonaws.com/TimeScapes/images/stills/4k/big_sur.jpg"},{id:45645,subType:a.SUB_TYPES.initials,fontFamily:a.FONTS.PETRA.original,fontSize:12,text:"A. N."},{id:4531645,subType:a.SUB_TYPES.initials,fontFamily:a.FONTS.PETRA.original,fontSize:50,text:"Long Initials"},{id:91827,subType:a.SUB_TYPES.text,fontFamily:a.FONTS.PETRA.original,fontSize:50,text:"Long Text"}]};t.ws=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={browser:"Chrome@52.0.2743.82",browserName:"Chrome",os:"GNU/Linux",osVersion:"",type:n(904).RENDER.DESKTOP_TYPE};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(192)),o=u(n(357)),r=u(n(207)),i=n(182),l=n(929),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),d=n(904);function u(e){return e&&e.__esModule?e:{default:e}}var c=void 0;t.default=function(e){return function(t){return function(n){switch(n.type){case l.actionTypes.INITIAL:e.dispatch((0,i.setLocale)("imageManager",d.LOCALE.imageManagerLocale)),e.dispatch((0,i.setLocale)("signatureManager",d.LOCALE.signatureManagerLocale));break;case l.actionTypes.API_REST_SET:c=new r.default("ImageSignatureManager",n.config);break;case l.actionTypes.SM_LAUNCH_UPLOAD_IMAGE:if(c){var u=n.data,p=n.dimensions,h=n.callback;e.dispatch(s.smUploading()),c.upload(u,function(t,n){if(n){var a=(0,o.default)({},n,p);h(null,a)}else e.dispatch(s.smSetError(t))},function(t){return e.dispatch(s.setUploadedPercent(t))})}else e.dispatch(s.smSetError("apiRest is "+(void 0===c?"undefined":(0,a.default)(c))));break;case l.actionTypes.LAUNCH_UPLOAD_IMAGE:if(c){var f=n.data,m=n.dimensions,E=n.callback;e.dispatch(s.uploading()),c.upload(f,function(t,n){if(n){var a=(0,o.default)({},n,m);E(null,a)}else e.dispatch(s.setError(t))},function(t){return e.dispatch(s.setUploadedPercent(t))})}break;case l.actionTypes.SM_GET_QR_URL:c?c.getQrUrl(function(t,n){n?(n=n.replace("#","%23"),e.dispatch(s.setQrUrl("https://chart.googleapis.com/chart?chs="+d.QR_PROPS.height+"x"+d.QR_PROPS.width+"&cht=qr&chl="+n))):e.dispatch(s.smSetError(t))}):e.dispatch(s.smSetError("apiRest is "+(void 0===c?"undefined":(0,a.default)(c))));break;case l.actionTypes.SM_SEND_PHONE_NUMBER:if(c){var _=e.getState().im.phoneNumber;c.sendPhoneNumber(_,function(t){t&&e.dispatch(s.smSetError(t))})}else e.dispatch(s.smSetError("apiRest is "+(void 0===c?"undefined":(0,a.default)(c))));break;case l.actionTypes.SM_SEND_EMAIL:if(c){var S=e.getState().im.email;c.sendEmail(S,function(t){t&&e.dispatch(s.smSetError(t))})}else e.dispatch(s.smSetError("apiRest is "+(void 0===c?"undefined":(0,a.default)(c))))}return t(n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(988)),o=s(n(913)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),i=n(929),l=n(904);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){return function(n){var s=t(n),d=e.getState().im.modeSignature.type;switch(n.type){case a.default.EDITED_IMAGE_SET:d!==l.MODE_TYPES.SM_CAPTURE&&d!==l.MODE_TYPES.SM_UPLOADER||e.dispatch(r.smOpenEditorPreview());break;case a.default.INITIAL_STATE_RESTORE:d===l.MODE_TYPES.SM_EDITOR_PREVIEW&&e.dispatch(r.smOpenEditor());break;case a.default.EDITED_IMAGE_RESTORE:d===l.MODE_TYPES.SM_EDITOR&&e.dispatch(r.smOpenEditorPreview());break;case i.actionTypes.CLOSE_SIGNATURE:switch(d){case l.MODE_TYPES.SM_EDITOR_PREVIEW:case l.MODE_TYPES.SM_EDITOR:case l.MODE_TYPES.SM_TEXT_EDIT:case l.MODE_TYPES.SM_CURVE_EDIT:case l.MODE_TYPES.SM_IMAGE_EDIT:e.dispatch(o.default.resetEditor())}}return s}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(502),r=(a=o)&&a.__esModule?a:{default:a};t.default=(0,r.default)({flipRotate:null,crop:null,erase:null,adjust:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={toolbar:{flipRotate:"Flip / Rotate",crop:"Crop",erase:"Erase",adjust:"Adjust"},toolSubBar:{flipHorizontal:"Flip horizontal",flipVertical:"Flip vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",applyCrop:"Apply Crop",thickness:"Thickness",autoAdjust:"Auto"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={minThreshold:100,maxThreshold:255,defaultThreshold:255,minBrightness:-50,maxBrightness:50,defaultBrightness:0,minContrast:-100,maxContrast:100,defaultContrast:0,thickness:[2,4,6,8,10]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={contrast:40,brightness:35,threshold:120}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0,freeScroll:!0,scrollX:!0,zoom:!0,bounce:!1,centerOnZoomOut:!0,zoomMax:n(989).MAX_ZOOM,zoomMin:0};t.default=a},function(e,t,n){"use strict";var a=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){var n;return t&&!0===t.clone&&a(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e}function i(e,t,n){var o=e.slice();return t.forEach(function(t,i){void 0===o[i]?o[i]=r(t,n):a(t)?o[i]=l(e[i],t,n):-1===e.indexOf(t)&&o.push(r(t,n))}),o}function l(e,t,n){var o=Array.isArray(t);return o===Array.isArray(e)?o?((n||{arrayMerge:i}).arrayMerge||i)(e,t,n):function(e,t,n){var o={};return a(e)&&Object.keys(e).forEach(function(t){o[t]=r(e[t],n)}),Object.keys(t).forEach(function(i){a(t[i])&&e[i]?o[i]=l(e[i],t[i],n):o[i]=r(t[i],n)}),o}(e,t,n):r(t,n)}l.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return l(e,n,t)})};var s=l;e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={areParamsDefault:function(e){return e.flipHorizontally||e.flipVertically||255!==e.threshold||0!==e.contrast||0!==e.brightness},getCurrentImageParams:function(e){return{flipHorizontally:e.isFlippedHorizontally,flipVertically:e.isFlippedVertically,contrast:e.contrast,threshold:e.threshold,brightness:e.brightness}},getParamsForImageFlipping:function(e){return{contrast:e.contrast,threshold:e.threshold,brightness:e.brightness}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(357)),o=s(n(915)),r=s(n(58)),i=s(n(59)),l=n(917);function s(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){(0,r.default)(this,e),this.images=[],this.states=[],this.deletedSteps=0,this.availableStatesCount=0,this.originalImage=null,this.editedImageState=null}return(0,i.default)(e,[{key:"init",value:function(e,t){this.clear(),this.saveImageState(e,{},t),this.saveOriginalImage(t)}},{key:"getImageState",value:function(e){var t=this.states[e],n=t.srcIndex,r=(0,o.default)(t,["srcIndex"]);return(0,a.default)({src:this.images[n]},r)}},{key:"getImage",value:function(e){var t=this.states[e];return this.images[t.srcIndex]||this.originalImage}},{key:"getEditedImageState",value:function(){return this.editedImageState}},{key:"saveOriginalImage",value:function(e){this.originalImage=e}},{key:"saveEditedImage",value:function(e,t,n){this.editedImageState={src:e,params:t,dimensions:n}}},{key:"saveImageState",value:function(e,t,n){this.checkFutureSteps(e),n&&this.images.push(n);var o=(0,a.default)({isAutoCleaned:!1,flipHorizontally:!1,flipVertically:!1,contrast:0,brightness:0,threshold:255,srcIndex:this.images.length-1},t);return this.states.push(o),this.availableStatesCount>l.MAX_HISTORY_LENGTH&&this.removeState(),this.states.length}},{key:"checkFutureSteps",value:function(e){var t=e+1,n=this.states.length;if(t<n){var a=this.states.splice(t,n-e),o=a[0].srcIndex,r=this.images.length;r>1&&this.images.splice(o,r-o),this.availableStatesCount-=a.length}else this.availableStatesCount++}},{key:"removeState",value:function(){var e=this.states[this.deletedSteps],t=this.states[this.deletedSteps+1];if(e.srcIndex!==t.srcIndex)for(var n=0;n<e.srcIndex+1;n++)this.images[n]="";delete this.states[this.deletedSteps],this.deletedSteps++}},{key:"restoreInitialState",value:function(){return this.images=[],this.states=[],this.deletedSteps=0,this.availableStatesCount=0,this.saveImageState(1,{},this.originalImage),this.originalImage}},{key:"clear",value:function(){this.images=[],this.states=[],this.deletedSteps=0,this.availableStatesCount=0,this.originalImage=null,this.editedImageState=null}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=R(n(357)),r=R(n(69)),i=R(n(58)),l=R(n(59)),s=R(n(70)),d=R(n(71)),u=R(n(3)),c=n(1),p=R(c),h=n(8),f=R(n(937)),m=R(n(993)),E=n(912),_=R(n(908)),S=R(n(913)),g=R(n(1008)),v=R(n(1011)),T=n(1012),O=n(1013),C=n(1214),y=n(1220),D=n(1221),M=n(932),A=n(904),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),I=n(907);function R(e){return e&&e.__esModule?e:{default:e}}var N=A.modalIds.IMAGE_MANAGER,w=m.default.DropzoneComponentWrapper,P=m.default.DropzoneButton,L=m.default.DropzoneContent,k=m.default.DropzoneTitle,B=f.default.Webcam,x=f.default.WebcamUtils,F={handleError:u.default.func.isRequired,setError:u.default.func,clearError:u.default.func,disableWebcam:u.default.func,uploading:u.default.func,uploadImage:u.default.func,initial:u.default.func,handleClose:u.default.func,handleUpload:u.default.func,handleUpdate:u.default.func,handleDelete:u.default.func,handleSelect:u.default.func,locale:u.default.object,dropzoneConfig:u.default.object,jsOnly:u.default.bool,uploadedPercent:u.default.number,mode:u.default.string,error:u.default.string,editedImage:u.default.string,images:u.default.array,initialImage:u.default.object,imageDimensions:u.default.object,addedImage:u.default.object,edit:u.default.func,setInitialImage:u.default.func},Y=(0,h.connect)(function(e){return{mode:e.im.mode,locale:(0,I.getImageManagerLocale)(e),dropzoneConfig:e.im.dropzoneConfig,uploadedPercent:e.im.uploadedPercent,error:e.im.imageManagerError,editedImage:e.signatureEditor.image,images:e.ws.images,addedImage:e.ws.addedImage,initialImage:e.signatureEditor.initialImage,imageDimensions:e.signatureEditor.imageDimensions}},{disableWebcam:b.disableWebcam,uploading:b.uploading,uploadImage:b.uploadImage,initial:b.initial,setError:b.setError,clearError:b.clearErrors,edit:b.edit,setInitialImage:S.default.setInitialImage})(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.onLoadFilesSelect=function(e,t,a){var o=n.props,r=o.dropzoneConfig,i=o.locale,l=o.setError,s={customErrors:i.errors.dropZone,imageDimensions:r.imageDimensions,checkImage:!0,maxFilesNumber:1,maxFileSize:t,allowedFileTypes:a};(0,E.validateFiles)(e,s,n.handleFilesSelect,l)},n.handleFilesSelect=function(e){var t=e[0];t&&n.handleImage(t.data,t.height,t.width)},n.handleImage=function(e,t,a){var r=n.props,i=r.mode,l=r.initialImage,s=r.imageDimensions,d=a&&t?{height:t,width:a}:s;n.props.uploadImage(e,d,function(e,t){if(t)if(i.type===A.MODE_TYPES.EDIT){var a=(0,o.default)({},t,{id:l.id});n.props.handleUpdate(a)}else n.props.handleUpload(t)})},n.handleImageLoading=function(e){n.setState({imageLoading:e})},n.handleSaveAndUse=function(e){var t=n.props.editedImage;n.setState({use:e}),n.handleImage(t)},n.handleClose=function(){var e=n.props,t=e.handleClose,a=e.initial;t&&t(),a()},n.handleError=function(e){var t=n.props,a=t.handleError,o=t.locale,r=t.clearError;a({btnConfirmText:o.errorModal.button,title:o.errorModal.title,content:e}),r()},n.setReference=function(e){n.webcamInstance=e},n.webcamInstance=null,n.state={use:!1,imageLoading:!1},n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.disableWebcam,n=e.jsOnly;x.checkWebcamAvailability(n,function(e){e||t()})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.error,a=t.addedImage;a&&a!==e.addedImage&&this.state.use&&(this.props.handleSelect(a),this.props.initial()),n&&n!==e.error&&this.handleError(n)}},{key:"renderHeaderByTypeContent",value:function(e){var t=this.props,n=t.locale,a=t.initial,o={status:!0},r="",i="",l=void 0;switch(e){case A.MODE_TYPES.INITIAL:r="sign-m-svg-icon-img",i=n.gallery.header,o.status=!1;break;case A.MODE_TYPES.EDIT:r="sign-m-svg-icon-pencil",i=n.edit.header,l=a;break;case A.MODE_TYPES.CAPTURE:r="sign-m-svg-icon-camera-sm",i=n.capture.header,l=a;break;case A.MODE_TYPES.UPLOAD:r="sign-m-svg-icon-upload-sm",i=n.upload.header,l=a;break;case A.MODE_TYPES.MOBILE_UPLOAD:r="sign-m-svg-icon-upload-sm",i=n.upload.header;break;case A.MODE_TYPES.UPLOADING:r="sign-m-svg-icon-upload-sm",i=n.uploading.header}return p.default.createElement(T.ImageManagerHeader,{icon:r,title:i,btnBackDispatch:l,btnBack:o,handleClose:this.handleClose})}},{key:"renderComponentByTypeContent",value:function(e,t){var n=this,a=this.props,o=a.handleDelete,r=a.handleSelect,i=a.images,l=a.locale,s=a.uploadedPercent,d=a.jsOnly,u=a.dropzoneConfig,c=a.initial,h=a.setError;if(this.state.imageLoading)return p.default.createElement("div",{className:"loading-overlay"},p.default.createElement(M.Loader,{title:l.gallery.loadingImage}));switch(e){case A.MODE_TYPES.INITIAL:return i?[p.default.createElement(C.ImageManagerContentInitial,{handleDelete:o,handleSelect:r,handleEdit:this.props.edit,handleImageLoading:this.handleImageLoading,setInitialImage:this.props.setInitialImage,uploaderIcon:t.btnIcons.uploader,captureIcon:t.btnIcons.capture,locale:l.gallery,images:i,key:"ImageManagerContentInitialINITIAL"})]:p.default.createElement("div",{className:"loading-overlay",key:"LoaderSM_GALLERY"},p.default.createElement(M.Loader,{title:l.gallery.loadingImages}));case A.MODE_TYPES.EDIT:return[p.default.createElement("div",{className:"sign-m-body",key:"EDIT_content"},p.default.createElement(g.default,null)),p.default.createElement(v.default,{key:"EDIT_footer",handleSaveAndUse:this.handleSaveAndUse})];case A.MODE_TYPES.UPLOAD:return[p.default.createElement("div",{key:"divUPLOAD",className:"sign-m-body"},p.default.createElement(w,{maxFileSize:u.maxFileSize,allowedFileTypes:u.allowedFileTypes,handleFilesSelect:this.handleFilesSelect,handleErrors:h,errors:l.errors.dropZone,checkImage:!0},p.default.createElement(k,{title:l.upload.dropZone.title}),p.default.createElement(L,{content:l.upload.dropZone.text+" "+u.maxFileSize+"."}),p.default.createElement(P,{title:l.upload.dropZone.button,className:"g-btn g-btn-primary g-btn-auto-width"}))),p.default.createElement(y.ImageManagerFooter,{key:"ImageManagerFooterUPLOAD",backButtonText:l.backButton,onButtonClick:c})];case A.MODE_TYPES.MOBILE_UPLOAD:var f=this.props.mode,m=u.maxFileSize,E=u.allowedFileTypes;return this.onLoadFilesSelect(f.targetFiles,m,E),[p.default.createElement(O.ImageManagerContentUploading,{title:l.uploading.text,uploadedPercent:s,key:"ImageManagerContentUploadingSM_MOBILE_UPLOADER"}),p.default.createElement(y.ImageManagerFooter,{key:"ImageManagerFooterMOBILE_UPLOAD",backButtonText:l.backButton,onButtonClick:c})];case A.MODE_TYPES.UPLOADING:return[p.default.createElement(O.ImageManagerContentUploading,{key:"ImageManagerContentUploadingUPLOADING",title:l.uploading.text,uploadedPercent:s}),p.default.createElement(y.ImageManagerFooter,{key:"ImageManagerFooterUPLOADING",backButtonText:l.backButton,onButtonClick:c})];case A.MODE_TYPES.CAPTURE:return[p.default.createElement("div",{key:"divCAPTURE",className:"sign-m-body"},p.default.createElement("div",null,l.capture.text),p.default.createElement("div",{className:"crop-body"},p.default.createElement("div",{className:"crop-body-table"},p.default.createElement("div",{className:"crop-body-cell"},p.default.createElement(B,{ref:this.setReference,handleImage:this.handleImage,handleError:h,jsOnly:d,isImageMirrored:!0}))))),p.default.createElement(D.ImageManagerFooterCapture,{key:"ImageManagerFooterCaptureCAPTURE",takeSnapShot:function(){return n.webcamInstance.takeSnapshot()}})];default:return null}}},{key:"render",value:function(){var e=this.props.mode,t=A.MODES[e.type],n=t.content.mods||"";return p.default.createElement(_.default,{contentLabel:"Modal",className:"sign-m "+n,overflow:"hidden"},this.renderHeaderByTypeContent(t.content.type),this.renderComponentByTypeContent(t.content.type,t.footer))}}],[{key:"getModalId",value:function(){return N}}]),t}(c.Component))||a;t.default=Y,Y.propTypes=F},function(e,t,n){e.exports=n(1139)()},function(e,t,n){"use strict";var a=n(1140);function o(){}e.exports=function(){function e(e,t,n,o,r,i){if(i!==a){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var a=n(32)("wks"),o=n(9),r=n(0).Symbol,i="function"==typeof r;(e.exports=function(e){return a[e]||(a[e]=i&&r[e]||(i?r:o)("Symbol."+e))}).store=a},function(e,t,n){var a=n(0),o=n(2),r=n(8),i=n(22),l=n(10),s=function(e,t,n){var d,u,c,p,h=e&s.F,f=e&s.G,m=e&s.S,E=e&s.P,_=e&s.B,S=f?a:m?a[t]||(a[t]={}):(a[t]||{}).prototype,g=f?o:o[t]||(o[t]={}),v=g.prototype||(g.prototype={});for(d in f&&(n=t),n)c=((u=!h&&S&&void 0!==S[d])?S:n)[d],p=_&&u?l(c,a):E&&"function"==typeof c?l(Function.call,c):c,S&&i(S,d,c,e&s.U),g[d]!=c&&r(g,d,p),E&&v[d]!=c&&(v[d]=c)};a.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){var a=n(16),o=n(21);e.exports=n(3)?function(e,t,n){return a.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=0,a=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+a).toString(36))}},function(e,t,n){var a=n(24);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,o){return e.call(t,n,a,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var a=n(28),o=Math.min;e.exports=function(e){return e>0?o(a(e),9007199254740991):0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),a=e.name||"",o=e.type||"",r=o.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim();return"."===t.charAt(0)?a.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?r===t.replace(/\/.*$/,""):o===t})}return!0},n(14),n(34)},function(e,t,n){n(15),e.exports=n(2).Array.some},function(e,t,n){"use strict";var a=n(7),o=n(25)(3);a(a.P+a.F*!n(33)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var a=n(17),o=n(18),r=n(20),i=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(a(e),t=r(t,!0),a(n),o)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var a=n(1);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(3)&&!n(4)(function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var a=n(1),o=n(0).document,r=a(o)&&a(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},function(e,t,n){var a=n(1);e.exports=function(e,t){if(!a(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!a(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!a(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!a(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var a=n(0),o=n(8),r=n(23),i=n(9)("src"),l=Function.toString,s=(""+l).split("toString");n(2).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,n,l){var d="function"==typeof n;d&&(r(n,"name")||o(n,"name",t)),e[t]!==n&&(d&&(r(n,i)||o(n,i,e[t]?""+e[t]:s.join(String(t)))),e===a?e[t]=n:l?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||l.call(this)})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var a=n(10),o=n(26),r=n(27),i=n(12),l=n(29);e.exports=function(e,t){var n=1==e,s=2==e,d=3==e,u=4==e,c=6==e,p=5==e||c,h=t||l;return function(t,l,f){for(var m,E,_=r(t),S=o(_),g=a(l,f,3),v=i(S.length),T=0,O=n?h(t,v):s?h(t,0):void 0;v>T;T++)if((p||T in S)&&(E=g(m=S[T],T,_),e))if(n)O[T]=E;else if(E)switch(e){case 3:return!0;case 5:return m;case 6:return T;case 2:O.push(m)}else if(u)return!1;return c?-1:d||u?u:O}}},function(e,t,n){var a=n(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},function(e,t,n){var a=n(11);e.exports=function(e){return Object(a(e))}},function(e,t){var n=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},function(e,t,n){var a=n(30);e.exports=function(e,t){return new(a(e))(t)}},function(e,t,n){var a=n(1),o=n(31),r=n(6)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),a(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var a=n(5);e.exports=Array.isArray||function(e){return"Array"==a(e)}},function(e,t,n){var a=n(0),o=a["__core-js_shared__"]||(a["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){"use strict";var a=n(4);e.exports=function(e,t){return!!e&&a(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){n(35),e.exports=n(2).String.endsWith},function(e,t,n){"use strict";var a=n(7),o=n(12),r=n(36),i="".endsWith;a(a.P+a.F*n(38)("endsWith"),"String",{endsWith:function(e){var t=r(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,a=o(t.length),l=void 0===n?a:Math.min(o(n),a),s=String(e);return i?i.call(t,s,l):t.slice(l-s.length,l)===s}})},function(e,t,n){var a=n(37),o=n(11);e.exports=function(e,t,n){if(a(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var a=n(1),o=n(5),r=n(6)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==o(e))}},function(e,t,n){var a=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,!"/./"[e](t)}catch(e){}}return!0}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(358)),o=c(n(69)),r=c(n(58)),i=c(n(59)),l=c(n(70)),s=c(n(71)),d=c(n(1143)),u=n(994);function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.validation=new d.default,n.validateFiles=n.validateFiles.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"validateFiles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,o=n.errors,r=n.maxFileSize,i=n.allowedFileTypes,l=n.maxFilesNumber,s=n.checkImage,d=n.imageDimensions,u=n.handleErrors,c=n.handleFilesSelect;this.validation.asyncValidate([].concat((0,a.default)(e),(0,a.default)(t)),{customErrors:o,maxFileSize:r,allowedFileTypes:i,maxFilesNumber:l,checkImage:s,imageDimensions:d}).then(c).catch(u)}}]),t}(c(u).default);t.default=p,p.propTypes=u.propTypes,p.defaultProps=u.defaultProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=c(n(357)),i=c(n(504)),l=c(n(58)),s=c(n(59)),d=c(n(959)),u=n(960);function c(e){return e&&e.__esModule?e:{default:e}}var p=(o=a=function(){function e(){(0,l.default)(this,e)}return(0,s.default)(e,[{key:"validateRealFileType",value:function(t){var n=this.params.allowedFileTypes,a=this.errorsStrings,o=a.WRONG_TYPE,r=a.FILE_CANT_BE_OPENED;return new i.default(function(a,i){var l=new FileReader;l.onloadend=function(r){var l=r.target.result,s=new Uint8Array(l).subarray(0,4).reduce(e.formathexSignature,""),d=e.checkType(t.type,s);return d&&n.includes(d.toLowerCase())?a():i({error:o,fileName:t.name,brokenCondition:u.ERRORS.WRONG_TYPE})},l.onerror=function(){return i({error:r,fileName:t.name,brokenCondition:u.ERRORS.FILE_CANT_BE_OPENED})},l.readAsArrayBuffer(t)})}},{key:"validateMaxFileSize",value:function(e){var t=this.params.maxFileSize,n=this.errorsStrings.BIG_FILE;return new i.default(function(a,o){var r=(0,d.default)(t.toLowerCase());return t&&e.size>r?o({error:n,fileName:e.name,brokenCondition:t}):a()})}},{key:"validateFile",value:function(e){return i.default.all([this.validateRealFileType.call(this,e),this.validateMaxFileSize.call(this,e)]).then(function(){return e})}},{key:"getErrorsStrings",value:function(){var e=this.params.customErrors;return e?(0,r.default)({},u.ERRORS,e):u.ERRORS}},{key:"isFileListExist",value:function(){return!this.filesList||!this.filesList.length}},{key:"isFileListLessAllow",value:function(){var e=this.params.maxFilesNumber;return!!(e&&this.filesList.length>e)}},{key:"getValidParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowedFileTypes;return t&&Array.isArray(t)?(0,r.default)({},e,{allowedFileTypes:t.join()}):e}},{key:"asyncValidate",value:function(e,t){var n=this;return this.filesList=e,this.params=this.getValidParams(t),this.errorsStrings=this.getErrorsStrings(),new i.default(function(t,a){var o=n.isFileListExist(),r=n.isFileListLessAllow(),l=n.errorsStrings,s=l.NO_FILES,d=l.TOO_MANY_FILES;return o?a([{error:s,brokenCondition:""}]):r?a([{error:d,brokenCondition:""}]):void i.default.all(Array.prototype.map.call(e,n.validateFile,n)).then(t).catch(function(e){return a([e])})})}}],[{key:"formathexSignature",value:function(e,t,n){return e+(n>0?" ":"")+t.toString(16)}},{key:"checkType",value:function(t,n){return t.endsWith("zip")||t.endsWith("pages")?t:e.FILE_TYPE_ALIAS_FORMAT[t]?e.FILE_TYPE_ALIAS_FORMAT[t]:e.HEX_SIGNATURE[n]||t}}]),e}(),a.HEX_SIGNATURE={"25 50 44 46":"PDF","45 6d 70 74":"TXT","ff fe 45 0":"TXT","0 45 0 6d":"TXT","45 0 6d 0":"TXT","ff fe 0 0":"TXT","0 0 0 45":"TXT","45 0 0 0":"TXT","31 32 33":"TXT","ff fe 31 0":"TXT","ef bb bf 31":"TXT","45 78 61 6d":"TXT","4c 6f 72 65":"TXT","ff d8 ff e0":"JPG","89 50 4e 47":"PNG","3c 3f 78 6d":"SVG","3c 68 74 6d":"HTML","50 4b 3 4":"DOC","d0 cf 11 e0":"DOC","d0 a0 d0 b0":"DOC","7b 5c 72 74":"RTF"},a.FILE_TYPE_ALIAS_FORMAT={"application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.openxmlformats-officedocument.presentationml.slide":"sldx","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","application/vnd.openxmlformats-officedocument.presentationml.template":"potx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","application/vnd.oasis.opendocument.text":"odt","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.presentation":"odp"},o);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(69)),o=h(n(58)),r=h(n(59)),i=h(n(70)),l=h(n(71)),s=n(1),d=h(s),u=h(n(3)),c=h(n(1145)),p=n(930);function h(e){return e&&e.__esModule?e:{default:e}}var f={title:u.default.string.isRequired,onSelect:u.default.func.isRequired,inputId:u.default.string,className:u.default.string,multiple:u.default.bool,allowedFileTypes:u.default.oneOfType([u.default.string,u.default.array])},m=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.inputId,n=e.allowedFileTypes,a=e.title,o=e.onSelect,r=e.multiple,i=e.className,l=e.onClick;return d.default.createElement(c.default,{onClick:l,title:a,onSelect:o,inputId:t,inputType:"file",inputAccept:n,multiple:r,buttonClasses:i})}}],[{key:"getId",value:function(){return p.IDS.button}}]),t}(s.Component);t.default=m,m.propTypes=f,m.defaultProps={onSelect:function(){return{}},title:"Select file",inputId:"dropzoneInput",multiple:!1,allowedFileTypes:"",buttonClasses:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(69)),o=p(n(58)),r=p(n(59)),i=p(n(70)),l=p(n(71)),s=n(1),d=p(s),u=p(n(3)),c=n(1146);function p(e){return e&&e.__esModule?e:{default:e}}var h={onSelect:u.default.func.isRequired,title:u.default.string.isRequired,inputType:u.default.string.isRequired,multiple:u.default.bool,inputId:u.default.string,buttonClasses:u.default.string,inputAccept:u.default.oneOfType([u.default.string,u.default.array])},f=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.handleSelect=e.handleSelect.bind(e),e.openInput=e.openInput.bind(e),e}return(0,l.default)(t,e),(0,r.default)(t,[{key:"handleSelect",value:function(e){(0,this.props.onSelect)(e.target.files)}},{key:"openInput",value:function(){var e=this.props.onClick;e?e():this.input&&this.input.input.click()}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.inputId,o=t.inputType,r=t.inputAccept,i=t.multiple,l="js-fileapi-wrapper "+t.buttonClasses;return d.default.createElement("div",{className:"g-form-group-file"},d.default.createElement("div",{className:l,onClick:this.openInput},n),d.default.createElement(c.Input,{value:"",hidden:"hidden",type:o,id:a,ref:function(t){return e.input=t},accept:r,onChange:this.handleSelect,multiple:i,clearOnChange:!0}))}}]),t}(s.Component);t.default=f,f.propTypes=h,f.defaultProps={multiple:!1,inputId:"input-button",buttonClasses:"",inputAccept:""}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;var a,o=E(n(357)),r=E(n(69)),i=E(n(58)),l=E(n(59)),s=E(n(70)),d=E(n(71)),u=E(n(1)),c=E(n(3)),p=E(n(911)),h=E(n(995)),f=E(n(931)),m=n(1195);function E(e){return e&&e.__esModule?e:{default:e}}var _=e.document||{},S=t.Input=(0,f.default)(a=(0,h.default)(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return n.regInput=function(e){var t=n.props.inputRef;n.input=e,"function"==typeof t&&t(e)},n.state={value:e.value||"",isValid:!0,errorMessage:"",isPristine:!0,isBlured:!1},n.handleChange=n.handleChange.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"callHandleIsValidCallback",value:function(e){(0,this.props.handleIsValid)(this.validate(e||""))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.value,a=t.trim,o=e.value;if(a&&(o=o.trim()),n!==o&&this.callHandleIsValidCallback(o),e.validate){var r=this.validate(o||"");this.showValidation(r)}}},{key:"componentDidMount",value:function(){var e=this.props.value;this.callHandleIsValidCallback(e)}},{key:"showValidation",value:function(e){this.setState({isValid:e})}},{key:"isValid",value:function(e){null!=e&&this.setState({isPristine:e,isBlured:!e});var t=this.props,n=t.validate,a=t.value,o=t.externalError;if(!n)return!0;var r=this.validate(a||"")&&!o;return this.showValidation(r),r}},{key:"isPristine",value:function(){return this.state.isPristine}},{key:"needToRenderError",value:function(){var e=this.props,t=e.externalError,n=e.validate,a=this.state,o=a.isValid,r=a.isPristine,i=a.isBlured;return!!t||n&&i&&!(r||o)}},{key:"handleChange",value:function(e){var t=this.props,n=t.onChange,a=t.clearOnChange,o=t.handleIsValid,r=t.trim,i=e.target.value;r&&(i=i.trim());var l=this.validate(i);this.setState({value:i,isPristine:!1}),n(e),!this.state.isValid&&this.setState({isValid:!0}),o(l),a&&this.setState({value:"",isPristine:!0,isBlured:!1})}},{key:"handleFocus",value:function(e){var t=this.props,n=t.onFocus;t.moveCursorAtEnd&&this.moveCaretAtEnd(e),n(e)}},{key:"handleBlur",value:function(e){var t=this.props.onBlur;this.setState({isBlured:!0}),t&&t(e)}},{key:"renderErrorMessage",value:function(){var e=this.props,t=e.className,n=e.externalError,a=!this.state.isValid||n?"g-form-group__message--error":"";return u.default.createElement("div",{className:(0,p.default)({name:"g-form-group__message",modifiers:["size"],disabled:["disabled"]},a,this.props,t)},n||this.state.errorMessage)}},{key:"renderLabel",value:function(){var e=this.props,t=e.id,n=e.label;return t&&n?u.default.createElement("label",{htmlFor:t},n):null}},{key:"renderAddressBookButton",value:function(){var e=this.props.handleAddressBookButtonClick;return u.default.createElement("span",{className:"g-form-add-contact",onClick:e})}},{key:"focus",value:function(){this.input&&_.activeElement!==this.input&&this.input.focus()}},{key:"render",value:function(){var e=(0,m.filterHtmlProps)(this.props),t=this.props,n=t.value,a=t.className,r=t.showCross,i=t.useStateValue,l=this.props,s=l.handleCrossClick,d=l.showAddressBookButton,c=l.containerClass,h=this.needToRenderError(),f={name:"g-form-control",modifiers:["size","type","placeholder-bold"],disabled:["disabled"],error:h},E=h?"g-form-control--error":"",_=void 0===n||i?this.state.value:n;return u.default.createElement("div",{className:"g-form-group "+c},this.renderLabel(),u.default.createElement("input",(0,o.default)({},e,{value:_,ref:this.regInput,className:(0,p.default)(f,E,this.props,a),onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur})),r&&_&&u.default.createElement("div",{className:"g-form-group__cross",onClick:s}),d&&this.renderAddressBookButton(),h&&this.renderErrorMessage())}}]),t}(u.default.Component))||a)||a;S.defaultProps={containerClass:"",label:null,validations:[],validate:!1,clearOnChange:!1,multiple:!1,showAddressBookButton:!1,showCross:!1,trim:!1,onChange:function(){},onFocus:function(){},handleIsValid:function(){},handleCrossClick:function(){},handleAddressBookButtonClick:function(){},moveCursorAtEnd:!1,useStateValue:!1},S.propTypes={placeholder:c.default.string,type:c.default.string,value:c.default.string,name:c.default.string,containerClass:c.default.string,id:c.default.string,label:c.default.string,className:c.default.string,inputRef:c.default.oneOfType([c.default.string,c.default.func]),validations:c.default.array,validate:c.default.bool,clearOnChange:c.default.bool,multiple:c.default.bool,showAddressBookButton:c.default.bool,showCross:c.default.bool,trim:c.default.bool,handleAddressBookButtonClick:c.default.func,onFocus:c.default.func,onBlur:c.default.func,onChange:c.default.func,handleIsValid:c.default.func,handleCrossClick:c.default.func,externalError:c.default.string,moveCursorAtEnd:c.default.bool,useStateValue:c.default.bool}}).call(this,n(145))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=ue(n(946)),o=ue(n(996)),r=ue(n(1148)),i=ue(n(1149)),l=ue(n(1150)),s=ue(n(1151)),d=ue(n(1152)),u=ue(n(997)),c=ue(n(1153)),p=ue(n(1154)),h=ue(n(999)),f=ue(n(948)),m=ue(n(1155)),E=ue(n(1156)),_=ue(n(1157)),S=ue(n(1158)),g=ue(n(1159)),v=ue(n(1160)),T=ue(n(1161)),O=ue(n(1001)),C=ue(n(1002)),y=ue(n(1162)),D=ue(n(1163)),M=ue(n(1164)),A=ue(n(1165)),b=ue(n(1166)),I=ue(n(1167)),R=ue(n(1003)),N=ue(n(1168)),w=ue(n(1169)),P=ue(n(1170)),L=ue(n(1171)),k=ue(n(1172)),B=ue(n(1173)),x=ue(n(998)),F=ue(n(1174)),Y=ue(n(1175)),U=ue(n(1176)),H=ue(n(1177)),K=ue(n(1178)),G=ue(n(1179)),j=ue(n(1180)),W=ue(n(1181)),V=ue(n(1182)),z=ue(n(1183)),X=ue(n(1184)),q=ue(n(1185)),$=ue(n(1004)),Z=ue(n(1186)),Q=ue(n(1187)),J=ue(n(1005)),ee=ue(n(1006)),te=ue(n(1188)),ne=ue(n(1189)),ae=ue(n(1190)),oe=ue(n(1191)),re=ue(n(1192)),ie=ue(n(1007)),le=ue(n(1193)),se=ue(n(1194)),de=ue(n(947));function ue(e){return e&&e.__esModule?e:{default:e}}var ce={version:"6.3.0",toDate:a.default,toFloat:o.default,toInt:r.default,toBoolean:i.default,equals:l.default,contains:s.default,matches:d.default,isEmail:u.default,isURL:c.default,isMACAddress:p.default,isIP:h.default,isFQDN:f.default,isBoolean:m.default,isAlpha:E.default,isAlphanumeric:_.default,isNumeric:S.default,isLowercase:g.default,isUppercase:v.default,isAscii:T.default,isFullWidth:O.default,isHalfWidth:C.default,isVariableWidth:y.default,isMultibyte:D.default,isSurrogatePair:M.default,isInt:A.default,isFloat:b.default,isDecimal:I.default,isHexadecimal:R.default,isDivisibleBy:N.default,isHexColor:w.default,isMD5:P.default,isJSON:L.default,isEmpty:k.default,isLength:B.default,isByteLength:x.default,isUUID:F.default,isMongoId:Y.default,isDate:U.default,isAfter:H.default,isBefore:K.default,isIn:G.default,isCreditCard:j.default,isISIN:W.default,isISBN:V.default,isISSN:z.default,isMobilePhone:X.default,isCurrency:q.default,isISO8601:$.default,isBase64:Z.default,isDataURI:Q.default,ltrim:J.default,rtrim:ee.default,trim:te.default,escape:ne.default,unescape:ae.default,stripLow:oe.default,whitelist:re.default,blacklist:ie.default,isWhitelisted:le.default,normalizeEmail:se.default,toString:de.default};t.default=ce,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),parseInt(e,t||10)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t)return"1"===e||"true"===e;return"0"!==e&&"false"!==e&&""!==e};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),e===t};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(e),e.indexOf((0,o.default)(t))>=0};var a=r(n(902)),o=r(n(947));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(0,r.default)(e),"[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,n));return t.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,a.default)(e),!e||e.length>=2083||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;t=(0,i.default)(t,s);var n=void 0,l=void 0,c=void 0,p=void 0,h=void 0,f=void 0,m=void 0,E=void 0;if(m=e.split("#"),e=m.shift(),m=e.split("?"),e=m.shift(),(m=e.split("://")).length>1){if(n=m.shift(),t.require_valid_protocol&&-1===t.protocols.indexOf(n))return!1}else{if(t.require_protocol)return!1;t.allow_protocol_relative_urls&&"//"===e.substr(0,2)&&(m[0]=e.substr(2))}if(e=m.join("://"),m=e.split("/"),""===(e=m.shift())&&!t.require_host)return!0;if((m=e.split("@")).length>1&&(l=m.shift()).indexOf(":")>=0&&l.split(":").length>2)return!1;p=m.join("@"),f=E=null;var _=p.match(d);_?(c="",E=_[1],f=_[2]||null):(m=p.split(":"),c=m.shift(),m.length&&(f=m.join(":")));if(null!==f&&(h=parseInt(f,10),!/^[0-9]+$/.test(f)||h<=0||h>65535))return!1;if(!((0,r.default)(c)||(0,o.default)(c,t)||E&&(0,r.default)(E,6)||"localhost"===c))return!1;if(c=c||E,t.host_whitelist&&!u(c,t.host_whitelist))return!1;if(t.host_blacklist&&u(c,t.host_blacklist))return!1;return!0};var a=l(n(902)),o=l(n(948)),r=l(n(999)),i=l(n(922));function l(e){return e&&e.__esModule?e:{default:e}}var s={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},d=/^\[([^\]]+)\](?::([0-9]+))?$/;function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];if(e===a||(o=a,"[object RegExp]"===Object.prototype.toString.call(o)&&a.test(e)))return!0}var o;return!1}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),["true","false","1","0"].indexOf(e)>=0};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,r.default)(e),t in i.alpha)return i.alpha[t].test(e);throw new Error("Invalid locale '"+t+"'")};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a},i=n(1e3);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,r.default)(e),t in i.alphanumeric)return i.alphanumeric[t].test(e);throw new Error("Invalid locale '"+t+"'")};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a},i=n(1e3);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[-+]?[0-9]+$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e===e.toLowerCase()};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e===e.toUpperCase()};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[\x00-\x7F]+$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.fullWidth.test(e)&&l.halfWidth.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a},i=n(1001),l=n(1002);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/[^\x00-\x7F]/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=(t=t||{}).hasOwnProperty("allow_leading_zeroes")&&!t.allow_leading_zeroes?i:l,a=!t.hasOwnProperty("min")||e>=t.min,o=!t.hasOwnProperty("max")||e<=t.max,s=!t.hasOwnProperty("lt")||e<t.lt,d=!t.hasOwnProperty("gt")||e>t.gt;return n.test(e)&&a&&o&&s&&d};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,l=/^[-+]?[0-9]+$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t=t||{},""===e||"."===e)return!1;return i.test(e)&&(!t.hasOwnProperty("min")||e>=t.min)&&(!t.hasOwnProperty("max")||e<=t.max)&&(!t.hasOwnProperty("lt")||e<t.lt)&&(!t.hasOwnProperty("gt")||e>t.gt)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(?:[-+])?(?:[0-9]+)?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),""!==e&&i.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(e),(0,o.default)(e)%parseInt(t,10)==0};var a=r(n(902)),o=r(n(996));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[a-f0-9]{32}$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){(0,i.default)(e);try{var t=JSON.parse(e);return!!t&&"object"===(void 0===t?"undefined":a(t))}catch(e){}return!1};var o,r=n(902),i=(o=r)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),0===e.length};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){(0,i.default)(e);var n=void 0,o=void 0;"object"===(void 0===t?"undefined":a(t))?(n=t.min||0,o=t.max):(n=arguments[1],o=arguments[2]);var r=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],l=e.length-r.length;return l>=n&&(void 0===o||l<=o)};var o,r=n(902),i=(o=r)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";(0,r.default)(e);var n=i[t];return n&&n.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),(0,o.default)(e)&&24===e.length};var a=r(n(902)),o=r(n(1003));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=new Date(Date.parse(e));if(isNaN(t))return!1;var n=function(e){var t=e.match(i.iso8601),n=void 0,a=void 0,o=void 0,r=void 0;if(t){if(!(n=t[21]))return t[12]?null:0;if("z"===n||"Z"===n)return 0;a=t[22],-1!==n.indexOf(":")?(o=parseInt(t[23],10),r=parseInt(t[24],10)):(o=0,r=parseInt(t[23],10))}else{if(e=e.toLowerCase(),!(n=e.match(/(?:\s|gmt\s*)(-|\+)(\d{1,4})(\s|$)/)))return-1!==e.indexOf("gmt")?0:null;a=n[1];var l=n[2];3===l.length&&(l="0"+l),l.length<=2?(o=0,r=parseInt(l,10)):(o=parseInt(l.slice(0,2),10),r=parseInt(l.slice(2,4),10))}return(60*o+r)*("-"===a?1:-1)}(e);if(null!==n){var a=t.getTimezoneOffset()-n;t=new Date(t.getTime()+6e4*a)}var o=String(t.getDate()),l=void 0,s=void 0,d=void 0;if(!(s=e.match(/(^|[^:\d])[23]\d([^T:\d]|$)/g)))return!0;if(l=s.map(function(e){return e.match(/\d+/g)[0]}).join("/"),d=String(t.getFullYear()).slice(-2),l===o||l===d)return!0;if(l===""+o/d||l===""+d/o)return!0;return!1};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a},i=n(1004);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,a.default)(e);var n=(0,o.default)(t),r=(0,o.default)(e);return!!(r&&n&&r>n)};var a=r(n(902)),o=r(n(946));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,a.default)(e);var n=(0,o.default)(t),r=(0,o.default)(e);return!!(r&&n&&r<n)};var a=r(n(902)),o=r(n(946));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){(0,o.default)(e);var n=void 0;if("[object Array]"===Object.prototype.toString.call(t)){var i=[];for(n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=(0,r.default)(t[n]));return i.indexOf(e)>=0}if("object"===(void 0===t?"undefined":a(t)))return t.hasOwnProperty(e);if(t&&"function"==typeof t.indexOf)return t.indexOf(e)>=0;return!1};var o=i(n(902)),r=i(n(947));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=e.replace(/[^0-9]+/g,"");if(!i.test(t))return!1;for(var n=0,a=void 0,o=void 0,l=void 0,s=t.length-1;s>=0;s--)a=t.substring(s,s+1),o=parseInt(a,10),n+=l&&(o*=2)>=10?o%10+1:o,l=!l;return!(n%10!=0||!t)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})|62[0-9]{14}$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(e),!i.test(e))return!1;for(var t=e.replace(/[A-Z]/g,function(e){return parseInt(e,36)}),n=0,a=void 0,o=void 0,l=!0,s=t.length-2;s>=0;s--)a=t.substring(s,s+1),o=parseInt(a,10),n+=l&&(o*=2)>=10?o+1:o,l=!l;return parseInt(e.substr(e.length-1),10)===(1e4-n)%10};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,r.default)(t);n=String(n);if(!n)return e(t,10)||e(t,13);var a=t.replace(/[\s-]+/g,"");var o=0;var d=void 0;if("10"===n){if(!i.test(a))return!1;for(d=0;d<9;d++)o+=(d+1)*a.charAt(d);if("X"===a.charAt(9)?o+=100:o+=10*a.charAt(9),o%11==0)return!!a}else if("13"===n){if(!l.test(a))return!1;for(d=0;d<12;d++)o+=s[d%2]*a.charAt(d);if(a.charAt(12)-(10-o%10)%10==0)return!!a}return!1};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(?:[0-9]{9}X|[0-9]{10})$/,l=/^(?:[0-9]{13})$/,s=[1,3];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(e);var n=i;if(n=t.require_hyphen?n.replace("?",""):n,!(n=t.case_sensitive?new RegExp(n):new RegExp(n,"i")).test(e))return!1;var a=e.replace("-",""),o=8,l=0,s=!0,d=!1,u=void 0;try{for(var c,p=a[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var h=c.value,f="X"===h.toUpperCase()?10:+h;l+=f*o,--o}}catch(e){d=!0,u=e}finally{try{!s&&p.return&&p.return()}finally{if(d)throw u}}return l%11==0};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i="^\\d{4}-?\\d{3}[\\dX]$";e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t in i)return i[t].test(e);return!1};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i={"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"de-DE":/^(\+?49[ \.\-])?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,"da-DK":/^(\+?45)?(\d{8})$/,"el-GR":/^(\+?30)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-HK":/^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,"en-IN":/^(\+?91|0)?[789]\d{9}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)2\d{7,9}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5)?|50)\s?(\d\s?){4,8}\d$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[0248]|77)[1-9]\d{6}/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)\d{1,4}[ \-]?\d{1,4}[ \-]?\d{4}$/,"ms-MY":/^(\+?6?01){1}(([145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^(\+?55|0)\-?[1-9]{2}\-?[2-9]{1}\d{3,4}\-?\d{4}$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"vi-VN":/^(\+?84|0)?((1(2([0-9])|6([2-9])|88|99))|(9((?!5)[0-9])))([0-9]{7})$/,"zh-CN":/^(\+?0?86\-?)?1[345789]\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};i["en-CA"]=i["en-US"],i["fr-BE"]=i["nl-BE"],i["zh-HK"]=i["en-HK"],e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,o.default)(e),function(e){var t="(\\"+e.symbol.replace(/\./g,"\\.")+")"+(e.require_symbol?"":"?"),n="[1-9]\\d{0,2}(\\"+e.thousands_separator+"\\d{3})*",a="("+["0","[1-9]\\d*",n].join("|")+")?",o="(\\"+e.decimal_separator+"\\d{2})?",r=a+o;return e.allow_negatives&&!e.parens_for_negatives&&(e.negative_sign_after_digits?r+="-?":e.negative_sign_before_digits&&(r="-?"+r)),e.allow_negative_sign_placeholder?r="( (?!\\-))?"+r:e.allow_space_after_symbol?r=" ?"+r:e.allow_space_after_digits&&(r+="( (?!$))?"),e.symbol_after_digits?r+=t:r=t+r,e.allow_negatives&&(e.parens_for_negatives?r="(\\("+r+"\\)|"+r+")":e.negative_sign_before_digits||e.negative_sign_after_digits||(r="-?"+r)),new RegExp("^(?!-? )(?=.*\\d)"+r+"$")}(t=(0,a.default)(t,i)).test(e)};var a=r(n(922)),o=r(n(902));function r(e){return e&&e.__esModule?e:{default:e}}var i={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_space_after_digits:!1};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=e.length;if(!t||t%4!=0||i.test(e))return!1;var n=e.indexOf("=");return-1===n||n===t-1||n===t-2&&"="===e[t-1]};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/[^A-Z0-9+\/=]/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};var i=/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9!\$&',\(\)\*\+,;=\-\._~:@\/\?%\s]*\s*$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)((0,o.default)(e,t),t)};var a=r(n(1006)),o=r(n(1005));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#96;/g,"`")};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(e);var n=t?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,o.default)(e,n)};var a=r(n(902)),o=r(n(1007));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),e.replace(new RegExp("[^"+t+"]+","g"),"")};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);for(var n=e.length-1;n>=0;n--)if(-1===t.indexOf(e[n]))return!1;return!0};var a,o=n(902),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t=(0,o.default)(t,i),!(0,a.default)(e))return!1;var n=e.split("@"),r=n.pop(),u=[n.join("@"),r];if(u[1]=u[1].toLowerCase(),"gmail.com"===u[1]||"googlemail.com"===u[1]){if(t.gmail_remove_subaddress&&(u[0]=u[0].split("+")[0]),t.gmail_remove_dots&&(u[0]=u[0].replace(/\./g,"")),!u[0].length)return!1;(t.all_lowercase||t.gmail_lowercase)&&(u[0]=u[0].toLowerCase()),u[1]=t.gmail_convert_googlemaildotcom?"gmail.com":u[1]}else if(~l.indexOf(u[1])){if(t.icloud_remove_subaddress&&(u[0]=u[0].split("+")[0]),!u[0].length)return!1;(t.all_lowercase||t.icloud_lowercase)&&(u[0]=u[0].toLowerCase())}else if(~s.indexOf(u[1])){if(t.outlookdotcom_remove_subaddress&&(u[0]=u[0].split("+")[0]),!u[0].length)return!1;(t.all_lowercase||t.outlookdotcom_lowercase)&&(u[0]=u[0].toLowerCase())}else if(~d.indexOf(u[1])){if(t.yahoo_remove_subaddress){var c=u[0].split("-");u[0]=c.length>1?c.slice(0,-1).join("-"):c[0]}if(!u[0].length)return!1;(t.all_lowercase||t.yahoo_lowercase)&&(u[0]=u[0].toLowerCase())}else t.all_lowercase&&(u[0]=u[0].toLowerCase());return u.join("@")};var a=r(n(997)),o=r(n(922));function r(e){return e&&e.__esModule?e:{default:e}}var i={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},l=["icloud.com","me.com"],s=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],d=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterHtmlProps=t.isEligibleHtmlProp=t.eligibleHtmlProperties=void 0;var a=i(n(292)),o=i(n(359)),r=i(n(159));function i(e){return e&&e.__esModule?e:{default:e}}var l=t.eligibleHtmlProperties={accept:!0,acceptCharset:!0,accessKey:!0,action:!0,allowFullScreen:!0,allowTransparency:!0,alt:!0,async:!0,autoComplete:!0,autoFocus:!0,autoPlay:!0,capture:!0,cellPadding:!0,cellSpacing:!0,challenge:!0,charSet:!0,checked:!0,cite:!0,classID:!0,className:!0,colSpan:!0,cols:!0,content:!0,contentEditable:!0,contextMenu:!0,controls:!0,coords:!0,crossOrigin:!0,data:!0,dangerouslySetInnerHTML:!0,dateTime:!0,default:!0,defer:!0,dir:!0,disabled:!0,download:!0,draggable:!0,encType:!0,form:!0,formAction:!0,formEncType:!0,formMethod:!0,formNoValidate:!0,formTarget:!0,frameBorder:!0,headers:!0,height:!0,hidden:!0,high:!0,href:!0,hrefLang:!0,htmlFor:!0,httpEquiv:!0,icon:!0,id:!0,inputMode:!0,integrity:!0,is:!0,keyParams:!0,keyType:!0,kind:!0,label:!0,lang:!0,list:!0,loop:!0,low:!0,manifest:!0,marginHeight:!0,marginWidth:!0,max:!0,maxLength:!0,media:!0,mediaGroup:!0,method:!0,min:!0,minLength:!0,multiple:!0,muted:!0,name:!0,noValidate:!0,nonce:!0,open:!0,optimum:!0,pattern:!0,placeholder:!0,poster:!0,preload:!0,profile:!0,radioGroup:!0,readOnly:!0,rel:!0,required:!0,reversed:!0,role:!0,rowSpan:!0,rows:!0,sandbox:!0,scope:!0,scoped:!0,scrolling:!0,seamless:!0,selected:!0,shape:!0,size:!0,sizes:!0,span:!0,spellCheck:!0,src:!0,srcDoc:!0,srcLang:!0,srcSet:!0,start:!0,step:!0,style:!0,summary:!0,tabIndex:!0,target:!0,title:!0,type:!0,useMap:!0,value:!0,width:!0,wmode:!0,wrap:!0,autoCapitalize:!0,autoCorrect:!0,color:!0,itemProp:!0,itemScope:!0,itemType:!0,itemRef:!0,itemID:!0,security:!0,results:!0,autoSave:!0},s=t.isEligibleHtmlProp=function(e){return l[e]||/^on[A-Z][a-zA-Z]*$/.test(e)||/^(?:data|aria)-.*$/.test(e)},d=function(e){return function(t,n){return s(n)?function(e,t,n){return(0,r.default)(t,(0,o.default)({},n,e[n]))}(e,t,n):t}},u=t.filterHtmlProps=function(e){return(0,a.default)(e).reduce(d(e),{})};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(69)),o=h(n(58)),r=h(n(59)),i=h(n(70)),l=h(n(71)),s=n(1),d=h(s),u=h(n(3)),c=n(1197),p=n(930);function h(e){return e&&e.__esModule?e:{default:e}}var f={content:u.default.string.isRequired},m=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.content,t={__html:(0,c.sanitize)(e)};return d.default.createElement("div",{className:"crop-body__small-title",dangerouslySetInnerHTML:t})}}],[{key:"getId",value:function(){return p.IDS.content}}]),t}(s.Component);t.default=m,m.propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=function(e){return e&&(0,a.sanitize)(e)},t.sanitizeWithPolicy=function(e,t){return e&&(0,a.sanitizeWithPolicy)(e,t)};var a=n(501)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(69)),o=p(n(58)),r=p(n(59)),i=p(n(70)),l=p(n(71)),s=n(1),d=p(s),u=p(n(3)),c=n(930);function p(e){return e&&e.__esModule?e:{default:e}}var h={title:u.default.string.isRequired},f=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.title;return d.default.createElement("div",{className:"crop-body__title"},e)}}],[{key:"getId",value:function(){return c.IDS.title}}]),t}(s.Component);t.default=f,f.propTypes=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=g(n(69)),l=g(n(58)),s=g(n(59)),d=g(n(70)),u=g(n(71)),c=n(1),p=g(c),h=g(n(3)),f=n(8),m=n(917),E=g(n(1200)),_=g(n(1201)),S=g(n(913));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e,t){return e<t-1},T=function(e){var t=e.scale,n=e.imageDimensions,a=e.editorDimensions,o=n.height,r=n.width,i=a.height,l=a.width,s=o*t+m.DEFAULT_PADDING,d=r*t+m.DEFAULT_PADDING;return t>1||s>i||d>l},O=(0,f.connect)(function(e){return{selectedTool:e.signatureEditor.selectedTool,locale:e.signatureEditor.locale.toolbar,canUndo:(n=e.signatureEditor.currentStep,a=e.signatureEditor.minStep,n>a),canRedo:v(e.signatureEditor.currentStep,e.signatureEditor.totalSteps),canZoomIn:(t=e.signatureEditor.scale,t<m.MAX_ZOOM),canZoomOut:T(e.signatureEditor)};var t,n,a},{selectTool:S.default.selectTool,undoHistory:S.default.undoHistory,redoHistory:S.default.redoHistory,zoomIn:S.default.zoomIn,zoomOut:S.default.zoomOut})((r=o=function(e){function t(){return(0,l.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"renderControls",value:function(){var e=this.props,t=e.canUndo,n=e.canRedo,a=e.undoHistory,o=e.redoHistory,r=e.zoomIn,i=e.zoomOut,l=e.canZoomIn,s=e.canZoomOut;return p.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--left"},p.default.createElement("div",{className:"sign-m-upload-nav__btn-wrap"},p.default.createElement(_.default,{iconClass:"i-undo",onClick:a,disabled:!t}),p.default.createElement(_.default,{iconClass:"i-redo",onClick:o,disabled:!n}),p.default.createElement(_.default,{iconClass:"i-zoomin",onClick:r,disabled:!l}),p.default.createElement(_.default,{iconClass:"i-zoomout",onClick:i,disabled:!s})))}},{key:"renderMainTools",value:function(){var e=this.props,t=e.selectTool,n=e.selectedTool,a=e.locale,o=[{title:a.flipRotate,id:m.TOOLS.flipRotate,iconClass:"i-rotate-right"},{title:a.crop,id:m.TOOLS.crop,iconClass:"i-crop"},{title:a.erase,id:m.TOOLS.erase,iconClass:"i-erase"},{title:a.adjust,id:m.TOOLS.adjust,iconClass:"i-adjust"}];return p.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--right"},o.map(function(e){return p.default.createElement(E.default,{key:e.id,title:e.title,iconClass:e.iconClass,isActive:e.id===n,onClick:function(){return t(e.id)}})}))}},{key:"render",value:function(){return p.default.createElement("div",{className:"sign-m-upload-nav"},this.renderControls(),this.renderMainTools())}}]),t}(c.Component),o.propTypes={selectedTool:h.default.string.isRequired,locale:h.default.object.isRequired,canUndo:h.default.bool.isRequired,canRedo:h.default.bool.isRequired,canZoomIn:h.default.bool.isRequired,canZoomOut:h.default.bool.isRequired,selectTool:h.default.func.isRequired,undoHistory:h.default.func.isRequired,redoHistory:h.default.func.isRequired,zoomIn:h.default.func.isRequired,zoomOut:h.default.func.isRequired},a=r))||a;t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(69)),o=p(n(58)),r=p(n(59)),i=p(n(70)),l=p(n(71)),s=n(1),d=p(s),u=p(n(3)),c=p(n(12));function p(e){return e&&e.__esModule?e:{default:e}}var h={title:u.default.string.isRequired,iconClass:u.default.string.isRequired,isActive:u.default.bool.isRequired,onClick:u.default.func.isRequired},f=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.iconClass,a=e.isActive,o=e.onClick,r=(0,c.default)("sign-m-upload-nav__tab",{active:a});return d.default.createElement("div",{className:r,onClick:o},d.default.createElement("i",{className:"i "+n}),t)}}]),t}(s.Component);t.default=f,f.propTypes=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),o=i(n(3)),r=i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.iconClass,n=e.onClick,o=e.disabled,i={},l=(0,r.default)("sign-m-upload-nav__btn",{disabled:o});return o&&(i.pointerEvents="none"),a.default.createElement("div",{className:l,onClick:n,style:i},a.default.createElement("i",{className:"i "+t}))};l.propTypes={iconClass:o.default.string.isRequired,onClick:o.default.func.isRequired,disabled:o.default.bool},l.defaultProps={disabled:!1},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=v(n(69)),l=v(n(58)),s=v(n(59)),d=v(n(70)),u=v(n(71)),c=n(1),p=v(c),h=v(n(3)),f=n(8),m=v(n(1203)),E=n(1204),_=v(n(1206)),S=n(917),g=v(n(913));function v(e){return e&&e.__esModule?e:{default:e}}var T=(0,f.connect)(function(e){return{threshold:e.signatureEditor.threshold,brightness:e.signatureEditor.brightness,contrast:e.signatureEditor.contrast,selectedTool:e.signatureEditor.selectedTool,eraserThickness:e.signatureEditor.eraserThickness,locale:e.signatureEditor.locale.toolSubBar}},{rotateImage:g.default.rotateImage,flipImage:g.default.flipImage,setThickness:g.default.setThickness,applyCrop:g.default.applyCrop,setBrightness:g.default.setBrightness,setContrast:g.default.setContrast,setThreshold:g.default.setThreshold,saveImageState:g.default.saveImageState,autoAdjustImage:g.default.autoAdjustImage})((r=o=function(e){function t(){(0,l.default)(this,t);var e=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={openThicknessSelector:!1},e.toggleThicknessSelector=e.toggleThicknessSelector.bind(e),e.setThickness=e.setThickness.bind(e),e}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){this.setState({openThicknessSelector:!1})}},{key:"toggleThicknessSelector",value:function(){this.setState(function(e){return{openThicknessSelector:!e.openThicknessSelector}})}},{key:"setThickness",value:function(e){var t=this.props.setThickness;this.setState({openThicknessSelector:!1},function(){return t(e)})}},{key:"renderAdjustTools",value:function(){var e=this.props,t=e.locale,n=e.setBrightness,a=e.setContrast,o=e.setThreshold,r=e.threshold,i=e.brightness,l=e.contrast,s=e.saveImageState,d=e.autoAdjustImage;return p.default.createElement("div",{className:"sign-m-upload-nav-sub sign-m-upload-nav-sub--adjust show"},p.default.createElement("div",{className:"sign-m-upload-nav-btn-wrap"},p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty--white g-btn-sm",iconLeft:"i-auto",onClick:d},t.autoAdjust)),p.default.createElement("div",{className:"sign-m-upload-nav-rangeslider-wrap"},p.default.createElement(m.default,{iconClass:"i-brightness",min:S.IMAGE_CLEANER_CONFIG.minBrightness,max:S.IMAGE_CLEANER_CONFIG.maxBrightness,value:i,onChange:n,onChangeComplete:s}),p.default.createElement(m.default,{iconClass:"i-contrast",min:S.IMAGE_CLEANER_CONFIG.minContrast,max:S.IMAGE_CLEANER_CONFIG.maxContrast,value:l,onChange:a,onChangeComplete:s}),p.default.createElement(m.default,{iconClass:"i-clear-bg",min:S.IMAGE_CLEANER_CONFIG.minThreshold,max:S.IMAGE_CLEANER_CONFIG.maxThreshold,value:r,onChange:o,onChangeComplete:s})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedTool,a=t.locale,o=t.rotateImage,r=t.flipImage,i=t.applyCrop,l=t.eraserThickness,s=this.state.openThicknessSelector;switch(n){case S.TOOLS.flipRotate:return p.default.createElement("div",{className:"sign-m-upload-nav-sub show"},p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",style:{transition:"initial"},iconLeft:"i-flip-horisontal",onClick:function(){return r({horizontally:!0})}},a.flipHorizontal),p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",iconLeft:"i-flip-vertical",onClick:function(){return r({vertically:!0})}},a.flipVertical),p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",iconLeft:"i-rotate-left",onClick:function(){return o(!1)}},a.rotateLeft),p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",iconLeft:"i-rotate-right",onClick:function(){return o(!0)}},a.rotateRight));case S.TOOLS.crop:return p.default.createElement("div",{className:"sign-m-upload-nav-sub show"},p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty--white g-btn-sm sign-m-upload-nav__btn-primary",style:{transition:"initial"},onClick:i},a.applyCrop));case S.TOOLS.erase:var d="g-dropdown-wrap sign-m-dropdown-list-thickness";return s&&(d+=" open"),p.default.createElement("div",{className:"sign-m-upload-nav-sub show"},p.default.createElement("div",{className:d},p.default.createElement(E.Button,{className:"g-btn g-btn-sm g-btn-empty",iconLeft:"i-thinkness",onClick:this.toggleThicknessSelector},a.thickness),p.default.createElement("div",{className:"g-dropdown-popup"},p.default.createElement("div",{className:"g-dropdown-popup__triangle right"}),p.default.createElement("div",{className:"g-dropdown-popup-list"},S.IMAGE_CLEANER_CONFIG.thickness.map(function(t){return p.default.createElement(_.default,{key:t,thickness:t,isSelected:t===l,onClick:e.setThickness})})))));case S.TOOLS.adjust:return this.renderAdjustTools();default:return null}}}]),t}(c.Component),o.propTypes={rotateImage:h.default.func.isRequired,flipImage:h.default.func.isRequired,setThickness:h.default.func.isRequired,applyCrop:h.default.func.isRequired,setContrast:h.default.func.isRequired,setThreshold:h.default.func.isRequired,setBrightness:h.default.func.isRequired,saveImageState:h.default.func.isRequired,autoAdjustImage:h.default.func.isRequired,selectedTool:h.default.string.isRequired,locale:h.default.object.isRequired,threshold:h.default.number.isRequired,brightness:h.default.number.isRequired,contrast:h.default.number.isRequired,eraserThickness:h.default.number.isRequired},a=r))||a;t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(69)),o=c(n(58)),r=c(n(59)),i=c(n(70)),l=c(n(71)),s=n(1),d=c(s),u=c(n(3));function c(e){return e&&e.__esModule?e:{default:e}}var p={onChange:u.default.func.isRequired,onChangeComplete:u.default.func,value:u.default.number,min:u.default.number,max:u.default.number,step:u.default.number,iconClass:u.default.string},h=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.state={limit:0,position:0,min:0,max:0,value:0,correction:0},e.slider=null,e.handleStart=e.handleStart.bind(e),e.handleDrag=e.handleDrag.bind(e),e.handleEnd=e.handleEnd.bind(e),e.handleClick=e.handleClick.bind(e),e.onChangeComplete=e.onChangeComplete.bind(e),e}return(0,l.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e,t=this.props,n=t.min,a=t.max,o=t.value,r=0,i=0;n<0?r+=Math.abs(n):n>0&&(r-=n),e=((a+=r)-(n+=r))/100,0!==(o+=r)&&(i=Math.round(o/a*100)),this.setState({min:n,max:a,value:o,correction:r,position:i,step:e})}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,a=n.correction,o=n.max,r=this.props.value+a;if(r!==t.value){var i=Math.round(r/o*100);this.setState({value:r,position:i})}}},{key:"handleStart",value:function(){document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleEnd)}},{key:"handleEnd",value:function(){this.onChangeComplete(),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleEnd)}},{key:"handleClick",value:function(e){this.handleDrag(e),this.onChangeComplete()}},{key:"handleDrag",value:function(e){var t,n=this.props.onChange,a=this.state,o=a.correction,r=a.step,i=e.touches?e.touches[0].clientX:e.clientX,l=this.slider.getBoundingClientRect(),s=i-l.left,d=0;s>l.width?s=l.width:s<0&&(s=0),s>0&&(d=s/l.width*100),n(t=Math.round(d*r-o)),this.setState({position:d,value:t})}},{key:"onChangeComplete",value:function(){var e=this.props.onChangeComplete;e(this.state.value)}},{key:"renderIcon",value:function(){var e=this.props.iconClass;return e?d.default.createElement("i",{className:"i "+e}):null}},{key:"render",value:function(){var e=this,t=this.state.position,n={width:t+"%"},a={left:t+"%"};return d.default.createElement("div",{className:"sign-m-upload-nav-rangeslider-item"},this.renderIcon(),d.default.createElement("div",{style:{cursor:"pointer"},className:"range-slider",ref:function(t){return e.slider=t},onMouseDown:this.handleClick},d.default.createElement("div",{style:n,className:"range-slider__bar"}),d.default.createElement("div",{className:"range-slider__bar"}),d.default.createElement("div",{style:a,ref:function(t){return e.handle=t},className:"range-slider__handle",onMouseDown:this.handleStart})))}}]),t}(s.Component);t.default=h,h.propTypes=p,h.defaultProps={onChangeComplete:function(){},value:0,min:0,max:100,step:1,iconClass:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var a=E(n(357)),o=E(n(359)),r=E(n(915)),i=E(n(69)),l=E(n(58)),s=E(n(59)),d=E(n(70)),u=E(n(71)),c=E(n(1)),p=E(n(3)),h=E(n(12)),f=E(n(911)),m=n(1205);function E(e){return e&&e.__esModule?e:{default:e}}(t.Button=function(e){function t(){return(0,l.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"renderIcon",value:function(e){return c.default.createElement(m.Icon,{classNames:e})}},{key:"renderIconLeft",value:function(e){return!!e&&this.renderIcon(e)}},{key:"renderIconRight",value:function(e){return!!e&&this.renderIcon(e)}},{key:"render",value:function(){var e,t=this.props,n=t.iconRight,i=t.iconLeft,l=(0,r.default)(t,["iconRight","iconLeft"]);f.default.prefixes.gBtn="g-btn--";var s=(0,h.default)({"g-btn--icon-right":n}),d=(e={},(0,o.default)(e,this.props.pull,this.props.pull),(0,o.default)(e,"name","g-btn"),(0,o.default)(e,"modifiers",["width","type","size"]),(0,o.default)(e,"disabled",["disabled"]),(0,o.default)(e,"classNamesIconRight",s),e);return c.default.createElement("button",(0,a.default)({},l,{type:"button",className:(0,f.default)(d,this.props,this.props.className),ref:this.props.confirmButtonRef}),this.renderIconLeft(i),this.props.children,this.renderIconRight(n))}}]),t}(c.default.Component)).propTypes={size:p.default.string,type:p.default.string,width:p.default.string,disabled:p.default.bool,iconRight:p.default.string,iconLeft:p.default.string,pull:p.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(357)),o=d(n(359)),r=d(n(915));t.Icon=u;var i=d(n(1)),l=d(n(3)),s=d(n(12));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){var t,n=e.baseClass,l=e.classNames,d=e.customClass,u=(0,r.default)(e,["baseClass","classNames","customClass"]),c=n+"-",p=(0,s.default)(n,(t={},(0,o.default)(t,c+l,l&&l.substr(0,2)!==c),(0,o.default)(t,l,l&&l.substr(0,2)===c),(0,o.default)(t,d,d),t));return i.default.createElement("i",(0,a.default)({},u,{className:p}))}u.defaultProps={baseClass:"i"},u.propTypes={classNames:l.default.string.isRequired,customClass:l.default.string,baseClass:l.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),o=r(n(3));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.thickness,n=e.onClick,o={};return e.isSelected&&(o.backgroundColor="#e5e5e5"),a.default.createElement("div",{className:"sign-m-dropdown-thickness",style:o,onClick:function(){return n(t)}},a.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--"+t+"px"}))};i.propTypes={thickness:o.default.number.isRequired,onClick:o.default.func.isRequired,isSelected:o.default.bool.isRequired},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=C(n(357)),l=C(n(69)),s=C(n(58)),d=C(n(59)),u=C(n(70)),c=C(n(71)),p=n(1),h=C(p),f=C(n(3)),m=n(8),E=n(912),_=C(n(1208)),S=C(n(1210)),g=C(n(1009)),v=C(n(1211)),T=n(917),O=C(n(913));function C(e){return e&&e.__esModule?e:{default:e}}var y={position:"relative",width:"100%",height:"100%",overflow:"hidden"},D=(0,m.connect)(function(e){return{selectedTool:e.signatureEditor.selectedTool,src:e.signatureEditor.image,eraserThickness:e.signatureEditor.eraserThickness,scale:e.signatureEditor.scale,imageDimensions:e.signatureEditor.imageDimensions}},{setImage:O.default.setImage,setCroppedImage:O.default.setCroppedImage,saveErasedImage:O.default.saveErasedImage,setImageDimensions:O.default.setImageDimensions,setEditorDimensions:O.default.setEditorDimensions})((r=o=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return n.state={image:null,scrollOptions:(0,i.default)({},T.ISCROLL_CONFIG,{startX:0,startY:0}),imageWidth:n.addPadding(e.imageDimensions.width),imageHeight:n.addPadding(e.imageDimensions.height)},n.scroll=null,n.editorWrapper=null,n.mounted=!1,n.setWrapperReference=n.setWrapperReference.bind(n),n.setScrollReference=n.setScrollReference.bind(n),n.onScrollEnd=n.onScrollEnd.bind(n),n}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.setEditorDimensions(),this.drawImage(!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.src,a=t.scale,o=t.selectedTool;n&&n!==e.src?this.drawImage():a!==e.scale?this.scaleImage():o!==e.selectedTool&&this.handleToolChange(e.selectedTool)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"setEditorDimensions",value:function(){if(this.editorWrapper){var e=this.props.setEditorDimensions,t=this.editorWrapper;e({width:t.offsetWidth,height:t.offsetHeight})}}},{key:"drawImage",value:function(e){var t=this,n=this.props.src;(0,E.base64ToImage)(n).then(function(n){t.mounted&&t.handleImageUpdate(n,e)})}},{key:"scaleImage",value:function(){if(this.scroll){var e=this.props.scale,t=this.state,n=t.imageWidth,a=t.imageHeight,o=this.getStartPosition(n*e,a*e),r=o.offsetLeft,l=o.offsetTop;this.setState(function(e){return{scrollOptions:(0,i.default)({},e.scrollOptions,{startX:r,startY:l})}}),this.scroll.withIScroll(!0,function(t){return t.zoom(e)})}}},{key:"handleImageUpdate",value:function(e,t){var n=this,a=this.props,o=a.selectedTool,r=a.setImageDimensions,l=a.scale,s=e.width,d=e.height,u=this.addPadding(s),c=this.addPadding(d),p=this.state.scrollOptions,h=p.startX,f=p.startY;if(t){var m=this.getStartPosition(u*l,c*l),E=m.offsetLeft,_=m.offsetTop;h=E,f=_}this.setState(function(t){return{image:e,scrollOptions:(0,i.default)({},t.scrollOptions,{startX:h,startY:f}),imageWidth:u,imageHeight:c}},function(){r({width:s,height:d}),t||o!==T.TOOLS.crop||n.scaleImage()})}},{key:"getStartPosition",value:function(e,t){var n=this.editorWrapper;return{offsetLeft:(n.offsetWidth-e)/2,offsetTop:(n.offsetHeight-t)/2}}},{key:"setWrapperReference",value:function(e){this.editorWrapper=e}},{key:"setScrollReference",value:function(e){this.scroll=e}},{key:"handleToolChange",value:function(e){var t=this.props.selectedTool;t===T.TOOLS.crop&&e!==T.TOOLS.erase||t===T.TOOLS.erase&&e!==T.TOOLS.crop?this.setState(function(e){return{scrollOptions:(0,i.default)({},e.scrollOptions,{disableMouse:!0,disablePointer:!0,disableTouch:!0})}}):(t===T.TOOLS.flipRotate&&e!==T.TOOLS.adjust||t===T.TOOLS.adjust&&e!==T.TOOLS.flipRotate)&&this.setState(function(e){return{scrollOptions:(0,i.default)({},e.scrollOptions,{disableMouse:!1,disablePointer:!1,disableTouch:!1})}})}},{key:"onScrollEnd",value:function(e){this.setState(function(t){return{scrollOptions:(0,i.default)({},t.scrollOptions,{startX:e.x,startY:e.y})}})}},{key:"addPadding",value:function(e){return e+2*T.DEFAULT_PADDING}},{key:"renderTool",value:function(){var e=this.props,t=e.selectedTool,n=e.src,a=e.eraserThickness,o=e.saveErasedImage,r=e.setCroppedImage,i=e.scale,l=this.state.image;switch(t){case T.TOOLS.crop:return h.default.createElement(_.default,{image:n,handleImage:r,scale:i});case T.TOOLS.erase:return h.default.createElement(S.default,{image:n,handleImage:o,thickness:a,scale:i});default:return h.default.createElement(g.default,{image:l})}}},{key:"renderScroll",value:function(){var e=this.state,t=e.scrollOptions,n={width:e.imageWidth+"px",height:e.imageHeight+"px",marginTop:T.DEFAULT_PADDING+"px"};return h.default.createElement(v.default,{options:t,onScrollEnd:this.onScrollEnd,scrollRef:this.setScrollReference,style:y},h.default.createElement("div",{style:n},this.renderTool()))}},{key:"render",value:function(){var e=this.state.image;return h.default.createElement("div",{className:"sign-m-upload-doc-area sign-m-upload-doc-area--align-top",ref:this.setWrapperReference},e?this.renderScroll():null)}}]),t}(p.Component),o.propTypes={selectedTool:f.default.string.isRequired,setImage:f.default.func.isRequired,setCroppedImage:f.default.func.isRequired,saveErasedImage:f.default.func.isRequired,setImageDimensions:f.default.func.isRequired,setEditorDimensions:f.default.func.isRequired,eraserThickness:f.default.number.isRequired,scale:f.default.number.isRequired,src:f.default.string.isRequired,imageDimensions:f.default.object.isRequired},a=r))||a;t.default=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(69)),o=h(n(58)),r=h(n(59)),i=h(n(70)),l=h(n(71)),s=n(1),d=h(s),u=h(n(3)),c=h(n(1209)),p=n(912);function h(e){return e&&e.__esModule?e:{default:e}}var f={image:u.default.string.isRequired,handleImage:u.default.func,handleCropperRectangle:u.default.func,rectWidth:u.default.number,rectHeight:u.default.number,aspect:u.default.number,rectPositionX:u.default.number,rectPositionY:u.default.number,scale:u.default.number,cropperClassName:u.default.string,maxCroppedImageHeight:u.default.number,maxCroppedImageWidth:u.default.number},m=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.state={rectWidth:e.rectWidth,rectHeight:e.rectHeight,rectPositionX:e.rectPositionX,rectPositionY:e.rectPositionY},n.image=null,n.crop=n.crop.bind(n),n.setImage=n.setImage.bind(n),n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"setImage",value:function(e,t){this.image=t,this.crop(e)}},{key:"crop",value:function(e){var t=this,n=this.props,a=n.handleImage,o=n.handleCropperRectangle,r=n.maxCroppedImageHeight,i=n.maxCroppedImageWidth,l=this.image.naturalWidth,s=this.image.naturalHeight,d=e.x/100*l,u=e.y/100*s,c=document.createElement("canvas"),p=c.getContext("2d"),h=e.width/100*l,f=e.height/100*s,m=new Image;h<1&&(h=1),f<1&&(f=1),c.width=h,c.height=f,h===l&&f===s?p.drawImage(this.image,0,0):(p.drawImage(this.image,d,u,h,f,0,0,h,f),o(e)),m.onload=function(){r&&i?t.checkImageSize(c.toDataURL("image/png"),f,h):a(c.toDataURL("image/png"),f,h,"png")},m.src=c.toDataURL("image/png"),this.setState({rectWidth:e.width,rectHeight:e.height,rectPositionX:e.x,rectPositionY:e.y})}},{key:"checkImageSize",value:function(e,t,n){var a=this.props,o=a.handleImage,r=a.maxCroppedImageHeight,i=a.maxCroppedImageWidth;if(t>r||n>i){var l={dataUri:e,width:i,height:r,isImageMirrored:!1,orientation:1};(0,p.resizeToFit)(l).then(function(e){return o(e.resizedImage,e.height,e.width,"png")})}else o(e,t,n,"png")}},{key:"render",value:function(){var e=this.props,t=e.image,n=e.aspect,a=e.scale,o=e.cropperClassName,r=this.state,i=r.rectWidth,l=r.rectHeight,s={x:r.rectPositionX,y:r.rectPositionY,width:i,height:l,aspect:n};return d.default.createElement("div",{style:{textAlign:"center"}},d.default.createElement(c.default,{src:t,crop:s,scale:a,onComplete:this.crop,onImageLoaded:this.setImage,cropperClassName:o}))}}]),t}(s.Component);t.default=m,m.propTypes=f,m.defaultProps={handleImage:function(){},handleCropperRectangle:function(){},rectWidth:50,rectHeight:50,rectPositionX:0,rectPositionY:0,scale:1,maxCroppedImageHeight:0,maxCroppedImageWidth:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o,r=m(n(69)),i=m(n(58)),l=m(n(59)),s=m(n(70)),d=m(n(71)),u=m(n(357)),c=n(1),p=m(c),h=m(n(3)),f=m(n(911));function m(e){return e&&e.__esModule?e:{default:e}}function E(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+window.pageYOffset-n.clientTop,left:t.left+window.pageXOffset-n.clientLeft}}function _(e){var t=void 0,n=void 0;return e.touches?(t=e.touches[0].pageX,n=e.touches[0].pageY):(t=e.pageX,n=e.pageY),{x:t,y:n}}function S(e,t,n){return Math.min(Math.max(e,t),n)}function g(e){return!e.width||!e.height}function v(e){var t=void 0;return"n"===e?t="s":"ne"===e?t="sw":"e"===e?t="w":"se"===e?t="nw":"s"===e?t="n":"sw"===e?t="ne":"w"===e?t="e":"nw"===e&&(t="se"),t}function T(e,t){var n=t.naturalWidth/t.naturalHeight,a=(0,u.default)({},e);return a.width?a.height=a.width/a.aspect*n:a.height&&(a.width=a.height*a.aspect/n),a.y+a.height>100&&(a.height=100-a.y,a.width=a.height*a.aspect/n),a.x+a.width>100&&(a.width=100-a.x,a.height=a.width/a.aspect*n),a}var O=(o=a=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.onDocMouseTouchMove=n.onDocMouseTouchMove.bind(n),n.onDocMouseTouchEnd=n.onDocMouseTouchEnd.bind(n),n.onImageLoad=n.onImageLoad.bind(n),n.onComponentMouseTouchDown=n.onComponentMouseTouchDown.bind(n),n.onComponentKeyDown=n.onComponentKeyDown.bind(n),n.onCropMouseTouchDown=n.onCropMouseTouchDown.bind(n),n.state={crop:n.nextCropState(e.crop)},n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){if(document.addEventListener("mousemove",this.onDocMouseTouchMove),document.addEventListener("touchmove",this.onDocMouseTouchMove),document.addEventListener("mouseup",this.onDocMouseTouchEnd),document.addEventListener("touchend",this.onDocMouseTouchEnd),document.addEventListener("touchcancel",this.onDocMouseTouchEnd),this.imageRef.complete||this.imageRef.readyState)if(0===this.imageRef.naturalWidth){var e=this.imageRef.src;this.imageRef.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.imageRef.src=e}else this.onImageLoad(this.imageRef)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.crop){var n=this.nextCropState(e.crop),a=n.aspect!==this.state.crop.aspect;n.aspect&&(n=T(n,this.imageRef)),this.cropInvalid=g(n),this.setState({crop:n},function(){a&&t.props.onAspectRatioChange(n,t.getPixelCrop(n))})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onDocMouseTouchMove),document.removeEventListener("touchmove",this.onDocMouseTouchMove),document.removeEventListener("mouseup",this.onDocMouseTouchEnd),document.removeEventListener("touchend",this.onDocMouseTouchEnd),document.removeEventListener("touchcancel",this.onDocMouseTouchEnd)}},{key:"onDocMouseTouchMove",value:function(e){if(this.props.onDragStart(),!this.props.disabled&&this.mouseDownOnCrop){var t=this.state.crop,n=this.evData,a=_(e);n.isResize&&t.aspect&&n.cropOffset&&(a.y=this.straightenYPath(a.x));var o=a.x-n.clientStartX;n.xDiffPc=o/n.imageWidth*100/this.props.scale;var r=a.y-n.clientStartY;n.yDiffPc=r/n.imageHeight*100/this.props.scale,n.isResize?this.resizeCrop():this.dragCrop(),this.cropInvalid=!1,this.props.onChange(t,this.getPixelCrop(t)),this.setState({crop:t})}}},{key:"onCropMouseTouchDown",value:function(e){if(!this.props.disabled){var t=this.state.crop,n=_(e);this.componentRef.focus();var a=e.target.dataset.ord,o="nw"===a||"w"===a||"sw"===a,r="nw"===a||"n"===a||"ne"===a,i=void 0;t.aspect&&(i=E(this.cropSelectRef)),this.evData={imageWidth:this.imageRef.width,imageHeight:this.imageRef.height,clientStartX:n.x,clientStartY:n.y,cropStartWidth:t.width,cropStartHeight:t.height,cropStartX:o?t.x+t.width:t.x,cropStartY:r?t.y+t.height:t.y,xInversed:o,yInversed:r,xCrossOver:o,yCrossOver:r,startXCrossOver:o,startYCrossOver:r,isResize:e.target!==this.cropSelectRef,ord:a,cropOffset:i},this.mouseDownOnCrop=!0}}},{key:"onComponentMouseTouchDown",value:function(e){if((e.target===this.imageCopyRef||e.target===this.cropWrapperRef)&&!this.props.disabled){e.preventDefault();var t=!0===this.props.keepSelection?{}:this.state.crop,n=_(e);this.componentRef.focus();var a=E(this.imageRef),o=(n.x-a.left)/this.imageRef.width*100,r=(n.y-a.top)/this.imageRef.height*100;t.x=o/this.props.scale,t.y=r/this.props.scale,t.width=0,t.height=0,this.evData={imageWidth:this.imageRef.width,imageHeight:this.imageRef.height,clientStartX:n.x,clientStartY:n.y,cropStartWidth:t.width,cropStartHeight:t.height,cropStartX:t.x,cropStartY:t.y,xInversed:!1,yInversed:!1,xCrossOver:!1,yCrossOver:!1,startXCrossOver:!1,startYCrossOver:!1,isResize:!0,ord:"nw"},this.mouseDownOnCrop=!0,this.setState({newCropIsBeingDrawn:!0})}}},{key:"onComponentKeyDown",value:function(e){var n=this;if(!this.props.disabled){var a=e.which,o=this.state.crop,r=!1;o.width&&o.height&&(a===t.arrowKey.left?(o.x-=t.nudgeStep,r=!0):a===t.arrowKey.right?(o.x+=t.nudgeStep,r=!0):a===t.arrowKey.up?(o.y-=t.nudgeStep,r=!0):a===t.arrowKey.down&&(o.y+=t.nudgeStep,r=!0),r&&(e.preventDefault(),o.x=S(o.x,0,100-o.width),o.y=S(o.y,0,100-o.height),this.setState({crop:o},function(){n.props.onChange(o,n.getPixelCrop(o)),n.props.onComplete(o,n.getPixelCrop(o))})))}}},{key:"onDocMouseTouchEnd",value:function(){if(this.props.onDragEnd(),!this.props.disabled&&this.mouseDownOnCrop){var e=this.state.crop;this.cropInvalid=g(e),this.mouseDownOnCrop=!1,this.props.onComplete(e,this.getPixelCrop(e)),this.setState({newCropIsBeingDrawn:!1})}}},{key:"onImageLoad",value:function(e){var t=this.state.crop;t.aspect&&(t=T(t,e),this.cropInvalid=g(t),this.setState({crop:t})),this.props.onImageLoaded&&this.props.onImageLoaded(t,e,this.getPixelCrop(t))}},{key:"getPixelCrop",value:function(e){return{x:Math.round(this.imageRef.width*(e.x/100)),y:Math.round(this.imageRef.height*(e.y/100)),width:Math.round(this.imageRef.width*(e.width/100)),height:Math.round(this.imageRef.height*(e.height/100))}}},{key:"getCropStyle",value:function(){return{top:this.state.crop.y+"%",left:this.state.crop.x+"%",width:this.state.crop.width+"%",height:this.state.crop.height+"%"}}},{key:"getNewSize",value:function(){var e=this.state.crop,t=this.evData,n=t.imageWidth/t.imageHeight,a=t.cropStartWidth+t.xDiffPc;t.xCrossOver&&(a=Math.abs(a));var o=this.props.maxWidth;this.state.newCropIsBeingDrawn||(o=S(o=["nw","w","sw"].indexOf(t.inversedXOrd||t.ord)>-1?t.cropStartX:100-t.cropStartX,100,this.props.maxWidth)),a=S(a,this.props.minWidth,o);var r=void 0;r=e.aspect?a/e.aspect*n:t.cropStartHeight+t.yDiffPc,t.yCrossOver&&(r=Math.min(Math.abs(r),t.cropStartY));var i=this.props.maxHeight;return this.state.newCropIsBeingDrawn||(i=S(i=["nw","n","ne"].indexOf(t.inversedYOrd||t.ord)>-1?t.cropStartY:100-t.cropStartY,100,this.props.maxHeight)),r=S(r,this.props.minHeight,i),e.aspect&&(a=S(r*e.aspect/n,0,100)),{width:a,height:r}}},{key:"dragCrop",value:function(){var e=this.state.crop,t=this.evData;e.x=S(t.cropStartX+t.xDiffPc,0,100-e.width),e.y=S(t.cropStartY+t.yDiffPc,0,100-e.height)}},{key:"resizeCrop",value:function(){var e=this.state.crop,n=this.evData,a=n.ord;n.xInversed&&(n.xDiffPc-=2*n.cropStartWidth),n.yInversed&&(n.yDiffPc-=2*n.cropStartHeight);var o=this.getNewSize(),r=n.cropStartX,i=n.cropStartY;n.xCrossOver&&(r=e.x+(e.width-o.width)),n.yCrossOver&&(i=!1===n.lastYCrossover?e.y-o.height:e.y+(e.height-o.height)),e.aspect||t.xyOrds.indexOf(a)>-1?(e.x=S(r,0,100-o.width),e.y=S(i,0,100-o.height),e.width=o.width,e.height=o.height):t.xOrds.indexOf(a)>-1?(e.x=S(r,0,100-o.width),e.width=o.width):t.yOrds.indexOf(a)>-1&&(e.y=S(i,0,100-o.height),e.height=o.height),n.lastYCrossover=n.yCrossOver,this.crossOverCheck()}},{key:"straightenYPath",value:function(e){var t=this.evData,n=t.ord,a=t.cropOffset,o=t.cropStartWidth/100*t.imageWidth,r=t.cropStartHeight/100*t.imageHeight,i=void 0,l=void 0;return"nw"===n||"se"===n?(i=r/o,l=a.top-a.left*i):(i=-r/o,l=a.top+(r-a.left*i)),i*e+l}},{key:"createCropSelection",value:function(){var e=this,t=this.getCropStyle();return p.default.createElement("div",{ref:function(t){return e.cropSelectRef=t},style:t,className:"ReactCrop__crop-selection",onMouseDown:this.onCropMouseTouchDown,onTouchStart:this.onCropMouseTouchDown},p.default.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),p.default.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),p.default.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),p.default.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w"}))}},{key:"nextCropState",value:function(e){var n=(0,u.default)({},t.defaultCrop,e);return this.cropInvalid=g(n),n}},{key:"crossOverCheck",value:function(){var e=this.evData;(!e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiffPc>=0||e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiffPc<=0)&&(e.xCrossOver=!e.xCrossOver),(!e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiffPc>=0||e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiffPc<=0)&&(e.yCrossOver=!e.yCrossOver);var t=e.xCrossOver!==e.startXCrossOver,n=e.yCrossOver!==e.startYCrossOver;e.inversedXOrd=!!t&&v(e.ord),e.inversedYOrd=!!n&&v(e.ord)}},{key:"render",value:function(){var e=this,t=void 0;this.cropInvalid||(t=this.createCropSelection());var n=["ReactCrop"];return this.state.newCropIsBeingDrawn&&n.push("ReactCrop--new-crop"),this.state.crop.aspect&&n.push("ReactCrop--fixed-aspect"),this.props.disabled&&n.push("ReactCrop--disabled"),p.default.createElement("div",{ref:function(t){return e.componentRef=t},className:(0,f.default)(n,this.props.cropperClassName),onTouchStart:this.onComponentMouseTouchDown,onMouseDown:this.onComponentMouseTouchDown,tabIndex:"1",onKeyDown:this.onComponentKeyDown},p.default.createElement("img",{ref:function(t){return e.imageRef=t},crossOrigin:this.props.crossorigin,className:"ReactCrop__image",src:this.props.src,onLoad:function(t){return e.onImageLoad(t.target)},alt:this.props.imageAlt}),p.default.createElement("div",{className:"ReactCrop__crop-wrapper",ref:function(t){return e.cropWrapperRef=t}},p.default.createElement("img",{ref:function(t){return e.imageCopyRef=t},crossOrigin:this.props.crossorigin,className:"ReactCrop__image-copy",src:this.props.src,alt:this.props.imageAlt}),t),this.props.children)}}]),t}(c.Component),a.propTypes={src:h.default.string.isRequired,crop:h.default.shape({x:h.default.number,y:h.default.number,width:h.default.number,height:h.default.number}),imageAlt:h.default.string,minWidth:h.default.number,minHeight:h.default.number,maxWidth:h.default.number,maxHeight:h.default.number,keepSelection:h.default.bool,onChange:h.default.func,onComplete:h.default.func,onImageLoaded:h.default.func,onAspectRatioChange:h.default.func,onDragStart:h.default.func,onDragEnd:h.default.func,disabled:h.default.bool,crossorigin:h.default.string,children:h.default.oneOfType([h.default.arrayOf(h.default.node),h.default.node]),className:h.default.string},a.defaultProps={crop:void 0,crossorigin:void 0,disabled:!1,imageAlt:"",maxWidth:100,maxHeight:100,minWidth:0,minHeight:0,keepSelection:!1,onChange:function(){},onComplete:function(){},onImageLoaded:function(){},onAspectRatioChange:function(){},onDragStart:function(){},onDragEnd:function(){},children:void 0},a.xOrds=["e","w"],a.yOrds=["n","s"],a.xyOrds=["nw","ne","se","sw"],a.arrowKey={left:37,up:38,right:39,down:40},a.nudgeStep=.2,a.defaultCrop={x:0,y:0,width:0,height:0,aspect:!1},o);t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=h(n(69)),i=h(n(58)),l=h(n(59)),s=h(n(70)),d=h(n(71)),u=n(1),c=h(u),p=h(n(3));function h(e){return e&&e.__esModule?e:{default:e}}var f=(o=a=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.state={width:1,height:1,isErasing:!1,lastX:-50,lastY:-50},e.canvas=null,e.ctx=null,e.initCanvas=e.initCanvas.bind(e),e.onMouseDown=e.onMouseDown.bind(e),e.onMouseUp=e.onMouseUp.bind(e),e.onMouseMove=e.onMouseMove.bind(e),e.onMouseLeave=e.onMouseLeave.bind(e),e}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.ctx=this.canvas.getContext("2d"),this.setImage(),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.thickness,a=t.image;e.thickness!==n?this.setThickness(n):e.image!==a&&this.setImage()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}},{key:"setImage",value:function(){var e=this,t=this.props,n=t.image,a=t.thickness,o=new Image;o.onload=function(){e.image=o,e.initCanvas(),e.setThickness(a)},o.crossOrigin="Anonymous",o.src=n}},{key:"onMouseDown",value:function(e){var t=this,n=e.nativeEvent,a=n.offsetX,o=n.offsetY;this.ctx.globalCompositeOperation="destination-out",this.setState({lastX:a,lastY:o,isErasing:!0},function(){return t.erase(a,o)})}},{key:"onMouseUp",value:function(){var e=this.props.handleImage;this.state.isErasing&&(this.ctx.globalCompositeOperation="source-over",e(this.canvas.toDataURL("image/png"),this.canvas.width,this.canvas.height,"png"),this.setState({isErasing:!1}))}},{key:"onMouseMove",value:function(e){var t=this.props.scale,n=this.canvas.getBoundingClientRect(),a=n.left,o=n.top,r=n.right,i=n.bottom,l=(e.clientX-a)/t,s=(e.clientY-o)/t;this.erase(l,s),e.clientX>a-100&&e.clientX<r+100&&e.clientY>o-100&&e.clientY<i+100&&this.setState({lastX:l,lastY:s})}},{key:"onMouseLeave",value:function(e){var t=e.nativeEvent,n=t.offsetX,a=t.offsetY;this.erase(n,a)}},{key:"initCanvas",value:function(){var e=this,t=this.image,n=t.width,a=t.height;this.setState({width:n,height:a},function(){e.ctx.clearRect(0,0,n,a),e.ctx.drawImage(e.image,0,0,n,a)})}},{key:"setThickness",value:function(e){this.ctx.lineWidth=e}},{key:"erase",value:function(e,t){if(this.state.isErasing){var n=this.props.thickness,a=this.state,o=a.lastX,r=a.lastY,i=n/2;this.ctx.beginPath(),this.ctx.arc(e,t,i,0,2*Math.PI),this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(o,r),this.ctx.lineTo(e,t),this.ctx.stroke()}}},{key:"getEraserStyle",value:function(){var e=this.props.thickness,t=this.state,n=t.lastX,a=t.lastY,o=this.getCursorCorrection();return{width:e+"px",height:e+"px",left:n-4.5+o.correctionX+"px",top:a-4.75+o.correctionY+"px"}}},{key:"getCursorCorrection",value:function(){switch(this.props.thickness){case 8:return{correctionX:1,correctionY:.95};case 6:return{correctionX:2,correctionY:1.9};case 4:return{correctionX:3,correctionY:2.85};case 2:return{correctionX:4,correctionY:3.8};default:return{correctionX:0,correctionY:0}}}},{key:"render",value:function(){var e=this,t=this.state,n=t.width,a=t.height,o=this.getEraserStyle();return c.default.createElement("div",{className:"has-cursor-eraser"},c.default.createElement("canvas",{className:"has-cursor-eraser__canvas",onMouseDown:this.onMouseDown,onMouseLeave:this.onMouseLeave,width:n,height:a,ref:function(t){return e.canvas=t}}),c.default.createElement("div",{className:"has-cursor-eraser__pointer",style:o}))}}]),t}(u.Component),a.propTypes={image:p.default.string.isRequired,handleImage:p.default.func.isRequired,thickness:p.default.number.isRequired,scale:p.default.number},a.defaultProps={scale:1},o);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(357)),o=d(n(915)),r=d(n(1)),i=d(n(3)),l=d(n(1212)),s=d(n(1213));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.options,n=e.children,i=e.scrollRef,d=(0,o.default)(e,["options","children","scrollRef"]);return r.default.createElement(l.default,(0,a.default)({iScroll:s.default,options:t,ref:i},d),n)};u.propTypes={options:i.default.object.isRequired,children:i.default.object.isRequired,scrollRef:i.default.func.isRequired},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(1)),r=l(n(99)),i=l(n(1010));function l(e){return e&&e.__esModule?e:{default:e}}for(var s=["defer","iScroll","onRefresh","options"],d={},u=["beforeScrollStart","scrollCancel","scrollStart","scroll","scrollEnd","flick","zoomStart","zoomEnd"],c=0,p=u.length;c<p;c++){var h=u[c],f="on"+h[0].toUpperCase()+h.slice(1);d[f]=h,s.push(f)}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._isMounted=!1,n._initializeTimeout=null,n._queuedCallbacks=[],n._iScrollBindedEvents={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this._initializeIScroll()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._teardownIScroll()}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,i.default)(this.props,e)||!(0,i.default)(this.context,t)}},{key:"componentDidUpdate",value:function(e){var t=this;(0,i.default)(e.options,this.props.options)?(this._updateIScrollEvents(e,this.props),this.refresh()):this.withIScroll(!0,function(e){var n=e.x,a=e.y,o=e.scale;t._teardownIScroll(),t._initializeIScroll(),t.withIScroll(!0,function(e){o&&e.zoom&&e.zoom(o,0,0,0),e.scrollTo(n,a)})})}},{key:"getIScroll",value:function(){return this._iScrollInstance}},{key:"getIScrollInstance",value:function(){return console.warn("Function 'getIScrollInstance' is deprecated. Instead use 'getIScroll'"),this._iScrollInstance}},{key:"withIScroll",value:function(e,t){t||"function"!=typeof e||(t=e),this.getIScroll()?t(this.getIScroll()):!0===e&&this._queuedCallbacks.push(t)}},{key:"refresh",value:function(){this.withIScroll(function(e){return e.refresh()})}},{key:"_runInitializeIScroll",value:function(){var e=this,t=this.props,n=t.iScroll,a=t.options,o=new n(r.default.findDOMNode(this),a);this._iScrollInstance=o,this._triggerRefreshEvent(),o.originalRefresh=o.refresh,o.refresh=function(){o.originalRefresh.apply(o),e._triggerRefreshEvent()},this._bindIScrollEvents(),this._callQueuedCallbacks()}},{key:"_initializeIScroll",value:function(){var e=this;if(!1!==this._isMounted){var t=this.props.defer;if(!1===t)this._runInitializeIScroll();else{var n=!0===t?0:t;this._initializeTimeout=setTimeout(function(){return e._runInitializeIScroll()},n)}}}},{key:"_callQueuedCallbacks",value:function(){var e=this._queuedCallbacks,t=e.length;this._queuedCallbacks=[];for(var n=0;n<t;n++)e[n](this.getIScroll())}},{key:"_teardownIScroll",value:function(){this._clearInitializeTimeout(),this._iScrollInstance&&(this._iScrollInstance.destroy(),this._iScrollInstance=void 0),this._iScrollBindedEvents={},this._queuedCallbacks=[]}},{key:"_clearInitializeTimeout",value:function(){null!==this._initializeTimeout&&(clearTimeout(this._initializeTimeout),this._initializeTimeout=null)}},{key:"_bindIScrollEvents",value:function(){this._iScrollBindedEvents={},this._updateIScrollEvents({},this.props)}},{key:"_updateIScrollEvents",value:function(e,t){for(var n in d)this._updateIScrollEvent(d[n],e[n],t[n])}},{key:"_updateIScrollEvent",value:function(e,t,n){if(t!==n){var a=this._iScrollBindedEvents;this.withIScroll(!0,function(o){if("function"==typeof t&&(o.off(e,a[e]),a[e]=void 0),"function"==typeof n){var r=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];n.apply(void 0,[o].concat(t))};o.on(e,r),a[e]=r}})}}},{key:"_triggerRefreshEvent",value:function(){var e=this.props.onRefresh;"function"==typeof e&&this.withIScroll(function(t){return e(t)})}},{key:"render",value:function(){var e={};for(var t in this.props)~s.indexOf(t)||(e[t]=this.props[t]);return o.default.createElement("div",e)}}]),t}();m.displayName="ReactIScroll",m.defaultProps={defer:!0,options:{},style:{position:"relative",height:"100%",width:"100%",overflow:"hidden"}},t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(192),r=(a=o)&&a.__esModule?a:{default:a};
/*! iScroll v5.2.0-snapshot ~ (c) 2008-2017 Matteo Spinelli ~ http://cubiq.org/license */
var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},l=function(){var e={},t=document.createElement("div").style,n=function(){for(var e=["t","webkitT","MozT","msT","OT"],n=0,a=e.length;n<a;n++)if(e[n]+"ransform"in t)return e[n].substr(0,e[n].length-1);return!1}();function a(e){return!1!==n&&(""===n?e:n+e.charAt(0).toUpperCase()+e.substr(1))}e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(e,t){for(var n in t)e[n]=t[n]},e.addEvent=function(e,t,n,a){e.addEventListener(t,n,!!a)},e.removeEvent=function(e,t,n,a){e.removeEventListener(t,n,!!a)},e.prefixPointerEvent=function(e){return window.MSPointerEvent?"MSPointer"+e.charAt(7).toUpperCase()+e.substr(8):e},e.momentum=function(e,t,n,a,o,r){var i=e-t,l=Math.abs(i)/n,s=void 0,d=void 0;return d=l/(r=void 0===r?6e-4:r),(s=e+l*l/(2*r)*(i<0?-1:1))<a?(s=o?a-o/2.5*(l/8):a,d=(i=Math.abs(s-e))/l):s>0&&(s=o?o/2.5*(l/8):0,d=(i=Math.abs(e)+s)/l),{destination:Math.round(s),duration:d}};var o=a("transform");return e.extend(e,{hasTransform:!1!==o,hasPerspective:a("perspective")in t,hasTouch:"ontouchstart"in window,hasPointer:!(!window.PointerEvent&&!window.MSPointerEvent),hasTransition:a("transition")in t}),e.isBadAndroid=function(){var e=window.navigator.appVersion;if(/Android/.test(e)&&!/Chrome\/\d/.test(e)){var t=e.match(/Safari\/(\d+.\d)/);return!(t&&"object"===(void 0===t?"undefined":(0,r.default)(t))&&t.length>=2)||parseFloat(t[1])<535.19}return!1}(),e.extend(e.style={},{transform:o,transitionTimingFunction:a("transitionTimingFunction"),transitionDuration:a("transitionDuration"),transitionDelay:a("transitionDelay"),transformOrigin:a("transformOrigin"),touchAction:a("touchAction")}),e.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},e.addClass=function(t,n){if(!e.hasClass(t,n)){var a=t.className.split(" ");a.push(n),t.className=a.join(" ")}},e.removeClass=function(t,n){if(e.hasClass(t,n)){var a=new RegExp("(^|\\s)"+n+"(\\s|$)","g");t.className=t.className.replace(a," ")}},e.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},e.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return Math.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){return(e-=1)*e*(5*e+4)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){return 0===e?0:1==e?1:.4*Math.pow(2,-10*e)*Math.sin((e-.055)*(2*Math.PI)/.22)+1}}}),e.tap=function(e,t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.pageX=e.pageX,n.pageY=e.pageY,e.target.dispatchEvent(n)},e.click=function(e){var t=e.target,n=void 0;/(SELECT|INPUT|TEXTAREA)/i.test(t.tagName)||((n=document.createEvent(window.MouseEvent?"MouseEvents":"Event")).initEvent("click",!0,!0),n.view=e.view||window,n.detail=1,n.screenX=t.screenX||0,n.screenY=t.screenY||0,n.clientX=t.clientX||0,n.clientY=t.clientY||0,n.ctrlKey=!!e.ctrlKey,n.altKey=!!e.altKey,n.shiftKey=!!e.shiftKey,n.metaKey=!!e.metaKey,n.button=0,n.relatedTarget=null,n._constructed=!0,t.dispatchEvent(n))},e.getTouchAction=function(e,t){var n="none";return"vertical"===e?n="pan-y":"horizontal"===e&&(n="pan-x"),t&&"none"!=n&&(n+=" pinch-zoom"),n},e.getRect=function(e){if(e instanceof SVGElement){var t=e.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}return{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}},e}();function s(e,t){for(var n in this.wrapper="string"==typeof e?document.querySelector(e):e,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={zoomMin:1,zoomMax:4,startZoom:1,centerOnZoomOut:!1,resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!l.hasPointer,disableTouch:l.hasPointer||!l.hasTouch,disableMouse:l.hasPointer||l.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===window.onmousedown},t)this.options[n]=t[n];this.translateZ=this.options.HWCompositing&&l.hasPerspective?" translateZ(0)":"",this.options.useTransition=l.hasTransition&&this.options.useTransition,this.options.useTransform=l.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?l.ease[this.options.bounceEasing]||l.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.options.centerOnZoomOut?(this.x=this.options.startX||0,this.y=this.options.startY||0):(this.x=0,this.y=0),this.directionX=0,this.directionY=0,this._events={},this.scale=Math.min(Math.max(this.options.startZoom,this.options.zoomMin),this.options.zoomMax),this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function d(e,t,n){var a=document.createElement("div"),o=document.createElement("div");return!0===n&&(a.style.cssText="position:absolute;z-index:9999",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),o.className="iScrollIndicator","h"==e?(!0===n&&(a.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",o.style.height="100%"),a.className="iScrollHorizontalScrollbar"):(!0===n&&(a.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",o.style.width="100%"),a.className="iScrollVerticalScrollbar"),a.style.cssText+=";overflow:hidden",t||(a.style.pointerEvents="none"),a.appendChild(o),a}function u(e,t){for(var n in this.wrapper="string"==typeof t.el?document.querySelector(t.el):t.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=e,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},t)this.options[n]=t[n];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(l.addEvent(this.indicator,"touchstart",this),l.addEvent(window,"touchend",this)),this.options.disablePointer||(l.addEvent(this.indicator,l.prefixPointerEvent("pointerdown"),this),l.addEvent(window,l.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(l.addEvent(this.indicator,"mousedown",this),l.addEvent(window,"mouseup",this))),this.options.fade){this.wrapperStyle[l.style.transform]=this.scroller.translateZ;var a=l.style.transitionDuration;if(!a)return;this.wrapperStyle[a]=l.isBadAndroid?"0.0001ms":"0ms";var o=this;l.isBadAndroid&&i(function(){"0.0001ms"===o.wrapperStyle[a]&&(o.wrapperStyle[a]="0s")}),this.wrapperStyle.opacity="0"}}s.prototype={version:"5.2.0-snapshot",_init:function(){this._initEvents(),this.options.zoom&&this._initZoom(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if(1!=l.eventType[e.type]){if(0!==(e.which?e.button:e.button<2?0:4==e.button?1:2))return}if(this.enabled&&(!this.initiated||l.eventType[e.type]===this.initiated)){!this.options.preventDefault||l.isBadAndroid||l.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var t=e.touches?e.touches[0]:e,n=void 0;this.initiated=l.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=l.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,n=this.getComputedPosition(),this._translate(Math.round(n.x),Math.round(n.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=t.pageX,this.pointY=t.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&l.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,n,a=e.touches?e.touches[0]:e,o=a.pageX-this.pointX,r=a.pageY-this.pointY,i=l.getTime(),s=void 0,d=void 0;if(this.pointX=a.pageX,this.pointY=a.pageY,this.distX+=o,this.distY+=r,t=Math.abs(this.distX),n=Math.abs(this.distY),!(i-this.endTime>300&&t<10&&n<10)){if(this.directionLocked||this.options.freeScroll||(t>n+this.options.directionLockThreshold?this.directionLocked="h":n>=t+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);r=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);o=0}o=this.hasHorizontalScroll?o:0,r=this.hasVerticalScroll?r:0,s=this.x+o,d=this.y+r,this.options.centerOnZoomOut?((s>0||s<this.maxScrollX)&&(this.options.bounce?s=this.x+o/3:s>0&&this.hasHorizontalScroll&&(s=0)),(d>0||d<this.maxScrollY)&&(this.options.bounce?d=this.y+r/3:d>0&&this.hasVerticalScroll&&(d=0))):((s>0||s<this.maxScrollX)&&(s=this.options.bounce?this.x+o/3:s>0?0:this.maxScrollX),(d>0||d<this.maxScrollY)&&(d=this.options.bounce?this.y+r/3:d>0?0:this.maxScrollY)),this.directionX=o>0?-1:o<0?1:0,this.directionY=r>0?-1:r<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(s,d),i-this.startTime>300&&(this.startTime=i,this.startX=this.x,this.startY=this.y)}}},_end:function(e){if(this.enabled&&l.eventType[e.type]===this.initiated){this.options.preventDefault&&!l.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();e.changedTouches&&e.changedTouches[0];var t=void 0,n=void 0,a=l.getTime()-this.startTime,o=Math.round(this.x),r=Math.round(this.y),i=Math.abs(o-this.startX),s=Math.abs(r-this.startY),d=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=l.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,r),!this.moved)return this.options.tap&&l.tap(e,this.options.tap),this.options.click&&l.click(e),void this._execEvent("scrollCancel");if(this._events.flick&&a<200&&i<100&&s<100)this._execEvent("flick");else{if(this.options.momentum&&a<300&&(t=this.hasHorizontalScroll?l.momentum(this.x,this.startX,a,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},n=this.hasVerticalScroll?l.momentum(this.y,this.startY,a,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:r,duration:0},o=t.destination,r=n.destination,d=Math.max(t.duration,n.duration),this.isInTransition=1),this.options.snap){var c=this._nearestSnap(o,r);this.currentPage=c,d=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(o-c.x),1e3),Math.min(Math.abs(r-c.y),1e3)),300),o=c.x,r=c.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}if(o!=this.x||r!=this.y)return(o>0||o<this.maxScrollX||r>0||r<this.maxScrollY)&&(u=l.ease.quadratic),void this.scrollTo(o,r,d,u);this._execEvent("scrollEnd")}}}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(e){var t=this.x,n=this.y;if(e=e||0,this.options.centerOnZoomOut){var a=this.scroller.offsetWidth*this.scale,o=this.scroller.offsetHeight*this.scale;this.wrapperWidth>a||this.wrapperWidth<a&&this.x>0?t=(this.wrapperWidth-a)/2:this.x<this.maxScrollX&&(t=this.maxScrollX),this.wrapperHeight>o||this.wrapperHeight<o&&this.y>0?n=(this.wrapperHeight-o)/2:this.y<this.maxScrollY&&(n=this.maxScrollY)}else!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY);return(t!=this.x||n!=this.y)&&(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){l.getRect(this.wrapper),this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight;var e=l.getRect(this.scroller);this.scrollerWidth=Math.round(e.width*this.scale),this.scrollerHeight=Math.round(e.height*this.scale),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,l.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[l.style.touchAction]=l.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[l.style.touchAction]||(this.wrapper.style[l.style.touchAction]=l.getTouchAction(this.options.eventPassthrough,!1))),this.wrapperOffset=l.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var n=this._events[e].indexOf(t);n>-1&&this._events[e].splice(n,1)}},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length;if(n)for(;t<n;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,n,a){e=this.x+e,t=this.y+t,n=n||0,this.scrollTo(e,t,n,a)},scrollTo:function(e,t,n,a){a=a||l.ease.circular,this.isInTransition=this.options.useTransition&&n>0;var o=this.options.useTransition&&a.style;!n||o?(o&&(this._transitionTimingFunction(a.style),this._transitionTime(n)),this._translate(e,t)):this._animate(e,t,n,a.fn)},scrollToElement:function(e,t,n,a,o){if(e=e.nodeType?e:this.scroller.querySelector(e)){var r=l.offset(e);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top;var i=l.getRect(e),s=l.getRect(this.wrapper);!0===n&&(n=Math.round(i.width/2-s.width/2)),!0===a&&(a=Math.round(i.height/2-s.height/2)),r.left-=n||0,r.top-=a||0,r.left=r.left>0?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=r.top>0?0:r.top<this.maxScrollY?this.maxScrollY:r.top,t=null==t||"auto"===t?Math.max(Math.abs(this.x-r.left),Math.abs(this.y-r.top)):t,this.scrollTo(r.left,r.top,t,o)}},_transitionTime:function(e){if(this.options.useTransition){e=e||0;var t=l.style.transitionDuration;if(t){if(this.scrollerStyle[t]=e+"ms",!e&&l.isBadAndroid){this.scrollerStyle[t]="0.0001ms";var n=this;i(function(){"0.0001ms"===n.scrollerStyle[t]&&(n.scrollerStyle[t]="0s")})}if(this.indicators)for(var a=this.indicators.length;a--;)this.indicators[a].transitionTime(e)}}},_transitionTimingFunction:function(e){if(this.scrollerStyle[l.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){if(this.options.useTransform?this.scrollerStyle[l.style.transform]="translate("+e+"px,"+t+"px) scale("+this.scale+") "+this.translateZ:(e=Math.round(e),t=Math.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(e){var t=e?l.removeEvent:l.addEvent,n=this.options.bindToWrapper?this.wrapper:window;t(window,"orientationchange",this),t(window,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(n,"mousemove",this),t(n,"mousecancel",this),t(n,"mouseup",this)),l.hasPointer&&!this.options.disablePointer&&(t(this.wrapper,l.prefixPointerEvent("pointerdown"),this),t(n,l.prefixPointerEvent("pointermove"),this),t(n,l.prefixPointerEvent("pointercancel"),this),t(n,l.prefixPointerEvent("pointerup"),this)),l.hasTouch&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(n,"touchmove",this),t(n,"touchcancel",this),t(n,"touchend",this)),t(this.scroller,"transitionend",this),t(this.scroller,"webkitTransitionEnd",this),t(this.scroller,"oTransitionEnd",this),t(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e=window.getComputedStyle(this.scroller,null),t=void 0,n=void 0;return this.options.useTransform?(t=+((e=e[l.style.transform].split(")")[0].split(", "))[12]||e[4]),n=+(e[13]||e[5])):(t=+e.left.replace(/[^-\d.]/g,""),n=+e.top.replace(/[^-\d.]/g,"")),{x:t,y:n}},_initIndicators:function(){var e=this.options.interactiveScrollbars,t="string"!=typeof this.options.scrollbars,n=[],a=void 0,o=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(a={el:d("v",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:t,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(a.el),n.push(a)),this.options.scrollX&&(a={el:d("h",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:t,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(a.el),n.push(a))),this.options.indicators&&(n=n.concat(this.options.indicators));for(var r=n.length;r--;)this.indicators.push(new u(this,n[r]));function i(e){if(o.indicators)for(var t=o.indicators.length;t--;)e.call(o.indicators[t])}this.options.fadeScrollbars&&(this.on("scrollEnd",function(){i(function(){this.fade()})}),this.on("scrollCancel",function(){i(function(){this.fade()})}),this.on("scrollStart",function(){i(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){i(function(){this.fade(1,!0)})})),this.on("refresh",function(){i(function(){this.refresh()})}),this.on("destroy",function(){i(function(){this.destroy()}),delete this.indicators})},_initZoom:function(){this.scrollerStyle[l.style.transformOrigin]="0 0"},_zoomStart:function(e){var t=Math.abs(e.touches[0].pageX-e.touches[1].pageX),n=Math.abs(e.touches[0].pageY-e.touches[1].pageY);this.touchesDistanceStart=Math.sqrt(t*t+n*n),this.startScale=this.scale,this.originX=Math.abs(e.touches[0].pageX+e.touches[1].pageX)/2+this.wrapperOffset.left-this.x,this.originY=Math.abs(e.touches[0].pageY+e.touches[1].pageY)/2+this.wrapperOffset.top-this.y,this._execEvent("zoomStart")},_zoom:function(e){if(this.enabled&&l.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,n,a,o=Math.abs(e.touches[0].pageX-e.touches[1].pageX),r=Math.abs(e.touches[0].pageY-e.touches[1].pageY),i=Math.sqrt(o*o+r*r),s=1/this.touchesDistanceStart*i*this.startScale;this.scaled=!0,s<this.options.zoomMin?s=.5*this.options.zoomMin*Math.pow(2,s/this.options.zoomMin):s>this.options.zoomMax&&(s=2*this.options.zoomMax*Math.pow(.5,this.options.zoomMax/s)),t=s/this.startScale,n=this.originX-this.originX*t+this.startX,a=this.originY-this.originY*t+this.startY,this.scale=s,this.scrollTo(n,a,0)}},_zoomEnd:function(e){if(this.enabled&&l.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,n=void 0,a=void 0;this.isInTransition=0,this.initiated=0,this.scale>this.options.zoomMax?this.scale=this.options.zoomMax:this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin),this.refresh(),t=this.scale/this.startScale,n=this.originX-this.originX*t+this.startX,a=this.originY-this.originY*t+this.startY,n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),a>0?a=0:a<this.maxScrollY&&(a=this.maxScrollY),this.x==n&&this.y==a||this.scrollTo(n,a,this.options.bounceTime),this.scaled=!1,this._execEvent("zoomEnd")}},zoom:function(e,t,n,a){if(e<this.options.zoomMin?e=this.options.zoomMin:e>this.options.zoomMax&&(e=this.options.zoomMax),e!=this.scale){var o=e/this.scale;if(t=void 0===t?this.wrapperWidth/2:t,n=void 0===n?this.wrapperHeight/2:n,a=void 0===a?300:a,t=t+this.wrapperOffset.left-this.x,n=n+this.wrapperOffset.top-this.y,t=t-t*o+this.x,n=n-n*o+this.y,this.scale=e,this.refresh(),this.options.centerOnZoomOut){var r=this.scroller.offsetHeight*e,i=this.scroller.offsetWidth*e,l=(this.wrapperHeight-r)/2,s=(this.wrapperWidth-i)/2;t>0?t=this.hasHorizontalScroll?0:s:t<this.maxScrollX&&(t=this.hasHorizontalScroll?this.maxScrollX:s),n>0?n=this.hasVerticalScroll?0:l:this.wrapperHeight>r?n=l:n<this.maxScrollY&&(n=this.maxScrollY)}else t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),n>0?n=0:n<this.maxScrollY&&(n=this.maxScrollY);this.scrollTo(t,n,a)}},_wheelZoom:function(e){var t,n=void 0,a=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){a._execEvent("zoomEnd")},400),"deltaX"in e)n=-e.deltaY/Math.abs(e.deltaY);else if("wheelDeltaX"in e)n=e.wheelDeltaY/Math.abs(e.wheelDeltaY);else if("wheelDelta"in e)n=e.wheelDelta/Math.abs(e.wheelDelta);else{if(!("detail"in e))return;n=-e.detail/Math.abs(e.wheelDelta)}t=this.scale+n/5,this.zoom(t,e.pageX,e.pageY,0)},_initWheel:function(){l.addEvent(this.wrapper,"wheel",this),l.addEvent(this.wrapper,"mousewheel",this),l.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,l.removeEvent(this.wrapper,"wheel",this),l.removeEvent(this.wrapper,"mousewheel",this),l.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(this.enabled){e.preventDefault();var t=void 0,n=void 0,a=void 0,o=void 0,r=this;if(void 0===this.wheelTimeout&&r._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){r.options.snap||r._execEvent("scrollEnd"),r.wheelTimeout=void 0},400),"deltaX"in e)1===e.deltaMode?(t=-e.deltaX*this.options.mouseWheelSpeed,n=-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,n=-e.deltaY);else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,n=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)t=n=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;t=n=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=n,n=0),this.options.snap)return a=this.currentPage.pageX,o=this.currentPage.pageY,t>0?a--:t<0&&a++,n>0?o--:n<0&&o++,void this.goToPage(a,o);if(a=this.x+Math.round(this.hasHorizontalScroll?t:0),o=this.y+Math.round(this.hasVerticalScroll?n:0),this.directionX=t>0?-1:t<0?1:0,this.directionY=n>0?-1:n<0?1:0,this.options.centerOnZoomOut){if(a>0&&this.hasHorizontalScroll)a=0;else if(a<this.maxScrollX){var i=this.scroller.offsetWidth*this.scale;a=this.wrapperWidth>i?(this.wrapperWidth-i)/2:this.maxScrollX}o>0&&this.hasVerticalScroll?o=0:o<this.maxScrollY&&(o=this.maxScrollY)}else a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),o>0?o=0:o<this.maxScrollY&&(o=this.maxScrollY);this.scrollTo(a,o,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var e=0,t=void 0,n=0,a=void 0,o=void 0,r=void 0,i=0,s=void 0,d=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight,c=void 0,p=void 0;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(o=Math.round(d/2),r=Math.round(u/2);i>-this.scrollerWidth;){for(this.pages[e]=[],t=0,s=0;s>-this.scrollerHeight;)this.pages[e][t]={x:Math.max(i,this.maxScrollX),y:Math.max(s,this.maxScrollY),width:d,height:u,cx:i-o,cy:s-r},s-=u,t++;i-=d,e++}else for(t=(c=this.options.snap).length,a=-1;e<t;e++)p=l.getRect(c[e]),(0===e||p.left<=l.getRect(c[e-1]).left)&&(n=0,a++),this.pages[n]||(this.pages[n]=[]),i=Math.max(-p.left,this.maxScrollX),s=Math.max(-p.top,this.maxScrollY),o=i-Math.round(p.width/2),r=s-Math.round(p.height/2),this.pages[n][a]={x:i,y:s,width:p.width,height:p.height,cx:o,cy:r},i>this.maxScrollX&&n++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var e=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1e3),Math.min(Math.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)})},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,a=this.pages.length,o=0;if(Math.abs(e-this.absStartX)<this.snapThresholdX&&Math.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);n<a;n++)if(e>=this.pages[n][0].cx){e=this.pages[n][0].x;break}for(a=this.pages[n].length;o<a;o++)if(t>=this.pages[0][o].cy){t=this.pages[0][o].y;break}return n==this.currentPage.pageX&&((n+=this.directionX)<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),e=this.pages[n][0].x),o==this.currentPage.pageY&&((o+=this.directionY)<0?o=0:o>=this.pages[0].length&&(o=this.pages[0].length-1),t=this.pages[0][o].y),{x:e,y:t,pageX:n,pageY:o}},goToPage:function(e,t,n,a){a=a||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0);var o=this.pages[e][t].x,r=this.pages[e][t].y;n=void 0===n?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(o-this.x),1e3),Math.min(Math.abs(r-this.y),1e3)),300):n,this.currentPage={x:o,y:r,pageX:e,pageY:t},this.scrollTo(o,r,n,a)},next:function(e,t){var n=this.currentPage.pageX,a=this.currentPage.pageY;++n>=this.pages.length&&this.hasVerticalScroll&&(n=0,a++),this.goToPage(n,a,e,t)},prev:function(e,t){var n=this.currentPage.pageX,a=this.currentPage.pageY;--n<0&&this.hasVerticalScroll&&(n=0,a--),this.goToPage(n,a,e,t)},_initKeys:function(e){var t={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},n=void 0;if("object"===(0,r.default)(this.options.keyBindings))for(n in this.options.keyBindings)"string"==typeof this.options.keyBindings[n]&&(this.options.keyBindings[n]=this.options.keyBindings[n].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(n in t)this.options.keyBindings[n]=this.options.keyBindings[n]||t[n];l.addEvent(window,"keydown",this),this.on("destroy",function(){l.removeEvent(window,"keydown",this)})},_key:function(e){if(this.enabled){var t=this.options.snap,n=t?this.currentPage.pageX:this.x,a=t?this.currentPage.pageY:this.y,o=l.getTime(),r=this.keyTime||0,i=void 0;switch(this.options.useTransition&&this.isInTransition&&(i=this.getComputedPosition(),this._translate(Math.round(i.x),Math.round(i.y)),this.isInTransition=!1),this.keyAcceleration=o-r<200?Math.min(this.keyAcceleration+.25,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=t?1:this.wrapperWidth:a+=t?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=t?1:this.wrapperWidth:a-=t?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=t?this.pages.length-1:this.maxScrollX,a=t?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,a=0;break;case this.options.keyBindings.left:n+=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:a+=t?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:a-=t?1:5+this.keyAcceleration>>0;break;default:return}t?this.goToPage(n,a):(n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),a>0?(a=0,this.keyAcceleration=0):a<this.maxScrollY&&(a=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,a,0),this.keyTime=o)}},_animate:function(e,t,n,a){var o=this,r=this.x,s=this.y,d=l.getTime(),u=d+n;this.isAnimating=!0,function c(){var p,h,f,m=l.getTime();if(m>=u)return o.isAnimating=!1,o._translate(e,t),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"));f=a(m=(m-d)/n),p=(e-r)*f+r,h=(t-s)*f+s,o._translate(p,h),o.isAnimating&&i(c)}()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e),this.options.zoom&&e.touches&&e.touches.length>1&&this._zoomStart(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":if(this.options.zoom&&e.touches&&e.touches[1])return void this._zoom(e);this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":if(this.scaled)return void this._zoomEnd(e);this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":if("zoom"==this.options.wheelAction)return void this._wheelZoom(e);this._wheel(e);break;case"keydown":this._key(e)}}},u.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(l.removeEvent(this.indicator,"touchstart",this),l.removeEvent(this.indicator,l.prefixPointerEvent("pointerdown"),this),l.removeEvent(this.indicator,"mousedown",this),l.removeEvent(window,"touchmove",this),l.removeEvent(window,l.prefixPointerEvent("pointermove"),this),l.removeEvent(window,"mousemove",this),l.removeEvent(window,"touchend",this),l.removeEvent(window,l.prefixPointerEvent("pointerup"),this),l.removeEvent(window,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var t=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=t.pageX,this.lastPointY=t.pageY,this.startTime=l.getTime(),this.options.disableTouch||l.addEvent(window,"touchmove",this),this.options.disablePointer||l.addEvent(window,l.prefixPointerEvent("pointermove"),this),this.options.disableMouse||l.addEvent(window,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t,n,a,o,r=e.touches?e.touches[0]:e;l.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,t=r.pageX-this.lastPointX,this.lastPointX=r.pageX,n=r.pageY-this.lastPointY,this.lastPointY=r.pageY,a=this.x+t,o=this.y+n,this._pos(a,o),e.preventDefault(),e.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),l.removeEvent(window,"touchmove",this),l.removeEvent(window,l.prefixPointerEvent("pointermove"),this),l.removeEvent(window,"mousemove",this),this.scroller.options.snap){var t=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-t.x),1e3),Math.min(Math.abs(this.scroller.y-t.y),1e3)),300);this.scroller.x==t.x&&this.scroller.y==t.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=t,this.scroller.scrollTo(t.x,t.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0;var t=l.style.transitionDuration;if(t&&(this.indicatorStyle[t]=e+"ms",!e&&l.isBadAndroid)){this.indicatorStyle[t]="0.0001ms";var n=this;i(function(){"0.0001ms"===n.indicatorStyle[t]&&(n.indicatorStyle[t]="0s")})}},transitionTimingFunction:function(e){this.indicatorStyle[l.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(l.addClass(this.wrapper,"iScrollBothScrollbars"),l.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(l.removeClass(this.wrapper,"iScrollBothScrollbars"),l.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),l.getRect(this.wrapper),this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=Math.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=Math.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):e=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=Math.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=Math.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[l.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?Math.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?Math.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=e?250:500,a=e?0:300;e=e?"1":"0",this.wrapperStyle[l.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),a)}}},s.utils=l,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerContentInitial=void 0;var a=h(n(69)),o=h(n(58)),r=h(n(59)),i=h(n(70)),l=h(n(71)),s=h(n(3)),d=n(1),u=h(d),c=n(1215),p=n(1218);function h(e){return e&&e.__esModule?e:{default:e}}var f={locale:s.default.object.isRequired,images:s.default.array,handleDelete:s.default.func,handleSelect:s.default.func,handleEdit:s.default.func,handleImageLoading:s.default.func,setInitialImage:s.default.func,uploaderIcon:s.default.string,captureIcon:s.default.string};(t.ImageManagerContentInitial=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,r.default)(t,[{key:"renderBody",value:function(){var e=this.props,t=e.images,n=e.locale;return t.length?u.default.createElement(c.ImageManagerContent,{handleDelete:this.props.handleDelete,handleSelect:this.props.handleSelect,handleEdit:this.props.handleEdit,handleImageLoading:this.props.handleImageLoading,setInitialImage:this.props.setInitialImage}):u.default.createElement("div",{className:"sign-m-body sign-m-body--images-initial"},u.default.createElement("div",{className:"sign-m-init-text-block"},u.default.createElement("div",{className:"sign-m-init-text-block__title"},n.emptyGallery.title),u.default.createElement("div",{className:"sign-m-init-text-block__text"},n.emptyGallery.text)))}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.uploaderIcon,a=e.captureIcon,o={icon:n,title:t.footerDesktop.uploaderButton.title,desc:t.footerDesktop.uploaderButton.text},r={icon:a,title:t.footerDesktop.captureButton.title,desc:t.footerDesktop.captureButton.text};return u.default.createElement("div",{className:"sign-m-content"},this.renderBody(),u.default.createElement(p.ImageManagerBigFooter,{btnFirst:o,btnSecond:r}))}}]),t}(d.Component)).propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerContent=void 0;var a=h(n(69)),o=h(n(58)),r=h(n(59)),i=h(n(70)),l=h(n(71)),s=h(n(3)),d=n(1),u=h(d),c=n(916),p=n(1216);function h(e){return e&&e.__esModule?e:{default:e}}var f={handleDelete:s.default.func.isRequired,handleSelect:s.default.func.isRequired,handleEdit:s.default.func.isRequired,handleImageLoading:s.default.func.isRequired,setInitialImage:s.default.func.isRequired};(t.ImageManagerContent=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.updateViewport=function(){if(e.ref){var t=e.ref.getBoundingClientRect().height;e.setState({viewport:{height:t,top:e.ref.scrollTop}})}e.ps&&e.ps.update()},e.setRef=function(t){e.ref=t},e.state={viewport:{top:0,height:0}},e}return(0,l.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.ref;e&&(this.ps=(0,c.ps)(e),this.ps.initialize({suppressScrollX:!0})),this.updateViewport(),"undefined"!=typeof window&&window.addEventListener("resize",this.updateViewport,!1)}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&window.removeEventListener("resize",this.updateViewport)}},{key:"render",value:function(){var e=this.state.viewport;return u.default.createElement("div",{className:"sign-m-body sign-m-body--images",ref:this.setRef,onScroll:this.updateViewport},u.default.createElement(p.ImageManagerGalleryList,{handleDelete:this.props.handleDelete,handleSelect:this.props.handleSelect,handleEdit:this.props.handleEdit,handleImageLoading:this.props.handleImageLoading,setInitialImage:this.props.setInitialImage,viewport:e}))}}]),t}(d.Component)).propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerGalleryList=void 0;var a,o=E(n(69)),r=E(n(58)),i=E(n(59)),l=E(n(70)),s=E(n(71)),d=E(n(3)),u=n(1),c=E(u),p=n(8),h=E(n(12)),f=n(916),m=n(1217);function E(e){return e&&e.__esModule?e:{default:e}}var _={handleDelete:d.default.func,handleSelect:d.default.func,handleEdit:d.default.func,handleImageLoading:d.default.func,setInitialImage:d.default.func,list:d.default.array,viewport:d.default.object,deviceProps:d.default.object};(t.ImageManagerGalleryList=(0,p.connect)(function(e){return{list:e.ws.images,deviceProps:e.deviceProps}})(a=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.list,a=t.viewport,o=t.deviceProps;return c.default.createElement("div",{className:(0,h.default)("signature-type-list",{"signature-type-list--no-edit":(0,f.isTabletOrMobile)(o)})},n.map(function(t,n){return c.default.createElement(m.ImageManagerGalleryItem,{key:n,image:t,viewport:a,handleDelete:e.props.handleDelete,handleSelect:e.props.handleSelect,handleEdit:e.props.handleEdit,handleImageLoading:e.props.handleImageLoading,setInitialImage:e.props.setInitialImage})}))}}]),t}(u.Component))||a).propTypes=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerGalleryItem=void 0;var a=f(n(69)),o=f(n(58)),r=f(n(59)),i=f(n(70)),l=f(n(71)),s=f(n(3)),d=n(1),u=f(d),c=f(n(1010)),p=n(912),h=n(949);function f(e){return e&&e.__esModule?e:{default:e}}var m=60,E={handleDelete:s.default.func,handleSelect:s.default.func,handleEdit:s.default.func,handleImageLoading:s.default.func,setInitialImage:s.default.func,image:s.default.object,viewport:s.default.object};(t.ImageManagerGalleryItem=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.updateImagePosition=function(){if(!e.state.showImage){var t=e.props.viewport;e.ref.offsetTop<=t.top+t.height-m&&e.setState({showImage:!0})}},e.setRef=function(t){e.ref=t},e.handleSelect=function(t){t.stopPropagation();var n=e.props.image;e.props.handleSelect(n)},e.handleEdit=function(t){t.stopPropagation();var n=e.props.image;e.props.handleImageLoading(!0),(0,p.imageToBase64)(n.url,function(t){e.props.setInitialImage(t,n),e.props.handleImageLoading(!1),e.props.handleEdit()})},e.handleDelete=function(t){t.stopPropagation();var n=e.props.image;e.props.handleDelete(n)},e.state={showImage:!1},e}return(0,l.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.props.viewport&&this.updateImagePosition()}},{key:"componentDidUpdate",value:function(e){var t=this.props.viewport;e.viewport&&!(0,c.default)(t,e.viewport)&&this.updateImagePosition()}},{key:"render",value:function(){var e=this.props.image,t=this.state.showImage;return u.default.createElement("div",{className:"signature-type-list-item signature-type-list-item--image",ref:this.setRef,onClick:this.handleSelect},u.default.createElement("div",{className:"signature-type-item"},u.default.createElement(h.ImageItem,{src:e.url,showImage:t})),u.default.createElement("div",{className:"signature-type-list-item__btn signature-type-list-item__btn--edit",onClick:this.handleEdit},u.default.createElement("div",{className:"signature-type-list-item-icon sign-m-svg-icon-pen-edit"})),u.default.createElement("div",{className:"signature-type-list-item__btn signature-type-list-item__btn--delete",onClick:this.handleDelete},u.default.createElement("div",{className:"signature-type-list-item-icon sign-m-svg-icon-trash-white"})))}}]),t}(d.Component)).propTypes=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerBigFooter=void 0;var a,o=S(n(69)),r=S(n(58)),i=S(n(59)),l=S(n(70)),s=S(n(71)),d=S(n(357)),u=S(n(3)),c=n(1),p=S(c),h=n(8),f=n(1219),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),E=n(916),_=n(907);function S(e){return e&&e.__esModule?e:{default:e}}var g={uploader:u.default.func,mobileUploader:u.default.func,capture:u.default.func,locale:u.default.object,dropzoneConfig:u.default.object,deviceProps:u.default.object,btnFirst:u.default.object,btnSecond:u.default.object,webcamEnabled:u.default.bool};(t.ImageManagerBigFooter=(0,h.connect)(function(e){return(0,d.default)({},e.im.mode,{webcamEnabled:e.im.webcamEnabled,locale:(0,_.getImageManagerLocale)(e).gallery,dropzoneConfig:e.im.dropzoneConfig,deviceProps:e.deviceProps})},{capture:m.capture,mobileUploader:m.mobileUploader,uploader:m.uploader})(a=function(e){function t(){(0,r.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return e.checkScreenSize=function(){if("undefined"!=typeof window){var t=window.innerWidth>0?window.innerWidth:screen.width;e.setState({isDesktop:t>748})}},e.state={isDesktop:!0},e}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentWillMount",value:function(){this.checkScreenSize()}},{key:"componentDidMount",value:function(){"undefined"!=typeof window&&window.addEventListener("resize",this.checkScreenSize)}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&window.removeEventListener("resize",this.checkScreenSize)}},{key:"renderUploadBtn",value:function(){var e=this.props,t=e.mobileUploader,n=e.locale,a=e.dropzoneConfig;return p.default.createElement("label",{htmlFor:"crop_upload_file1"},p.default.createElement("div",{className:"sign-m-footer__left"},p.default.createElement("div",{className:"g-btn g-btn-primary g-btn-auto-width g-btn-sm"},n.footerMobile.uploaderButton.title),p.default.createElement("input",{value:"",id:"crop_upload_file1",type:"file",hidden:"hidden",accept:a.allowedFileTypes,onChange:function(e){return t(e.target.files)}})))}},{key:"renderUploadBtnWithoutDropzone",value:function(){var e=this.props,t=e.uploader,n=e.mobileUploader,a=e.locale,o=e.dropzoneConfig,r=e.deviceProps,i=e.btnFirst;return(0,E.isTabletOrMobile)(r)?p.default.createElement("label",{htmlFor:"crop_upload_file1",className:"sign-m-method-item"},p.default.createElement("div",null,p.default.createElement("div",{className:"sign-m-method-item__icon"},p.default.createElement("div",{className:i.icon})),p.default.createElement("div",{className:"sign-m-method-item-inner"},p.default.createElement("div",{className:"sign-m-method-item__title"},a.footerMobile.uploaderButton.title),p.default.createElement("div",{className:"sign-m-method-item__desc"},a.footerMobile.uploaderButton.text))),p.default.createElement("input",{value:"",id:"crop_upload_file1",type:"file",hidden:"hidden",accept:o.allowedFileTypes,onChange:function(e){return n(e.target.files)}})):p.default.createElement(f.BigBtn,{type:i,onClick:t})}},{key:"renderCaptureButton",value:function(){var e=this.props,t=e.capture,n=e.webcamEnabled,a=e.deviceProps,o=e.btnSecond;return(0,E.isTabletOrMobile)(a)?null:p.default.createElement(f.BigBtn,{type:o,onClick:t,disabled:!n})}},{key:"render",value:function(){return this.state.isDesktop?p.default.createElement("div",{className:"sign-m-footer sign-m-footer--separation clfx sign-m-mobile-hide"},p.default.createElement("div",{className:"sign-m-method-item-list"},this.renderUploadBtnWithoutDropzone(),this.renderCaptureButton())):p.default.createElement("div",{className:"sign-m-footer sign-m-footer--separation clfx sign-m-mobile-show"},this.renderUploadBtn())}}]),t}(c.Component))||a).propTypes=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BigBtn=void 0;var a=p(n(69)),o=p(n(58)),r=p(n(59)),i=p(n(70)),l=p(n(71)),s=p(n(3)),d=n(1),u=p(d),c=p(n(12));function p(e){return e&&e.__esModule?e:{default:e}}var h={type:s.default.object.isRequired,disabled:s.default.bool,onClick:s.default.func};(t.BigBtn=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.onClick=e.onClick.bind(e),e}return(0,l.default)(t,e),(0,r.default)(t,[{key:"onClick",value:function(){var e=this.props,t=e.onClick;!e.disabled&&t&&t()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.disabled,a=(0,c.default)("sign-m-method-item",{disabled:n});return u.default.createElement("div",{className:a,onClick:this.onClick},u.default.createElement("div",{className:"sign-m-method-item__icon"},u.default.createElement("div",{className:t.icon})),u.default.createElement("div",{className:"sign-m-method-item-inner"},u.default.createElement("div",{className:"sign-m-method-item__title"},t.title),u.default.createElement("div",{className:"sign-m-method-item__desc"},t.desc)))}}]),t}(d.Component)).propTypes=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerFooter=void 0;var a=p(n(69)),o=p(n(58)),r=p(n(59)),i=p(n(70)),l=p(n(71)),s=p(n(3)),d=n(1),u=p(d),c=n(910);function p(e){return e&&e.__esModule?e:{default:e}}var h={backButtonText:s.default.string,onButtonClick:s.default.func};(t.ImageManagerFooter=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onButtonClick,n=e.backButtonText;return u.default.createElement("div",{className:"sign-m-footer"},u.default.createElement("div",{className:"sign-m-footer__left"},u.default.createElement(c.BtnSecondary,{addClass:"g-btn-sm",onClick:t},n)),u.default.createElement("div",{className:"sign-m-footer__right"}))}}]),t}(d.Component)).propTypes=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerFooterCapture=void 0;var a,o=S(n(69)),r=S(n(58)),i=S(n(59)),l=S(n(70)),s=S(n(71)),d=S(n(357)),u=S(n(3)),c=n(1),p=S(c),h=n(8),f=n(914),m=n(910),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),_=n(907);function S(e){return e&&e.__esModule?e:{default:e}}var g={locale:u.default.object,takeSnapShot:u.default.func,initial:u.default.func};(t.ImageManagerFooterCapture=(0,h.connect)(function(e){return(0,d.default)({},e.im.mode,{locale:(0,_.getImageManagerLocale)(e)})},{initial:E.initial})(a=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.initial,n=e.locale,a=e.takeSnapShot;return p.default.createElement("div",{className:"sign-m-footer"},p.default.createElement("div",{className:"sign-m-footer__left"},p.default.createElement(m.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t},n.backButton)),p.default.createElement("div",{className:"sign-m-footer__right"},p.default.createElement(f.BtnPrimary,{addClass:"g-btn-sm",onClick:a},n.capture.button)))}}]),t}(c.Component))||a).propTypes=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=$(n(359)),l=$(n(69)),s=$(n(58)),d=$(n(59)),u=$(n(70)),c=$(n(71)),p=$(n(357)),h=$(n(3)),f=n(1),m=$(f),E=n(8),_=n(144),S=$(n(12)),g=$(n(937)),v=$(n(993)),T=n(912),O=$(n(908)),C=$(n(982)),y=$(n(913)),D=$(n(1008)),M=n(1012),A=n(1013),b=n(1223),I=n(1226),R=n(1228),N=n(1229),w=n(1233),P=n(1235),L=n(1236),k=n(1237),B=$(n(1238)),x=$(n(1241)),F=n(1242),Y=n(1246),U=n(1247),H=n(1248),K=$(n(1249)),G=$(n(1011)),j=n(932),W=n(904),V=n(944),z=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),X=n(907),q=n(916);function $(e){return e&&e.__esModule?e:{default:e}}var Z=W.modalIds.SIGNATURE_MANAGER,Q=v.default.DropzoneComponentWrapper,J=v.default.DropzoneButton,ee=v.default.DropzoneContent,te=v.default.DropzoneTitle,ne=g.default.Webcam,ae=g.default.WebcamUtils,oe=C.default.inputHandler,re=C.default.SYSTEM,ie=C.default.controllers,le=ie.EnterEscapeController,se=ie.AddressBookController,de=(0,E.connect)(function(e){return{modeSignature:e.im.modeSignature,useSignNowTheme:(0,X.getUseSignNowTheme)(e),locale:(0,X.getSignatureManagerLocale)(e),dropzoneConfig:e.im.dropzoneConfig,signatures:e.ws.signatures,signature:e.im.signature,initialSignature:e.im.initialSignature,addedSignature:e.ws.addedSignature,uploadedPercent:e.im.uploadedPercent,modalsOptions:e.modal.options,originalImage:e.im.originalImage,error:e.im.signatureManagerError,editedImage:e.signatureEditor.image,imageDimensions:e.signatureEditor.imageDimensions,deviceProps:e.deviceProps,webcamEnabled:e.im.webcamEnabled,experimentalFeatures:e.ws.experimentalFeatures,misc:e.ws.features.misc}},function(e){var t=(0,_.bindActionCreators)({disableWebcam:z.disableWebcam,uploadSignatureImage:z.uploadSignatureImage,smGallery:z.smGallery,closeSignature:z.closeSignature,setError:z.smSetError,clearError:z.clearErrors,smInitial:z.smInitial,smOpenEditor:z.smOpenEditor,setOriginalImage:z.smSetOriginalImage,setInitialImage:y.default.setInitialImage,initialImageAdjust:y.default.initialImageAdjust,restoreInitialState:y.default.restoreInitialState},e);return(0,p.default)({},t,{dispatch:e})})((r=o=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));n.getChildContext=function(){return{useSignNowTheme:n.props.useSignNowTheme}},n.onLoadFilesSelect=function(e){var t=n.props,a=t.dropzoneConfig,o=t.locale,r=t.setError,i=a.maxFileSize,l=a.allowedFileTypes,s={customErrors:o.errors,imageDimensions:a.imageDimensions,checkImage:!0,maxFilesNumber:1,maxFileSize:i,allowedFileTypes:l};(0,T.validateFiles)(e,s,n.handleFilesSelect,r)},n.handleFilesSelect=function(e){if(e[0]){var t=n.props,a=t.initialImageAdjust,o=t.setOriginalImage,r=t.deviceProps,i=e[0];(0,q.isTabletOrMobile)(r)?n.handleImage(i.data,{width:i.width,height:i.height}):(a(i.data),o(i.data))}},n.handleWebcamImage=function(e){var t=n.props,a=t.initialImageAdjust,o=t.setOriginalImage;a(e),o(e)},n.handleClose=function(){var e=n.props,t=e.closeSignature,a=e.smGallery,o=e.handleClose;o&&o(),t(),a()},n.handleError=function(e){var t=n.props,a=t.handleError,o=t.locale,r=t.clearError;a({btnConfirmText:o.errorModal.button,title:o.errorModal.title,content:e}),r()},n.handlePreviewOptionSelection=function(e){n.setState({selectedPreviewOption:e})},n.handleEditorPreviewConfirm=function(){var e=n.props,t=e.smOpenEditor,a=e.restoreInitialState;switch(n.state.selectedPreviewOption){case 1:return n.handleEditedImage();case 2:return t();case 3:return a()}},n.handleEditedImage=function(e){var t=n.props,a=t.editedImage,o=t.imageDimensions,r=t.modeSignature,i=t.initialSignature;n.props.uploadSignatureImage(a,o,function(t,a){if(a){var o=(0,p.default)({},a,{id:i.id,subType:W.SUB_TYPES.image});r.type===W.MODE_TYPES.SM_IMAGE_EDIT?n.props.handleUpdate(o,e):n.props.handleAdd(o,e)}})},n.handleSaveAndUse=function(e){var t=n.props,a=t.modeSignature,o=t.signature,r=t.initialSignature;if(n.setState({use:e}),a.type===W.MODE_TYPES.SM_TEXT_EDIT||a.type===W.MODE_TYPES.SM_TYPE_SIGNATURE){var i=(0,p.default)({},r,o,{fontSize:V.DEFAULT_SIGNATURE_FONT_SIZE,subType:W.SUB_TYPES.text});a.type===W.MODE_TYPES.SM_TEXT_EDIT?n.props.handleUpdate(i,e):n.props.handleAdd(i,e)}if(a.type===W.MODE_TYPES.SM_CURVE_EDIT||a.type===W.MODE_TYPES.SM_DRAW){var l=(0,p.default)({},r,o,{subType:W.SUB_TYPES.curve});a.type===W.MODE_TYPES.SM_CURVE_EDIT?n.props.handleUpdate(l,e):n.props.handleAdd(l,e)}a.type!==W.MODE_TYPES.SM_IMAGE_EDIT&&a.type!==W.MODE_TYPES.SM_EDITOR||n.handleEditedImage(e)},n.handleImage=function(e,t){n.props.uploadSignatureImage(e,t,function(e,t){var a=(0,p.default)({},t,{subType:W.SUB_TYPES.image});t&&n.props.handleAdd(a)})},n.handleImageLoading=function(e){n.setState({imageLoading:e})},n.handleOpenAddressBook=function(){(0,n.props.handleOpenAddressBook)({controller:n.addressBookController,inputHandler:oe,controllerConstants:re})},n.setReference=function(e){n.webcamInstance=e};var a=e.modalsOptions,o=e.modalId,r=e.dispatch;return n.state={selectedPreviewOption:1,use:!1,imageLoading:!1},n.webcamInstance=null,n.modalId=t.getModalId(),n.modalOptions=a[n.modalId]||a[o]||{},n.enterEscapeController=new le(r),n.addressBookController=new se(r),n}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.disableWebcam,n=e.jsOnly;ae.checkWebcamAvailability(n,function(e){e||t()})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.addedSignature,a=t.handleSelect,o=t.error;n&&n!==e.addedSignature&&this.state.use?a(n):o&&o!==e.error&&this.handleError(o)}},{key:"renderHeaderByTypeContent",value:function(e){var t=this.props,n=t.smInitial,a=t.smGallery,o=t.upload,r=t.locale,i=t.signatures,l=t.useSignNowTheme,s={status:!0},d="",u="",c="",p=n;switch(e){case W.MODE_TYPES.SM_GALLERY:d=l?r.gallery.headerSignNow:r.gallery.header,u=l?null:"sign-m-svg-icon-type-sm",s.status=!1;break;case W.MODE_TYPES.SM_INITIAL:d=l?r.methods.headerSignNow:r.methods.header,u=l?null:"sign-m-svg-icon-gallery-signature-sm",s.status=i.length>0,p=a;break;case W.MODE_TYPES.SM_TEXT_EDIT:case W.MODE_TYPES.SM_CURVE_EDIT:case W.MODE_TYPES.SM_IMAGE_EDIT:d=r.edit.header,u="sign-m-svg-icon-pencil",c="sign-m-mobile-hide";break;case W.MODE_TYPES.SM_TYPE_SIGNATURE:d=r.type.header,u="sign-m-svg-icon-type-sm";break;case W.MODE_TYPES.SM_QR:d=r.qr.header,u="sign-m-svg-icon-qr-mobile-sm";break;case W.MODE_TYPES.SM_SMS:d=r.sms.header,u="sign-m-svg-icon-sms-mobile-sm";break;case W.MODE_TYPES.SM_EMAIL:d=r.email.header,u="sign-m-svg-icon-email-mobile-sm";break;case W.MODE_TYPES.SM_DRAW:d=r.draw.header,u="sign-m-svg-icon-draw-sm",c="sign-m-mobile-hide";break;case W.MODE_TYPES.SM_MOBILE_SIGN_LOADING:d=l?r.gallery.headerSignNow:r.draw.header,u=l?null:"sign-m-svg-icon-draw-sm";break;case W.MODE_TYPES.SM_CAPTURE:d=r.capture.header,u="sign-m-svg-icon-camera-sm";break;case W.MODE_TYPES.SM_UPLOADER:d=r.upload.header,u="sign-m-svg-icon-upload-sm";break;case W.MODE_TYPES.SM_MOBILE_UPLOADER:d=r.upload.header,u="sign-m-svg-icon-upload-sm",p=o;break;case W.MODE_TYPES.SM_UPLOADING:d=r.uploading.header,u="sign-m-svg-icon-upload-sm",p=o;break;case W.MODE_TYPES.SM_EDITOR_PREVIEW:case W.MODE_TYPES.SM_EDITOR:d=r.upload.header,u="sign-m-svg-icon-upload-sm"}return m.default.createElement(M.ImageManagerHeader,{icon:u,title:d,btnBack:s,btnBackDispatch:p,handleClose:this.handleClose,addClass:c})}},{key:"renderComponentByTypeContent",value:function(e){var t=this,n=this.props,a=n.handleDelete,o=n.handleSelect,r=n.handleAdd,i=n.locale,l=n.uploadedPercent,s=n.jsOnly,d=n.dropzoneConfig,u=n.smInitial,c=n.smGallery,p=n.signatures,h=n.originalImage,f=n.editedImage,E=n.setError,_=n.webcamEnabled,S=n.experimentalFeatures,g=n.misc,v=n.useSignNowTheme,T=this.state.selectedPreviewOption,O=this.modalOptions.restrictSubTypes;if(this.state.imageLoading)return m.default.createElement("div",{className:"loading-overlay"},m.default.createElement(j.Loader,{title:i.gallery.loadingImage}));switch(e){case W.MODE_TYPES.SM_INITIAL:return[m.default.createElement(b.SignatureManagerMethodList,{handleAdd:r,handleSelect:o,restrictSubTypes:O,controller:this.enterEscapeController,webcamEnabled:_,onLoadFilesSelect:this.onLoadFilesSelect,experimentalFeatures:S,misc:g,key:"SignatureManagerMethodListSM_INITIAL"}),m.default.createElement(H.SignatureManagerFooterInitial,{key:"SignatureManagerFooterInitialSM_INITIAL"})];case W.MODE_TYPES.SM_TYPE_SIGNATURE:case W.MODE_TYPES.SM_TEXT_EDIT:return[m.default.createElement(I.SignatureManagerTypeSignature,{key:"SignatureManagerTypeSignatureSM_TYPE_SIGNATURE"}),m.default.createElement(R.SignatureManagerFooterTypeSignature,{key:"SignatureManagerFooterTypeSignatureSM_TYPE_SIGNATURE",handleSaveAndUse:this.handleSaveAndUse})];case W.MODE_TYPES.SM_MOBILE_SIGN_LOADING:return[m.default.createElement(N.SignatureManagerGalleryList,{handleSelect:o,handleDelete:a,restrictSubTypes:O,key:"SignatureManagerGalleryListSM_MOBILE_SIGN_LOADING"}),m.default.createElement(w.SignatureManagerFooterGallery,{key:"SignatureManagerFooterGallerySM_MOBILE_SIGN_LOADING"})];case W.MODE_TYPES.SM_GALLERY:return p?[m.default.createElement(N.SignatureManagerGalleryList,{handleSelect:o,handleDelete:a,handleImageLoading:this.handleImageLoading,restrictSubTypes:O,key:"SignatureManagerGalleryListSM_GALLERY"}),m.default.createElement(w.SignatureManagerFooterGallery,{key:"SignatureManagerFooterGallerySM_GALLERY"})]:m.default.createElement("div",{className:"loading-overlay",key:"LoaderSM_GALLERY"},m.default.createElement(j.Loader,{title:i.gallery.loadingSignatures}));case W.MODE_TYPES.SM_QR:return[m.default.createElement(P.SignatureManagerQR,{key:"SignatureManagerQRSM_QR"}),m.default.createElement(x.default,{key:"SignatureManagerFooterQRSM_QR",onButtonClick:u,backButtonText:i.backButton})];case W.MODE_TYPES.SM_SMS:return[m.default.createElement(L.SignatureManagerSMS,{key:"SignatureManagerSMSSM_SMS",openAddressBook:this.handleOpenAddressBook}),m.default.createElement(x.default,{key:"SignatureManagerSMSSM_SMS_Footer",onButtonClick:u,backButtonText:i.backButton})];case W.MODE_TYPES.SM_EMAIL:return[m.default.createElement(k.SignatureManagerEmail,{openAddressBook:this.handleOpenAddressBook,key:"SignatureManagerEmailSM_EMAIL"}),m.default.createElement(x.default,{key:"SignatureManagerFooterEmailSM_EMAIL",onButtonClick:u,backButtonText:i.backButton})];case W.MODE_TYPES.SM_DRAW:case W.MODE_TYPES.SM_CURVE_EDIT:return[m.default.createElement(F.SignatureManagerDraw,{key:"SignatureManagerDrawSM_DRAW",signatureMode:e,handleSaveAndUse:this.handleSaveAndUse,smInitial:u,smGallery:c}),m.default.createElement(Y.SignatureManagerFooterDraw,{key:"SignatureManagerFooterDrawSM_DRAW",handleSaveAndUse:this.handleSaveAndUse})];case W.MODE_TYPES.SM_MOBILE_UPLOADER:return[m.default.createElement(A.ImageManagerContentUploading,{title:i.uploading.text,uploadedPercent:l,key:"ImageManagerContentUploadingSM_MOBILE_UPLOADER"}),m.default.createElement(x.default,{key:"SignatureManagerFooterUploaderSM_MOBILE_UPLOADER",onButtonClick:u,backButtonText:i.backButton})];case W.MODE_TYPES.SM_UPLOADER:var C="g-btn g-btn-"+(v?"blue":"primary")+" g-btn-auto-width";return[m.default.createElement("div",{className:"sign-m-body",key:"divSM_UPLOADER"},m.default.createElement(Q,{maxFileSize:d.maxFileSize,allowedFileTypes:d.allowedFileTypes,handleFilesSelect:this.handleFilesSelect,handleErrors:E,errors:i.errors.dropZone,checkImage:!0},m.default.createElement(te,{title:i.upload.dropZone.title}),m.default.createElement(ee,{content:i.upload.dropZone.text+" "+d.maxFileSize+"."}),m.default.createElement(J,{title:i.upload.dropZone.button,className:C}))),m.default.createElement(x.default,{key:"SignatureManagerFooterUploaderSM_UPLOADER",onButtonClick:u,backButtonText:i.backButton})];case W.MODE_TYPES.SM_UPLOADING:return[m.default.createElement(A.ImageManagerContentUploading,{title:i.uploading.text,uploadedPercent:l,key:"ImageManagerContentUploadingSM_UPLOADING"}),m.default.createElement(x.default,{key:"SignatureManagerFooterUploaderSM_UPLOADING",onButtonClick:u,backButtonText:i.backButton})];case W.MODE_TYPES.SM_CAPTURE:return[m.default.createElement("div",{className:"sign-m-body",key:"divSM_CAPTURE"},m.default.createElement("div",null,i.capture.text),m.default.createElement("div",{className:"crop-body"},m.default.createElement("div",{className:"crop-body-table"},m.default.createElement("div",{className:"crop-body-cell"},m.default.createElement(ne,{ref:this.setReference,handleImage:this.handleWebcamImage,handleError:E,jsOnly:s,isImageMirrored:!0,crop:!0}))))),m.default.createElement(U.SignatureManagerFooterCapture,{takeSnapShot:function(){return t.webcamInstance.takeSnapshot()},key:"SignatureManagerFooterCaptureSM_CAPTURE"})];case W.MODE_TYPES.SM_EDITOR_PREVIEW:return[m.default.createElement("div",{className:"sign-m-body",key:"SM_EDITOR_PREVIEW_content"},m.default.createElement(B.default,{handlePreviewOptionSelection:this.handlePreviewOptionSelection,locale:i.editorPreview,editedImage:f,originalImage:h,selectedOption:T})),m.default.createElement(K.default,{key:"SM_EDITOR_PREVIEW_footer",onClick:this.handleEditorPreviewConfirm})];case W.MODE_TYPES.SM_EDITOR:case W.MODE_TYPES.SM_IMAGE_EDIT:return[m.default.createElement("div",{className:"sign-m-body",key:"SM_EDITOR_content"},m.default.createElement(D.default,null)),m.default.createElement(G.default,{key:"SM_EDITOR_footer",handleSaveAndUse:this.handleSaveAndUse})]}}},{key:"render",value:function(){var e=this.props,t=e.modeSignature,n=e.signatures,a=e.useSignNowTheme,o=W.MODES[t.type];o.type===W.MODE_TYPES.SM_GALLERY&&n&&!n.length&&(o=W.MODES[W.MODE_TYPES.SM_INITIAL]);var r=o.mods||"",l=a&&(o.type===W.MODE_TYPES.SM_GALLERY||o.type===W.MODE_TYPES.SM_INITIAL||o.type===W.MODE_TYPES.SM_MOBILE_SIGN_LOADING);return m.default.createElement(O.default,{contentLabel:"Modal",className:(0,S.default)("sign-m",(0,i.default)({"sign-m--theme--signnow":l},r,r)),overflow:"hidden"},this.renderHeaderByTypeContent(o.type),this.renderComponentByTypeContent(o.type))}}],[{key:"getModalId",value:function(){return Z}}]),t}(f.Component),o.propTypes={initialImageAdjust:h.default.func.isRequired,setOriginalImage:h.default.func.isRequired,smOpenEditor:h.default.func.isRequired,setError:h.default.func.isRequired,handleError:h.default.func.isRequired,clearError:h.default.func.isRequired,disableWebcam:h.default.func,uploadSignatureImage:h.default.func,handleAdd:h.default.func,handleUpdate:h.default.func,handleDelete:h.default.func,handleSelect:h.default.func,handleClose:h.default.func,upload:h.default.func,dispatch:h.default.func,smGallery:h.default.func,closeSignature:h.default.func,handleOpenAddressBook:h.default.func,smInitial:h.default.func,restoreInitialState:h.default.func,addedSignature:h.default.object,signatures:h.default.array,signature:h.default.object,initialSignature:h.default.object,modeSignature:h.default.object,useSignNowTheme:h.default.bool.isRequired,originalImage:h.default.string,editedImage:h.default.string,imageDimensions:h.default.object,locale:h.default.object,dropzoneConfig:h.default.object,modalsOptions:h.default.object,deviceProps:h.default.object,jsOnly:h.default.bool,uploadedPercent:h.default.number,modalId:h.default.string,error:h.default.string,webcamEnabled:h.default.bool,experimentalFeatures:h.default.array,misc:h.default.array},o.childContextTypes={useSignNowTheme:h.default.bool},a=r))||a;t.default=de},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerMethodList=void 0;var a=m(n(69)),o=m(n(58)),r=m(n(59)),i=m(n(70)),l=m(n(71)),s=m(n(3)),d=n(1),u=m(d),c=m(n(12)),p=n(1224),h=n(1225),f=n(904);function m(e){return e&&e.__esModule?e:{default:e}}var E="mydocs_notarize",_="signature_wizard.options",S="notarize",g={controller:s.default.object,restrictSubTypes:s.default.array,handleAdd:s.default.func,handleSelect:s.default.func,onLoadFilesSelect:s.default.func,webcamEnabled:s.default.bool,experimentalFeatures:s.default.array,misc:s.default.array};(t.SignatureManagerMethodList=function(e){function t(){var e,n,r,l;(0,o.default)(this,t);for(var s=arguments.length,d=Array(s),u=0;u<s;u++)d[u]=arguments[u];return n=r=(0,i.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(d))),r.showNotarize=function(){return!!r.props.experimentalFeatures.find(function(e){return e===E})},r.getMethodsList=function(){var e=r.props.misc.find(function(e){return e.id===_}),t=f.METHODS_LIST;return r.showNotarize()||(t=t.filter(function(e){return e.id!==S})),e&&(t=t.filter(function(t){return e[t.id]})),t},l=n,(0,i.default)(r,l)}return(0,l.default)(t,e),(0,r.default)(t,[{key:"renderPreview",value:function(){var e=this.props,t=e.restrictSubTypes,n=e.controller,a=!1;return t&&t.length&&-1===t.indexOf(f.SUB_TYPES.text)&&-1===t.indexOf(f.SUB_TYPES.initials)&&(a=!0),u.default.createElement(p.SignatureManagerMethodItemPreview,{handleAdd:this.props.handleAdd,handleSelect:this.props.handleSelect,disabled:a,controller:n})}},{key:"renderList",value:function(){var e=this.props,t=e.webcamEnabled,n=e.restrictSubTypes,a=e.onLoadFilesSelect,o=this.getMethodsList();return n&&n.length?o.map(function(e,o){return-1===n.indexOf(e.subType)?e.disabled=!0:t||e.typeDispatch!==f.MODE_TYPES.SM_CAPTURE||(e.disabled=!0),u.default.createElement(h.SignatureManagerMethodItem,{item:e,key:o,onLoadFilesSelect:a})}):o.map(function(e,n){return e.disabled=!t&&e.typeDispatch===f.MODE_TYPES.SM_CAPTURE,u.default.createElement(h.SignatureManagerMethodItem,{item:e,key:n,onLoadFilesSelect:a})})}},{key:"render",value:function(){var e=(0,c.default)("sign-m-body","sign-m-body--scrolled",{"sign-m-body--shadowed":this.showNotarize()});return u.default.createElement("div",{className:e},u.default.createElement("div",{className:"sign-m-body-scrollbox"},this.renderPreview(),u.default.createElement("div",{className:"sign-m-method-item-list"},this.renderList())))}}]),t}(d.Component)).propTypes=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerMethodItemPreview=void 0;var a,o=C(n(357)),r=C(n(69)),i=C(n(58)),l=C(n(59)),s=C(n(70)),d=C(n(71)),u=C(n(3)),c=n(1),p=C(c),h=C(n(12)),f=n(8),m=C(n(931)),E=C(n(928)),_=n(920),S=n(508),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),v=n(904),T=n(944),O=n(907);function C(e){return e&&e.__esModule?e:{default:e}}var y=_.SYSTEM.EVENT_PRESS_ENTER,D={controller:u.default.object,locale:u.default.object,setCurrentController:u.default.func,cancelCurrentController:u.default.func,smSaveSignature:u.default.func,handleAdd:u.default.func,handleSelect:u.default.func,smTypeSignature:u.default.func,signature:u.default.object,fontFamily:u.default.string,disabled:u.default.bool};(t.SignatureManagerMethodItemPreview=(0,f.connect)(function(e){return{signature:e.im.signature,locale:(0,O.getSignatureManagerLocale)(e)}},{cancelCurrentController:E.default.cancelCurrentController,setCurrentController:E.default.setCurrentController,smTypeSignature:g.smTypeSignature,smSaveSignature:g.smSaveSignature})(a=(0,m.default)(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.onChange=function(e){var t=n.props.signature,a=e.target.value.replace(/[^a-zA-Z0-9!?@#$%^&*)(+=.,<>{}_\-[\]\/\\|;:'"`~ ]+$/gi,"");n.props.smSaveSignature((0,o.default)({},t,{text:a}))},n.onFocus=function(e){var t=n.props.controller;n.moveCaretAtEnd(e),S.inputHandler.addControllerListener(t,y,n.handleText)},n.onBlur=function(){var e=n.props.controller;S.inputHandler.removeControllerListener(e,y,n.handleText)},n.handleText=function(){var e={text:n.props.signature.text||"",fontFamily:v.FONTS.JELLYCA.original,fontSize:T.DEFAULT_SIGNATURE_FONT_SIZE,subType:v.SUB_TYPES.text};e.text.trim().length>0&&(n.props.handleAdd(e),n.props.handleSelect(e))},n.showValue=function(e){var t=n.props.locale;return e||t.methods.preview.placeholder},n.setReference=function(e){n.input=e},n.input=null,n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.controller;this.props.setCurrentController(e)}},{key:"componentDidMount",value:function(){this.input&&this.input.focus()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.cancelCurrentController,n=e.controller;S.inputHandler.removeControllerListener(n,y,this.handleText),t(n)}},{key:"render",value:function(){var e=this.props,t=e.smTypeSignature,n=e.signature,a=e.locale,o=e.disabled,r=n.text&&n.text.trim().length>0,i=(0,h.default)({disabled:o,"sign-m-method-item":!0,"sign-m-mobile-show":!0,"sign-m-method-item--strip":!0}),l=(0,h.default)({disabled:o,"sign-m-method-item":!0,"sign-m-method-item--lg":!0,"sign-m-mobile-hide":!0,"sign-m-method-item--strip":!0}),s=(0,h.default)({"g-btn g-btn-primary g-btn-auto-width g-btn-sm":!0,disabled:!n.text});return p.default.createElement("div",null,p.default.createElement("div",{"data-strip":"easy",className:l},p.default.createElement("div",{className:"sign-m-method-item__icon"},p.default.createElement("div",{className:"sign-m-svg-icon-type"}),p.default.createElement("div",{className:"sign-m-method-item__title"},a.methods.preview.title)),p.default.createElement("div",{className:"sign-m-method-item-inner"},p.default.createElement("div",{className:"sign-m-method-item__desc",dangerouslySetInnerHTML:{__html:a.methods.preview.text}}),p.default.createElement("div",{className:"sign-m-method-item__control"},p.default.createElement("input",{type:"text",className:"form-input form-input-sm",maxLength:100,onChange:this.onChange,placeholder:a.methods.preview.placeholder,value:n.text||"",onFocus:this.onFocus,onBlur:this.onBlur,ref:this.setReference}),p.default.createElement("button",{className:s,disabled:!r,onClick:this.handleText},a.methods.preview.button))),p.default.createElement("div",{className:"sign-m-method-item-preview font-JellykaCuttyCupcakes"},p.default.createElement("span",{className:"sign-preview"},this.showValue(n.text)))),p.default.createElement("div",{"data-strip":"easy",className:i,onClick:t},p.default.createElement("div",{className:"sign-m-mobile-show"},p.default.createElement("div",{className:"sign-m-method-item__icon"},p.default.createElement("div",{className:"sign-m-svg-icon-type"})),p.default.createElement("div",{className:"sign-m-method-item-inner"},p.default.createElement("div",{className:"sign-m-method-item__title"},a.methods.preview.title),p.default.createElement("div",{className:"sign-m-method-item__desc",dangerouslySetInnerHTML:{__html:a.methods.preview.text}})))))}}]),t}(c.Component))||a)||a).propTypes=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerMethodItem=void 0;var a,o=T(n(192)),r=T(n(69)),i=T(n(58)),l=T(n(59)),s=T(n(70)),d=T(n(71)),u=T(n(357)),c=T(n(3)),p=n(1),h=T(p),f=T(n(12)),m=n(8),E=n(35),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),S=n(904),g=n(916),v=n(907);function T(e){return e&&e.__esModule?e:{default:e}}var O={item:c.default.object,deviceProps:c.default.object,locale:c.default.object,dropzoneConfig:c.default.object,smGallery:c.default.func,smTypeSignature:c.default.func,smQR:c.default.func,smSMS:c.default.func,smEmail:c.default.func,smDraw:c.default.func,smMobileUploader:c.default.func,smUploader:c.default.func,smCapture:c.default.func,smNotarize:c.default.func,openNotarizeModal:c.default.func,onLoadFilesSelect:c.default.func};(t.SignatureManagerMethodItem=(0,m.connect)(function(e){return(0,u.default)({},e.im.modeSignature,{locale:(0,v.getSignatureManagerLocale)(e),dropzoneConfig:e.im.dropzoneConfig,deviceProps:e.deviceProps})},{smGallery:_.smGallery,smQR:_.smQR,smSMS:_.smSMS,smEmail:_.smEmail,smDraw:_.smDraw,smUploader:_.smUploader,smMobileUploader:_.smMobileUploader,smTypeSignature:_.smTypeSignature,smCapture:_.smCapture,smNotarize:_.smNotarize,openNotarizeModal:E.openNotarizeModal})(a=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,l.default)(t,[{key:"strip",value:function(e){var t=this.props.item,n=(0,o.default)(t.strip),a=void 0;return a="className"===e?"string"===n||0:"string"===n?t.strip:"",a}},{key:"funcTypeDispatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props,n=t.item,a=t.deviceProps,o=t.smGallery,r=t.smTypeSignature,i=t.smQR,l=t.smSMS,s=t.smEmail,d=t.smDraw,u=t.smMobileUploader,c=t.smUploader,p=t.smCapture,h=t.smNotarize,f=t.onLoadFilesSelect;if(!n.disabled)switch(n.typeDispatch){case S.MODE_TYPES.SM_GALLERY:return o();case S.MODE_TYPES.SM_TYPE_SIGNATURE:return r();case S.MODE_TYPES.SM_QR:return i();case S.MODE_TYPES.SM_SMS:return l();case S.MODE_TYPES.SM_EMAIL:return s();case S.MODE_TYPES.SM_DRAW:return d();case S.MODE_TYPES.SM_UPLOADER:return(0,g.isTabletOrMobile)(a)?(f(e),u()):c();case S.MODE_TYPES.SM_CAPTURE:return p();case S.MODE_TYPES.SM_NOTARIZE:return this.props.openNotarizeModal(),h();default:return!1}}},{key:"render",value:function(){var e=this,t=this.props,n=t.locale,a=t.dropzoneConfig,o=t.item,r=t.deviceProps,i={title:n.methods.list[o.id].title,text:n.methods.list[o.id].text},l=!1;(o.disabled||o.typeDispatch===S.MODE_TYPES.SM_CAPTURE&&(0,g.isTabletOrMobile)(r))&&(l=!0);var s=(0,f.default)({"sign-m-method-item":!0,"sign-m-method-item--strip":this.strip("className"),disabled:l});if((0,g.isTabletOrMobile)(r)){if(o.typeDispatch===S.MODE_TYPES.SM_UPLOADER)return h.default.createElement("div",{"data-strip":this.strip(),className:s},h.default.createElement("label",{htmlFor:"crop_upload_file"},h.default.createElement("div",{className:"sign-m-method-item__icon"},h.default.createElement("div",{className:o.icon})),h.default.createElement("div",{className:"sign-m-method-item-inner"},h.default.createElement("div",{className:"sign-m-method-item__title"},n.methods.list.upload.titleMobile),h.default.createElement("div",{className:"sign-m-method-item__desc"},n.methods.list.upload.textMobile)),h.default.createElement("input",{value:"",id:"crop_upload_file",type:"file",hidden:"hidden",accept:a.allowedFileTypes,onChange:function(t){return e.funcTypeDispatch(t.target.files)}})));if(o.typeDispatch===S.MODE_TYPES.SM_DRAW)return h.default.createElement("div",{"data-strip":this.strip(),className:s,onClick:function(){return e.funcTypeDispatch()}},h.default.createElement("div",{className:"sign-m-method-item__icon"},h.default.createElement("div",{className:o.icon})),h.default.createElement("div",{className:"sign-m-method-item-inner"},h.default.createElement("div",{className:"sign-m-method-item__title"},n.methods.list.draw.titleMobile),h.default.createElement("div",{className:"sign-m-method-item__desc"},n.methods.list.draw.textMobile)));if(l)return null}return h.default.createElement("div",{"data-strip":this.strip(),className:s,onClick:function(){return e.funcTypeDispatch()}},h.default.createElement("div",{className:"sign-m-method-item__icon"},h.default.createElement("div",{className:o.icon})),h.default.createElement("div",{className:"sign-m-method-item-inner"},h.default.createElement("div",{className:"sign-m-method-item__title"},i.title),h.default.createElement("div",{className:"sign-m-method-item__desc"},i.text)))}}]),t}(p.Component))||a).propTypes=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerTypeSignature=void 0;var a,o=g(n(357)),r=g(n(69)),i=g(n(58)),l=g(n(59)),s=g(n(70)),d=g(n(71)),u=g(n(3)),c=n(1),p=g(c),h=n(8),f=g(n(931)),m=n(1227),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),_=n(904),S=n(907);function g(e){return e&&e.__esModule?e:{default:e}}var v=[{font:_.FONTS.JELLYCA,active:!0},{font:_.FONTS.SIGNATURE,active:!1}],T={smSaveSignature:u.default.func,locale:u.default.object,signature:u.default.object};(t.SignatureManagerTypeSignature=(0,h.connect)(function(e){return{signature:e.im.signature,locale:(0,S.getSignatureManagerLocale)(e).type}},{smSaveSignature:E.smSaveSignature})(a=(0,f.default)(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.onChange=function(e){var t=n.props.signature,a=e.target.value.replace(/[^a-zA-Z0-9!?@#$%^&*)(+=.,<>{}_\-[\]\/\\|;:'"`~ ]+$/gi,"");n.props.smSaveSignature((0,o.default)({},t,{text:a}))},n.onFocus=function(e){n.moveCaretAtEnd(e)},n.setReference=function(e){n.input=e},n.setActiveFont=function(e,t){return e.map(function(e){return e.font.original===t?(0,o.default)({},e,{active:!0}):(0,o.default)({},e,{active:!1})})},n.handleSetActiveElement=function(e){n.setState(function(t){return{fonts:n.setActiveFont(t.fonts,e)}})},n.state={fonts:n.setActiveFont(v,e.signature.fontFamily)},n.input=null,n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.input&&this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.signature,a=t.locale;return p.default.createElement("div",{className:"sign-m-body"},p.default.createElement("div",{className:"g-form-group"},p.default.createElement("input",{type:"text",onChange:this.onChange,onFocus:this.onFocus,placeholder:a.placeholder,className:"form-input",value:n.text,ref:this.setReference})),p.default.createElement("div",{className:"sign-m-type-title"},a.text),p.default.createElement("div",{className:"sign-m-type-list clfx"},this.state.fonts.map(function(t,o){return p.default.createElement(m.SignatureManagerTypeSignatureItem,{signature:n,placeholder:a.placeholder,smSaveSignature:e.props.smSaveSignature,font:t,setActiveElement:e.handleSetActiveElement,key:o})})))}}]),t}(c.Component))||a)||a).propTypes=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerTypeSignatureItem=void 0;var a=h(n(357)),o=h(n(69)),r=h(n(58)),i=h(n(59)),l=h(n(70)),s=h(n(71)),d=h(n(3)),u=n(1),c=h(u),p=n(904);function h(e){return e&&e.__esModule?e:{default:e}}var f={smSaveSignature:d.default.func,setActiveElement:d.default.func,font:d.default.object,signature:d.default.object,placeholder:d.default.string},m=p.FONTS.JELLYCA.original;(t.SignatureManagerTypeSignatureItem=function(e){function t(){var e,n,a,i;(0,r.default)(this,t);for(var s=arguments.length,d=Array(s),u=0;u<s;u++)d[u]=arguments[u];return n=a=(0,l.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),a.handleClick=function(e){e.stopPropagation();var t=a.props.font;a.setFont(),a.props.setActiveElement(t.font.original)},i=n,(0,l.default)(a,i)}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentWillMount",value:function(){this.props.font.font.original===m&&this.setFont()}},{key:"setFont",value:function(){var e=this.props,t=e.signature,n=e.font;this.props.smSaveSignature((0,a.default)({},t,{fontFamily:n.font.original}))}},{key:"render",value:function(){var e=this.props,t=e.signature,n=e.placeholder,a=e.font,o="sign-m-type-item "+a.font.custom+" "+(a.active?"active":"");return c.default.createElement("div",{className:o,onClick:this.handleClick},c.default.createElement("div",{className:"sign-m-type-item-inner"},c.default.createElement("div",{className:"sign-m-type-item__title"},t.text||n)))}}]),t}(u.Component)).propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterTypeSignature=void 0;var a,o=S(n(69)),r=S(n(58)),i=S(n(59)),l=S(n(70)),s=S(n(71)),d=S(n(3)),u=n(1),c=S(u),p=n(8),h=n(914),f=n(910),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),E=n(904),_=n(907);function S(e){return e&&e.__esModule?e:{default:e}}var g={smInitial:d.default.func,handleText:d.default.func,smGallery:d.default.func,locale:d.default.object,signature:d.default.object,modeSignature:d.default.object,fontFamily:d.default.string,handleSaveAndUse:d.default.func};(t.SignatureManagerFooterTypeSignature=(0,p.connect)(function(e){return{signature:e.im.signature,modeSignature:e.im.modeSignature,locale:(0,_.getSignatureManagerLocale)(e)}},{smInitial:m.smInitial,smGallery:m.smGallery})(a=function(e){function t(){var e,n,a,i;(0,r.default)(this,t);for(var s=arguments.length,d=Array(s),u=0;u<s;u++)d[u]=arguments[u];return n=a=(0,l.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),a.handleSaveButtonClick=function(){a.props.handleSaveAndUse(!1)},a.handleSaveAndUseButtonClick=function(){a.props.handleSaveAndUse(!0)},i=n,(0,l.default)(a,i)}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.signature,n=e.modeSignature,a=e.locale,o=!(t.text&&t.text.trim().length>0);return c.default.createElement("div",{className:"sign-m-footer"},c.default.createElement("div",{className:"sign-m-footer__left"},c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:n.type===E.MODE_TYPES.SM_TEXT_EDIT?this.props.smGallery:this.props.smInitial},a.backButton),c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-show-mobile",onClick:this.handleSaveButtonClick,disabled:o},a.type.saveButton)),c.default.createElement("div",{className:"sign-m-footer__right"},c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-mobile-hide",onClick:this.handleSaveButtonClick,disabled:o},a.type.saveButton),c.default.createElement(h.BtnPrimary,{addClass:"g-btn-sm",onClick:this.handleSaveAndUseButtonClick,disabled:o},a.type.saveAndUseButton)))}}]),t}(u.Component))||a).propTypes=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerGalleryList=void 0;var a,o=v(n(69)),r=v(n(58)),i=v(n(59)),l=v(n(70)),s=v(n(71)),d=v(n(3)),u=n(1),c=v(u),p=n(8),h=v(n(12)),f=n(1230),m=n(932),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),_=n(904),S=n(907),g=n(916);function v(e){return e&&e.__esModule?e:{default:e}}var T={flexGrow:1},O={list:d.default.array,restrictSubTypes:d.default.array,handleSelect:d.default.func,handleDelete:d.default.func,handleImageLoading:d.default.func,smGallery:d.default.func,mobileSignatureResend:d.default.func,locale:d.default.object,loadState:d.default.bool,showResend:d.default.bool,deviceProps:d.default.object};(t.SignatureManagerGalleryList=(0,p.connect)(function(e){return{list:e.ws.signatures,loadState:e.im.modeSignature.loadState,showResend:e.im.modeSignature.showResend,locale:(0,S.getSignatureManagerLocale)(e),deviceProps:e.deviceProps}},{smGallery:E.smGallery,mobileSignatureResend:E.mobileSignatureResend})(a=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"renderList",value:function(){var e=this,t=this.props,n=t.list,a=t.restrictSubTypes;return n.length&&a&&a.length?n.map(function(t,n){return-1!==a.indexOf(t.subType)||t.subType===_.SUB_TYPES.text&&-1!==a.indexOf(_.SUB_TYPES.initials)?c.default.createElement(f.SignatureManagerGalleryItem,{signature:t,key:n,handleSelect:e.props.handleSelect,handleDelete:e.props.handleDelete,handleImageLoading:e.props.handleImageLoading}):null}):n.length?n.map(function(t,n){return c.default.createElement(f.SignatureManagerGalleryItem,{signature:t,key:n,handleSelect:e.props.handleSelect,handleDelete:e.props.handleDelete,handleImageLoading:e.props.handleImageLoading})}):null}},{key:"getLoaderButtons",value:function(){var e=this.props,t=e.smGallery,n=e.showResend,a=e.locale,o=e.mobileSignatureResend,r=[{btnDispatch:function(){return t()},btnText:a.backButton}];return n&&r.push({btnDispatch:function(){return o()},btnText:a.uploading.resendButton}),r}},{key:"renderBody",value:function(){return c.default.createElement("div",{className:"sign-m-body sign-m-body--signatures-list sign-m-body--padding-0"},c.default.createElement("div",{className:"clrx"},c.default.createElement("div",{className:(0,h.default)("signature-type-list",{"signature-type-list--no-edit":(0,g.isTabletOrMobile)(this.props.deviceProps)})},this.renderList())))}},{key:"renderLoader",value:function(){var e=this.props.locale,t=this.getLoaderButtons();return c.default.createElement("div",{className:"loading-overlay"},c.default.createElement(m.Loader,{title:e.uploading.awaitingText,btns:t}))}},{key:"render",value:function(){return this.props.loadState?c.default.createElement("div",{style:T},this.renderLoader(),this.renderBody()):this.renderBody()}}]),t}(u.Component))||a).propTypes=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerGalleryItem=void 0;var a,o=T(n(359)),r=T(n(69)),i=T(n(58)),l=T(n(59)),s=T(n(70)),d=T(n(71)),u=T(n(3)),c=n(1),p=T(c),h=n(8),f=T(n(12)),m=n(1014),E=T(n(913)),_=n(912),S=n(949),g=n(904),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903));function T(e){return e&&e.__esModule?e:{default:e}}var O={initialCount:u.default.number,signature:u.default.object,handleSelect:u.default.func,handleDelete:u.default.func,handleImageLoading:u.default.func,setInitialImage:u.default.func,smSetInitialSignature:u.default.func,smDraw:u.default.func,smEdit:u.default.func};(t.SignatureManagerGalleryItem=(0,h.connect)(null,{setInitialImage:E.default.setInitialImage,smSetInitialSignature:v.smSetInitialSignature,smDraw:v.smDraw,smEdit:v.smEdit})(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.handleSelect=function(e){e.stopPropagation();var t=n.props.signature;n.props.handleSelect(t)},n.handleEdit=function(e){var t=n.props.signature;e.stopPropagation(),n.props.smSetInitialSignature(t),t.subType===g.SUB_TYPES.text&&n.props.smEdit(g.SUB_TYPES.text),t.subType===g.SUB_TYPES.curve&&n.props.smEdit(g.SUB_TYPES.curve),t.subType===g.SUB_TYPES.image&&(n.props.handleImageLoading(!0),(0,_.imageToBase64)(t.url,function(e){n.props.setInitialImage(e,t),n.props.handleImageLoading(!1),n.props.smEdit(g.SUB_TYPES.image)}))},n.handleDelete=function(e){e.stopPropagation();var t=n.props.signature;n.props.handleDelete(t)},n.storeItemSignatureRef=function(e){n.itemSignatureRef=e},n.state={width:e.initialCount,height:e.initialCount},n.sizeCanvas=n.sizeCanvas.bind(n),n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.sizeCanvas()}},{key:"sizeCanvas",value:function(){this.setState({width:this.itemSignatureRef.offsetWidth,height:this.itemSignatureRef.offsetHeight})}},{key:"renderCurves",value:function(e){var t=this.state,n=t.width,a=t.height;return n>0&&a>0?p.default.createElement(m.SignatureDrawComponent,{width:n,height:a,curves:e.curves,key:e.id}):null}},{key:"renderItemType",value:function(e){var t={fontSize:e.fontSize+"px"};switch(e.subType){case g.SUB_TYPES.text:return p.default.createElement("div",{className:this.getClassNameTitle(),style:t,key:e.id},e.text);case g.SUB_TYPES.curve:return this.renderCurves(e);case g.SUB_TYPES.image:return p.default.createElement(S.ImageItem,{src:e.url,key:e.id});case g.SUB_TYPES.initials:return p.default.createElement("div",{className:this.getClassNameTitle(),style:t,key:e.id},e.text);default:return null}}},{key:"getClassNameTitle",value:function(){var e="";switch(this.props.signature.fontFamily){case g.FONTS.JELLYCA.original:e=g.FONTS.JELLYCA.custom;break;case g.FONTS.PETRA.original:e=g.FONTS.PETRA.custom;break;case g.FONTS.SIGNATURE.original:e=g.FONTS.SIGNATURE.custom;break;default:e=""}return(0,f.default)((0,o.default)({"signature-type-list-item__title":!0},e,!0))}},{key:"render",value:function(){var e=this.props.signature,t=void 0;t=e.type===g.SUB_TYPES.initials?"signature-type-list-item--initials":"signature-type-list-item--signatures";var n=(0,f.default)((0,o.default)({"signature-type-list-item":!0},t,!0));return p.default.createElement("div",{key:e.id,className:n,onClick:this.handleSelect},p.default.createElement("div",{className:"signature-type-item",ref:this.storeItemSignatureRef},this.renderItemType(e)),p.default.createElement("div",{className:"signature-type-list-item__btn signature-type-list-item__btn--edit",onClick:this.handleEdit},p.default.createElement("div",{className:"signature-type-list-item-icon sign-m-svg-icon-pen-edit"})),p.default.createElement("div",{className:"signature-type-list-item__btn signature-type-list-item__btn--delete",onClick:this.handleDelete},p.default.createElement("div",{className:"signature-type-list-item-icon sign-m-svg-icon-trash-white"})))}}]),t}(c.Component))||a).propTypes=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureDrawElement=t.HISTORY_LENGTH_LIMIT=t.DEFAULT_SMOOTHING=t.DEFAULT_LINE_WIDTH=t.DEFAULT_COLOR=void 0;var a=c(n(357)),o=c(n(292)),r=c(n(192)),i=c(n(58)),l=c(n(59)),s=c(n(358)),d=c(n(1232)),u=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var p=t.DEFAULT_COLOR="000000",h=t.DEFAULT_LINE_WIDTH=1,f=t.DEFAULT_SMOOTHING=!1,m=t.HISTORY_LENGTH_LIMIT=50,E=function(e){var t=e.length-2,n=[],a=0;n.push(e[0]),n.push(e[1]);for(var o=2;o<t;o+=2)(Math.abs(n[a]-e[o])>=9||Math.abs(n[a+1]-e[o+1])>=9)&&(n.push(e[o]),n.push(e[o+1]),a+=2);if(2===n.length){var r=2*Math.floor(e.length/4);n.push(e[r]),n.push(e[r+1])}return n.push(e[t]),n.push(e[t+1]),n},_=function(e){var t,n=(t=function(e){for(var t={x:[],y:[]},n=0;n<e.length;n+=1){var a=e[n];n%2==0?t.x.push(a):t.y.push(a)}return t}(e),{min:{x:Math.min.apply(Math,(0,s.default)(t.x)),y:Math.min.apply(Math,(0,s.default)(t.y))},max:{x:Math.max.apply(Math,(0,s.default)(t.x)),y:Math.max.apply(Math,(0,s.default)(t.y))}}),a=n.min,o=n.max;return{width:o.x>a.x?o.x-a.x:1,height:o.y>a.y?o.y-a.y:1}};t.SignatureDrawElement=function(){function e(){(0,i.default)(this,e),this.canvas=null,this.curves=[],this.currentCurve={},this.color=p,this.lineWidth=h,this.smoothing=f,this.undoRedoCallback=null,this.isMobile=!1,this.history=[],this.currentHistoryPoint=-1,this.scale=1,this.historyLengthLimit=m}return(0,l.default)(e,[{key:"init",value:function(e,t,n,a,i,l,s){var c=this;if(this.canvas=document.createElement("canvas"),this.canvas.width=e,this.canvas.height=t,this.curves=void 0!==n?(0,d.default)(n):[],this.undoRedoCallback=void 0!==a?a:null,"object"===(void 0===s?"undefined":(0,r.default)(s))&&(0,o.default)(s).forEach(function(e){c.canvas.style[e]=s[e]}),i?(this.isMobile=new RegExp("Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile","i").test(navigator.userAgent),this.isSurface=!this.isMobile&&(0,u.default)(window,"navigator.maxTouchPoints",0)>1,this.mouseDownHandler=this.mouseDown.bind(this),this.isMobile?this.canvas.addEventListener("touchstart",this.mouseDownHandler):this.isSurface?this.canvas.addEventListener("pointerdown",this.mouseDownHandler):this.canvas.addEventListener("mousedown",this.mouseDownHandler)):this.checkScale(),this.curves.length>0){var p=this.curves[this.curves.length-1];this.color=p.color,this.lineWidth=p.lineWidth,this.smoothing=p.smoothing,this.redraw()}else l&&(this.drawConfig=l,this.color=l.color,this.lineWidth=l.lineWidth);return this.canvas.getContext("2d").strokeStyle="#"===this.color.charAt(0)?this.color:"#"+this.color,null!=this.undoRedoCallback&&this.undoRedoCallback(this.getCurvesAndBase64()),this.canvas}},{key:"update",value:function(e,t,n){return this.canvas.width=e,this.canvas.height=t,n||this.checkScale(!0),this.canvas.getContext("2d").strokeStyle="#"===this.color.charAt(0)?this.color:"#"+this.color,this.redraw(),this.canvas}},{key:"setCurvesColor",value:function(e){this.curves=this.curves.map(function(t){return(0,a.default)({},t,{color:e})})}},{key:"setColor",value:function(e){if(this.color!==e){var t=this.color;this.updateColor(e),this.addHistoryPoint({type:"color",old:t,new:e}),this.redraw(),this.setCurvesColor(e)}}},{key:"updateColor",value:function(e){this.drawConfig=(0,a.default)({},this.drawConfig,{color:e}),this.color=e,this.setCurvesColor(e)}},{key:"getDrawConfig",value:function(){return this.drawConfig}},{key:"getColor",value:function(){return this.color}},{key:"setCurvesLineWidth",value:function(e){this.curves=this.curves.map(function(t){return(0,a.default)({},t,{lineWidth:e})})}},{key:"setLineWidth",value:function(e){if(this.lineWidth!==e){var t=this.lineWidth;this.updateLineWidth(e),this.addHistoryPoint({type:"lineWidth",old:t,new:e}),this.redraw(),this.setCurvesLineWidth(e)}}},{key:"updateLineWidth",value:function(e){this.drawConfig=(0,a.default)({},this.drawConfig,{lineWidth:e}),this.lineWidth=e,this.setCurvesLineWidth(e)}},{key:"getLineWidth",value:function(){return this.lineWidth}},{key:"setSmoothing",value:function(e){this.smoothing!==e&&(this.addHistoryPoint({type:"smoothing",old:this.lineWidth,new:e}),this.smoothing=e,this.redraw())}},{key:"getSmoothing",value:function(){return this.smoothing}},{key:"mergeCurves",value:function(){var e=void 0,t=[],n=this.curves;if(n)for(var a=0,o=n.length;a<o;a++)e=n[a],t=t.concat(e.controlPoints);return t}},{key:"getSignatureCurveWidthHeight",value:function(){var e={curves:this.curves},t=this.mergeCurves(),n=_(t);return e.width=n.width,e.height=n.height,e}},{key:"getCurves",value:function(){return this.getSignatureCurveWidthHeight()}},{key:"getCurvesAndBase64",value:function(){var e=this.getCurves();return(0,a.default)({},e,{base64:this.canvas.toDataURL()})}},{key:"clear",value:function(){this.addHistoryPoint({type:"curves",old:this.curves.concat(),new:[]}),this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.curves=[]}},{key:"undo",value:function(){if(this.canUndo()){var e=this.history[this.currentHistoryPoint];switch(e.type){case"color":this.updateColor(e.old);break;case"lineWidth":this.updateLineWidth(e.old);break;case"smoothing":this.smoothing=e.old;break;case"curves":this.curves=e.old.concat()}this.redraw(),this.currentHistoryPoint-=1,null!=this.undoRedoCallback&&this.undoRedoCallback(this.getCurvesAndBase64())}}},{key:"redo",value:function(){if(this.canRedo()){this.currentHistoryPoint+=1;var e=this.history[this.currentHistoryPoint];switch(e.type){case"color":this.updateColor(e.new);break;case"lineWidth":this.updateLineWidth(e.new);break;case"smoothing":this.smoothing=e.new;break;case"curves":this.curves=e.new}this.redraw(),null!=this.undoRedoCallback&&this.undoRedoCallback(this.getCurvesAndBase64())}}},{key:"canUndo",value:function(){return this.checkRange(),this.currentHistoryPoint>=0}},{key:"canRedo",value:function(){return this.checkRange(),this.currentHistoryPoint<this.history.length-1}},{key:"destroy",value:function(){this.mouseMoveHandler&&(this.canvas.removeEventListener("mousemove",this.mouseMoveHandler),this.canvas.removeEventListener("pointermove",this.mouseMoveHandler)),this.mouseUpHandler&&(this.canvas.removeEventListener("mouseup",this.mouseUpHandler),this.canvas.removeEventListener("pointerup",this.mouseUpHandler)),this.mouseDownHandler&&(this.canvas.removeEventListener("mousedown",this.mouseDownHandler),this.canvas.removeEventListener("pointerdown",this.mouseDownHandler)),this.mouseLeaveHandler&&(this.canvas.removeEventListener("mouseleave",this.mouseLeaveHandler),this.canvas.removeEventListener("pointerleave",this.mouseLeaveHandler))}},{key:"mouseDown",value:function(){this.currentCurve={lineWidth:this.lineWidth,smoothing:this.smoothing,color:this.color,controlPoints:[]},this.mouseMoveHandler=this.mouseMove.bind(this),this.mouseUpHandler=this.mouseUp.bind(this),this.mouseLeaveHandler=this.mouseLeave.bind(this),this.isMobile?(this.canvas.addEventListener("touchmove",this.mouseMoveHandler),this.canvas.addEventListener("touchend",this.mouseUpHandler),this.canvas.addEventListener("touchleave",this.mouseLeaveHandler)):this.isSurface?(document.addEventListener("pointermove",this.mouseMoveHandler),document.addEventListener("pointerup",this.mouseUpHandler),document.addEventListener("pointerleave",this.mouseLeaveHandler)):(document.addEventListener("mousemove",this.mouseMoveHandler),document.addEventListener("mouseup",this.mouseUpHandler),document.addEventListener("mouseleave",this.mouseLeaveHandler))}},{key:"mouseMove",value:function(e){e.preventDefault();var t=this.getMousePos(e);if(this.currentCurve.controlPoints){this.currentCurve.controlPoints.push(Math.round(t.x)),this.currentCurve.controlPoints.push(Math.round(t.y));var n=this.canvas.getContext("2d");4===this.currentCurve.controlPoints.length&&(n.lineWidth=this.currentCurve.lineWidth,n.strokeStyle=this.currentCurve.color,n.beginPath(),n.moveTo(this.currentCurve.controlPoints[0],this.currentCurve.controlPoints[1])),this.currentCurve.controlPoints.length>=4&&(n.lineTo(this.currentCurve.controlPoints[this.currentCurve.controlPoints.length-2],this.currentCurve.controlPoints[this.currentCurve.controlPoints.length-1]),n.stroke()),"pointermove"===e.type&&0===e.pressure&&this.mouseLeave()}}},{key:"mouseLeave",value:function(e){this.mouseUp(e)}},{key:"mouseUp",value:function(){if(document.removeEventListener("touchmove",this.mouseMoveHandler),document.removeEventListener("touchend",this.mouseUpHandler),document.removeEventListener("touchleave",this.mouseLeaveHandler),document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseup",this.mouseUpHandler),document.removeEventListener("mouseleave",this.mouseLeaveHandler),document.removeEventListener("pointermove",this.mouseMoveHandler),document.removeEventListener("pointerup",this.mouseUpHandler),document.removeEventListener("pointerleave",this.mouseLeaveHandler),this.mouseMoveHandler=null,this.mouseUpHandler=null,this.mouseLeaveHandler=null,this.currentCurve.controlPoints&&this.currentCurve.controlPoints.length>=4){var e=this.curves.concat();this.curves.push(this.currentCurve),this.redraw(),this.addHistoryPoint({type:"curves",old:e,new:this.curves.concat()})}this.currentCurve={}}},{key:"checkScale",value:function(e){if(this.curves.length>0&&this.curves[0].controlPoints.length>0){for(var t=this.curves[0].controlPoints[0],n=this.curves[0].controlPoints[1],a=t,o=n,r=this.curves.length,i=0;i<r;i++){var l=this.curves[i].controlPoints,s=l.length;if(s%2==0)for(var d=0;d<s;d+=2)t=Math.max(t,l[d]),n=Math.max(n,l[d+1]),a=Math.min(a,l[d]),o=Math.min(o,l[d+1])}var u=this.canvas.width-6,c=this.canvas.height-6,p=t-a,h=n-o;(p>u||h>c)&&(this.scale=Math.min(u/p,c/h)),e&&(this.scale=Math.min(this.canvas.width/p,this.canvas.height/h));for(var f=(t+a)/2,m=(n+o)/2,E=0;E<r;E++){var _=this.curves[E].controlPoints,S=_.length;if(S%2==0)for(var g=0;g<S;g+=2)_[g]=(_[g]-f)*this.scale+this.canvas.width/2,_[g+1]=(_[g+1]-m)*this.scale+this.canvas.height/2}}}},{key:"getMousePos",value:function(e){var t=this.canvas.getBoundingClientRect(),n=e;return e.type.indexOf("touch")>=0&&(n=e.changedTouches[0]),{x:n.clientX-t.left,y:n.clientY-t.top}}},{key:"redraw",value:function(){var e=this.canvas.getContext("2d");e.clearRect(0,0,this.canvas.width,this.canvas.height),e.lineWidth=this.lineWidth,e.strokeStyle="#"===this.color.charAt(0)?this.color:"#"+this.color,e.beginPath(),e.lineJoin="round",e.lineCap="round";for(var t=this.curves.length,n=0;n<t;n++){var a=this.curves[n].controlPoints,o=a.length;if(4===o&&a.push(a[2],a[3]),o%2==0)if(this.smoothing){var r=E(a);o=r.length,e.moveTo(r[0],r[1]);for(var i=2;;){if(!(i+3<o))break;e.quadraticCurveTo(r[i],r[i+1],r[i+2],r[i+3]),i+=4}for(;i<o-1;)e.lineTo(r[i],r[i+1]),i+=1}else{e.moveTo(a[0],a[1]);for(var l=2;l<o;l+=2)e.lineTo(a[l],a[l+1])}}e.stroke()}},{key:"addHistoryPoint",value:function(e){this.currentHistoryPoint<this.history.length-1&&(this.history.length=this.currentHistoryPoint+1),this.history.push(e),this.currentHistoryPoint=this.history.length-1,this.trimHistory(),null!=this.undoRedoCallback&&this.undoRedoCallback(this.getCurvesAndBase64())}},{key:"checkRange",value:function(){this.currentHistoryPoint>=this.history.length&&(this.currentHistoryPoint=this.history.length-1),this.currentHistoryPoint<-1&&(this.currentHistoryPoint=-1)}},{key:"trimHistory",value:function(){for(;this.history.length>this.historyLengthLimit;)this.history.shift();this.checkRange()}}]),e}()},function(e,t,n){(function(t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,a,o;try{n=Map}catch(e){n=function(){}}try{a=Set}catch(e){a=function(){}}try{o=Promise}catch(e){o=function(){}}function r(i,s,d,u,c){"object"==typeof s&&(d=s.depth,u=s.prototype,c=s.includeNonEnumerable,s=s.circular);var p=[],h=[],f=void 0!==t;return void 0===s&&(s=!0),void 0===d&&(d=1/0),function i(d,m){if(null===d)return null;if(0===m)return d;var E,_;if("object"!=typeof d)return d;if(e(d,n))E=new n;else if(e(d,a))E=new a;else if(e(d,o))E=new o(function(e,t){d.then(function(t){e(i(t,m-1))},function(e){t(i(e,m-1))})});else if(r.__isArray(d))E=[];else if(r.__isRegExp(d))E=new RegExp(d.source,l(d)),d.lastIndex&&(E.lastIndex=d.lastIndex);else if(r.__isDate(d))E=new Date(d.getTime());else{if(f&&t.isBuffer(d))return E=t.allocUnsafe?t.allocUnsafe(d.length):new t(d.length),d.copy(E),E;e(d,Error)?E=Object.create(d):void 0===u?(_=Object.getPrototypeOf(d),E=Object.create(_)):(E=Object.create(u),_=u)}if(s){var S=p.indexOf(d);if(-1!=S)return h[S];p.push(d),h.push(E)}for(var g in e(d,n)&&d.forEach(function(e,t){var n=i(t,m-1),a=i(e,m-1);E.set(n,a)}),e(d,a)&&d.forEach(function(e){var t=i(e,m-1);E.add(t)}),d){var v;_&&(v=Object.getOwnPropertyDescriptor(_,g)),v&&null==v.set||(E[g]=i(d[g],m-1))}if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(d);for(g=0;g<T.length;g++){var O=T[g];(!(y=Object.getOwnPropertyDescriptor(d,O))||y.enumerable||c)&&(E[O]=i(d[O],m-1),y.enumerable||Object.defineProperty(E,O,{enumerable:!1}))}}if(c){var C=Object.getOwnPropertyNames(d);for(g=0;g<C.length;g++){var y,D=C[g];(y=Object.getOwnPropertyDescriptor(d,D))&&y.enumerable||(E[D]=i(d[D],m-1),Object.defineProperty(E,D,{enumerable:!1}))}}return E}(i,d)}function i(e){return Object.prototype.toString.call(e)}function l(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=i,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},r.__getRegExpFlags=l,r}();e.exports&&(e.exports=n)}).call(this,n(517).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterGallery=void 0;var a,o,r,i=v(n(69)),l=v(n(58)),s=v(n(59)),d=v(n(70)),u=v(n(71)),c=v(n(357)),p=v(n(3)),h=n(1),f=v(h),m=n(8),E=n(1234),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),S=n(916),g=n(907);function v(e){return e&&e.__esModule?e:{default:e}}var T={smInitial:p.default.func,locale:p.default.object};(t.SignatureManagerFooterGallery=(0,m.connect)(function(e){return(0,c.default)({},e.im.modeSignature,{locale:(0,g.getSignatureManagerLocale)(e)})},{smInitial:_.smInitial})((r=o=function(e){function t(){var e,n,a,o;(0,l.default)(this,t);for(var r=arguments.length,s=Array(r),u=0;u<r;u++)s[u]=arguments[u];return n=a=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),a.setReference=function(e){a.button=e},o=n,(0,d.default)(a,o)}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,S.isIeOrEdge)()&&this.button&&this.button.focus()}},{key:"render",value:function(){var e=this.props.locale;return this.context.useSignNowTheme?f.default.createElement("div",{className:"sign-m-footer sign-m-footer--separation"},f.default.createElement("div",{className:"sign-m-footer--separator-wrapper"},f.default.createElement("div",{className:"sign-m-footer--separator-text"},e.poweredBy),f.default.createElement("div",{className:"sign-m-footer--separator-line"})),f.default.createElement("div",{className:"sign-m-footer__content"},f.default.createElement("div",{className:"sign-m-footer__info"},f.default.createElement("div",{className:"sign-m-svg-icon-logo-signnow"}),f.default.createElement("div",{className:"sign-m-footer__text"},e.footerText)),f.default.createElement("div",{className:"sign-m-footer__btn"},f.default.createElement("button",{className:"g-btn g-btn-primary g-btn-lm g-btn-auto-width",type:"button",onClick:this.props.smInitial,ref:this.setReference},e.gallery.mainButton)))):f.default.createElement("div",{className:"sign-m-footer sign-m-footer--separation"},f.default.createElement("div",{className:"sign-m-footer__left"}),f.default.createElement("div",{className:"sign-m-footer__right"},f.default.createElement(E.BtnIcon,{addClass:"g-btn-sm g-btn-primary",iconClass:"i-sign",onClick:this.props.smInitial},e.gallery.mainButton)),f.default.createElement("button",{type:"button",ref:this.setReference,style:{opacity:0,cursor:"initial",pointerEvents:"none"}}))}}]),t}(h.Component),o.contextTypes={useSignNowTheme:p.default.bool},a=r))||a).propTypes=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtnIcon=void 0;var a=h(n(359)),o=h(n(69)),r=h(n(58)),i=h(n(59)),l=h(n(70)),s=h(n(71)),d=h(n(3)),u=n(1),c=h(u),p=h(n(12));function h(e){return e&&e.__esModule?e:{default:e}}var f={iconClass:d.default.string,addClass:d.default.string,children:d.default.string,onClick:d.default.func};(t.BtnIcon=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.iconClass,o=e.addClass,r=void 0===o?"":o,i=e.children,l=(0,p.default)((0,a.default)({i:!0},n,!0));return c.default.createElement("button",{type:"button",className:"g-btn g-btn-auto-width "+r,onClick:t},c.default.createElement("i",{className:l}),i)}}]),t}(u.Component)).propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerQR=void 0;var a,o=_(n(69)),r=_(n(58)),i=_(n(59)),l=_(n(70)),s=_(n(71)),d=_(n(3)),u=n(1),c=_(u),p=n(8),h=n(949),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),m=n(904),E=n(907);function _(e){return e&&e.__esModule?e:{default:e}}var S={setMobileSignatureMethod:d.default.func,getQrUrl:d.default.func,locale:d.default.object,qrUrl:d.default.string};(t.SignatureManagerQR=(0,p.connect)(function(e){return{qrUrl:e.im.qrUrl,locale:(0,E.getSignatureManagerLocale)(e).qr}},{setMobileSignatureMethod:f.setMobileSignatureMethod,getQrUrl:f.getQrUrl})(a=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setMobileSignatureMethod,n=e.getQrUrl;t(m.MODE_TYPES.SM_QR),n()}},{key:"renderList",value:function(){return this.props.locale.list.map(function(e){return c.default.createElement("li",{key:e.id},c.default.createElement("span",null,e.text))})}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.qrUrl;return c.default.createElement("div",{className:"sign-m-body"},c.default.createElement("p",{className:"sign-m-body-text"},t.text),c.default.createElement("div",{className:"sign-m-container"},c.default.createElement("div",{className:"sign-m-container-inner"},c.default.createElement("div",{className:"sign-m-container__cell sign-m-container__cell--img",style:{position:"relative"}},c.default.createElement(h.ImageItem,{src:n})),c.default.createElement("div",{className:"sign-m-container__cell"},c.default.createElement("div",{className:"sign-m-title-red text-red-upper"},t.listTitle),c.default.createElement("ol",{className:"sign-m__list-number"},this.renderList())))))}}]),t}(u.Component))||a).propTypes=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerSMS=void 0;var a,o=g(n(69)),r=g(n(58)),i=g(n(59)),l=g(n(70)),s=g(n(71)),d=g(n(357)),u=g(n(3)),c=n(1),p=g(c),h=n(8),f=n(1015),m=n(907),E=n(904),_=n(914),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903));function g(e){return e&&e.__esModule?e:{default:e}}var v={setMobileSignatureMethod:u.default.func,savePhoneNumber:u.default.func,sendPhoneNumber:u.default.func,smMobileSignLoading:u.default.func,openAddressBook:u.default.func,locale:u.default.object,phoneNumber:u.default.string};(t.SignatureManagerSMS=(0,h.connect)(function(e){return(0,d.default)({},e.im.modeSignature,{locale:(0,m.getSignatureManagerLocale)(e).sms,phoneNumber:e.im.phoneNumber})},{smMobileSignLoading:S.smMobileSignLoading,sendPhoneNumber:S.sendPhoneNumber,setMobileSignatureMethod:S.setMobileSignatureMethod,savePhoneNumber:S.savePhoneNumber})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={enableSendButton:!1},n.send=n.send.bind(n),n.savePhoneNumber=n.savePhoneNumber.bind(n),n.checkIfInputIsValid=n.checkIfInputIsValid.bind(n),n.setReference=n.setReference.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.setMobileSignatureMethod)(E.MODE_TYPES.SM_SMS)}},{key:"savePhoneNumber",value:function(e){var t=this.props.savePhoneNumber;t(e.target.value.trim())}},{key:"send",value:function(){var e=this.props,t=e.sendPhoneNumber;(0,e.smMobileSignLoading)(),t()}},{key:"checkIfInputIsValid",value:function(e){var t=this,n=this.props.phoneNumber;setTimeout(function(){t.setState({enableSendButton:n&&n.trim().length&&e})},0)}},{key:"setReference",value:function(e){this.input=e}},{key:"renderList",value:function(){return this.props.locale.list.map(function(e){return p.default.createElement("li",{key:e.id},p.default.createElement("span",null,e.text))})}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.phoneNumber,a=e.openAddressBook,o=this.state.enableSendButton;return p.default.createElement("div",{className:"sign-m-body"},p.default.createElement("p",{className:"sign-m-body-text"},t.text),p.default.createElement("div",{className:"sign-m-container"},p.default.createElement("div",{className:"sign-m__input-block"},p.default.createElement(f.Input,{type:"text",placeholder:t.placeholder,value:n,onChange:this.savePhoneNumber,validations:[{rule:"isPhone"}],handleIsValid:this.checkIfInputIsValid,handleAddressBookButtonClick:a,ref:this.setReference,validate:!0,autoFocus:!0}),p.default.createElement(_.BtnPrimary,{disabled:!o,onClick:this.send},t.sendButton)),p.default.createElement("div",{className:"sign-m-container-inner"},p.default.createElement("div",{className:"sign-m-container__cell sign-m-container__cell--img"},p.default.createElement("img",{src:E.IMAGES.SM_SMS,alt:""})),p.default.createElement("div",{className:"sign-m-container__cell"},p.default.createElement("div",{className:"sign-m-title-red text-red-upper"},t.listTitle),p.default.createElement("ol",{className:"sign-m__list-number"},this.renderList(t))))))}}]),t}(c.Component))||a).propTypes=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerEmail=void 0;var a,o=g(n(69)),r=g(n(58)),i=g(n(59)),l=g(n(70)),s=g(n(71)),d=g(n(357)),u=g(n(3)),c=n(1),p=g(c),h=n(8),f=n(1015),m=n(907),E=n(904),_=n(914),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903));function g(e){return e&&e.__esModule?e:{default:e}}var v={saveEmail:u.default.func,setMobileSignatureMethod:u.default.func,smMobileSignLoading:u.default.func,sendEmail:u.default.func,openAddressBook:u.default.func,locale:u.default.object,email:u.default.string};(t.SignatureManagerEmail=(0,h.connect)(function(e){return(0,d.default)({},e.im.modeSignature,{locale:(0,m.getSignatureManagerLocale)(e).email,email:e.im.email})},{smMobileSignLoading:S.smMobileSignLoading,sendEmail:S.sendEmail,setMobileSignatureMethod:S.setMobileSignatureMethod,saveEmail:S.saveEmail})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={enableSendButton:!1},n.send=n.send.bind(n),n.saveEmail=n.saveEmail.bind(n),n.checkIfInputIsValid=n.checkIfInputIsValid.bind(n),n.setReference=n.setReference.bind(n),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.setMobileSignatureMethod)(E.MODE_TYPES.SM_EMAIL)}},{key:"saveEmail",value:function(e){var t=this.props.saveEmail;t(e.target.value.trim())}},{key:"send",value:function(){var e=this.props,t=e.smMobileSignLoading,n=e.sendEmail;t(),n()}},{key:"checkIfInputIsValid",value:function(e){var t=this,n=this.props.email;setTimeout(function(){t.setState({enableSendButton:n&&n.trim().length>0&&e})},0)}},{key:"setReference",value:function(e){this.input=e}},{key:"renderList",value:function(){return this.props.locale.list.map(function(e){return p.default.createElement("li",{key:e.id},p.default.createElement("span",null,e.text))})}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.email,a=e.openAddressBook,o=this.state.enableSendButton;return p.default.createElement("div",{className:"sign-m-body"},p.default.createElement("p",{className:"sign-m-body-text"},t.text),p.default.createElement("div",{className:"sign-m-container"},p.default.createElement("div",{className:"sign-m__input-block"},p.default.createElement(f.Input,{type:"text",placeholder:t.placeholder,value:n,onChange:this.saveEmail,validations:[{rule:"isEmail"}],handleIsValid:this.checkIfInputIsValid,handleAddressBookButtonClick:a,ref:this.setReference,validate:!0,autoFocus:!0}),p.default.createElement(_.BtnPrimary,{disabled:!o,onClick:this.send},t.sendButton)),p.default.createElement("div",{className:"sign-m-container-inner"},p.default.createElement("div",{className:"sign-m-container__cell sign-m-container__cell--img"},p.default.createElement("img",{src:E.IMAGES.SM_EMAIL,alt:""})),p.default.createElement("div",{className:"sign-m-container__cell"},p.default.createElement("div",{className:"sign-m-title-red text-red-upper"},t.listTitle),p.default.createElement("ol",{className:"sign-m__list-number"},this.renderList())))))}}]),t}(c.Component))||a).propTypes=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=m(n(69)),i=m(n(58)),l=m(n(59)),s=m(n(70)),d=m(n(71)),u=m(n(3)),c=n(1),p=m(c),h=m(n(1239)),f=m(n(1240));function m(e){return e&&e.__esModule?e:{default:e}}var E=(o=a=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,l.default)(t,[{key:"componentWillMount",value:function(){(0,this.props.handlePreviewOptionSelection)(1)}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.originalImage,a=e.editedImage,o=e.selectedOption,r=e.handlePreviewOptionSelection;return p.default.createElement("div",{className:"sign-m-upload-doc-area-wrap"},p.default.createElement("div",{className:"sign-m-upload-doc-area sign-m-upload-doc-area--align-top"},p.default.createElement("div",{className:"sign-m-upload-doc-area__title"},t.title),p.default.createElement("div",{className:"sign-m-upload-doc-container"},p.default.createElement("div",{className:"sign-m-upload-doc-container__body"},p.default.createElement("div",{className:"sign-m-upload-doc-container__cell"},p.default.createElement("div",{"data-label-text":t.originalImageLabel,className:"sign-m-upload-example"},p.default.createElement("div",{className:"sign-m-upload-doc__img"},p.default.createElement(h.default,{src:n})))),p.default.createElement("div",{className:"sign-m-upload-doc-container__cell"},p.default.createElement("div",{"data-label-text":t.editedImageLabel,className:"sign-m-upload-example"},p.default.createElement("div",{className:"sign-m-upload-doc__img"},p.default.createElement(h.default,{src:a})))))),p.default.createElement("div",{className:"sign-m-upload-doc-area__radio-block"},p.default.createElement(f.default,{isSelected:1===o,text:t.list.saveAndUse,onClick:function(){return r(1)}}),p.default.createElement(f.default,{isSelected:2===o,text:t.list.needClean,onClick:function(){return r(2)}}),p.default.createElement(f.default,{isSelected:3===o,text:t.list.cleanManually,onClick:function(){return r(3)}}))))}}]),t}(c.Component),a.propTypes={locale:u.default.object.isRequired,handlePreviewOptionSelection:u.default.func.isRequired,selectedOption:u.default.number.isRequired,originalImage:u.default.string,editedImage:u.default.string},o);t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(69)),o=h(n(58)),r=h(n(59)),i=h(n(70)),l=h(n(71)),s=h(n(3)),d=n(1),u=h(d),c=n(912),p=h(n(1009));function h(e){return e&&e.__esModule?e:{default:e}}var f=200,m=266,E={src:s.default.string},_=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.state={image:null},e}return(0,l.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.src;if(t){var n={dataUri:t,width:m,height:f};(0,c.resizeToFit)(n).then(function(e){return(0,c.base64ToImage)(e.resizedImage)}).then(function(t){return e.setState({image:t})})}}},{key:"render",value:function(){var e=this.state.image,t={width:m+"px",height:f+"px",display:"flex",margin:"auto",justifyContent:"center",alignItems:"center"};return u.default.createElement("div",{style:t},u.default.createElement(p.default,{image:e}))}}]),t}(d.Component);t.default=_,_.propTypes=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(3)),o=i(n(1)),r=i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.isSelected,n=e.text,a=e.onClick,i=(0,r.default)("radioWrap radio-label-right radio-label--inline-block",{checked:t});return o.default.createElement("div",{className:i,onClick:a},o.default.createElement("div",{className:"radio"}),o.default.createElement("span",{className:"radio-label"},n))};l.propTypes={isSelected:a.default.bool.isRequired,text:a.default.string.isRequired,onClick:a.default.func.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(69)),o=p(n(58)),r=p(n(59)),i=p(n(70)),l=p(n(71)),s=p(n(3)),d=n(1),u=p(d),c=n(910);function p(e){return e&&e.__esModule?e:{default:e}}var h={onButtonClick:s.default.func,backButtonText:s.default.string},f=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onButtonClick,n=e.backButtonText;return u.default.createElement("div",{className:"sign-m-footer sign-m-mobile-hide"},u.default.createElement("div",{className:"sign-m-footer__left"},u.default.createElement(c.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t},n)))}}]),t}(d.Component);t.default=f,f.propTypes=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerDraw=void 0;var a,o=C(n(357)),r=C(n(192)),i=C(n(69)),l=C(n(58)),s=C(n(70)),d=C(n(59)),u=C(n(71)),c=C(n(3)),p=n(1),h=C(p),f=n(8),m=n(1014),E=C(n(1243)),_=n(907),S=n(1244),g=n(1016),v=n(1017),T=n(1245),O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903));function C(e){return e&&e.__esModule?e:{default:e}}var y={handleSaveAndUse:c.default.func,smSaveSignature:c.default.func,smInitial:c.default.func,smGallery:c.default.func,drawConfig:c.default.object,signature:c.default.object,locale:c.default.object,signatureMode:c.default.string};(t.SignatureManagerDraw=(0,f.connect)(function(e){return{drawConfig:e.im.drawConfig,locale:(0,_.getSignatureManagerLocale)(e),signature:e.im.signature}},{smSaveSignature:O.smSaveSignature})(a=function(e){function t(e){(0,l.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.resizeCanvas=function(e){var t="object"===(void 0===e?"undefined":(0,r.default)(e))?300:0,a=n.state,o=a.width,i=a.height,l=n.drawWrapper,s=l.offsetWidth,d=l.offsetHeight;!n.draw||o===s&&i===d||n.draw.sDraw.clear(),setTimeout(function(){o===s&&i===d||n.setState({width:s,height:d})},t)},n.hideToolbar=function(){n.setState({showToolbar:!1})},n.showToolbar=function(){n.setState({showToolbar:!0})},n.onDrawUpdate=function(){n.draw&&(n.updateCurves(),n.setState({canUndo:n.draw.sDraw.canUndo(),canRedo:n.draw.sDraw.canRedo()}))},n.undo=function(){n.draw&&n.draw.sDraw.undo()},n.redo=function(){n.draw&&n.draw.sDraw.redo()},n.clean=function(){n.draw&&(n.draw.sDraw.clear(),n.updateCurves())},n.setColor=function(e){n.draw&&n.draw.sDraw.setColor(e)},n.setLineWidth=function(e){n.draw&&n.draw.sDraw.setLineWidth(e)},n.updateCurves=function(){(0,n.props.smSaveSignature)(n.draw.sDraw.getCurves(),n.draw.sDraw.getDrawConfig())},n.setDrawReference=function(e){n.draw=e},n.setDrawWrapperReference=function(e){n.drawWrapper=e},n.state={width:0,height:0,canUndo:!1,canRedo:!1,showToolbar:!0},n.orientationEndListener=null,n.signature=null,n}return(0,u.default)(t,e),(0,d.default)(t,null,[{key:"touchmoveHandler",value:function(e){e.preventDefault()}}]),(0,d.default)(t,[{key:"initDrawConfigColor",value:function(){var e=this.props,t=e.drawConfig,n=e.signature,a=n.curves;a&&t.color!==a[0].color&&this.props.smSaveSignature(n,(0,o.default)({},t,{color:a[0].color}))}},{key:"componentDidMount",value:function(){this.initDrawConfigColor(),this.resizeCanvas(!0),document.addEventListener("touchmove",t.touchmoveHandler),"undefined"!=typeof window&&(this.orientationEndListener=new E.default(this.showToolbar),window.addEventListener("resize",this.resizeCanvas),window.addEventListener("orientationchange",this.hideToolbar))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("touchmove",t.touchmoveHandler),"undefined"!=typeof window&&(window.removeEventListener("resize",this.resizeCanvas),window.removeEventListener("orientationchange",this.hideToolbar)),this.orientationEndListener&&this.orientationEndListener.removeEventListener()}},{key:"renderCanvas",value:function(){var e=this.props,t=e.drawConfig,n=e.signature,a=e.locale,o=e.signatureMode,r=this.state,i=r.width,l=r.height,s=r.showToolbar;if(i&&l){var d=[h.default.createElement(m.SignatureDrawComponent,{key:"SignatureDrawComponent",width:i,height:l,ref:this.setDrawReference,updateDrawElement:this.onDrawUpdate,drawConfig:t,curves:n.curves,canDraw:!0})];return s&&d.push(h.default.createElement(T.SignatureManagerDrawNavMobile,{key:"SignatureManagerDrawNavMobile",setColor:this.setColor,setLineWidth:this.setLineWidth,clear:this.clean,handleSaveAndUse:this.props.handleSaveAndUse,doneButtonText:a.draw.doneButton,backButtonText:a.backButton,drawConfig:t,curves:n.curves,signatureMode:o,smInitial:this.props.smInitial,smGallery:this.props.smGallery})),d}return null}},{key:"render",value:function(){var e=this.props,t=e.drawConfig,n=e.signature,a=e.locale,o=this.state,r=o.canUndo,i=o.canRedo,l=this.draw?this.draw.sDraw.getCurves():n,s=!(l.curves&&l.curves.length);return h.default.createElement("div",{className:"sign-m-body"},h.default.createElement("div",{className:"sign-m-text sign-m-text--hide-mobile"},a.draw.text),h.default.createElement("div",{className:"sign-m-upload-doc-area-wrap sign-m-upload-doc-area-wrap--draw"},h.default.createElement("div",{className:"sign-m-upload-nav"},h.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--left"},h.default.createElement("div",{className:"sign-m-upload-nav__btn-wrap"},h.default.createElement(S.UploadNavBtn,{disable:!r,classNameIcon:"i-undo",onClick:this.undo}),h.default.createElement(S.UploadNavBtn,{disable:!i,addClass:"sign-m-upload-nav__btn--border-right",classNameIcon:"i-redo",onClick:this.redo}),h.default.createElement(S.UploadNavBtn,{disable:s,classNameIcon:"i-clear",onClick:this.clean},a.draw.cleanButton))),h.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--right sign-m-upload-nav__cell--pr"},h.default.createElement(g.DropDownColor,{addClass:"g-dropdown-wrap--right g-dropdown-wrap--arrow",setColor:this.setColor,color:t.color}),h.default.createElement(v.DropDownLineThickness,{addClass:"g-dropdown-wrap--right g-dropdown-wrap--arrow",setLineWidth:this.setLineWidth}))),h.default.createElement("div",{ref:this.setDrawWrapperReference,className:"sign-m-upload-doc-area sign-m-upload-doc-area--align-top"},this.renderCanvas())))}}]),t}(p.Component))||a).propTypes=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(58)),o=r(n(59));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(t){var n=this;(0,a.default)(this,e),this.changeOrientation=function(){var e=void 0,t=void 0,a=void 0;n.lastEnd&&n.lastEnd(!1),n.lastEnd=n.end,n.interval=setInterval(function(){window.innerWidth===e&&window.innerHeight===t?++a===n.config.noChangeCountToEnd&&n.end(!0):(e=window.innerWidth,t=window.innerHeight,a=0)}),n.timeout=setTimeout(function(){return n.end(!0)},n.config.noEndTimeout)},this.config={noChangeCountToEnd:100,noEndTimeout:1e3},this.callback=t,this.lastEnd=null,this.interval=null,this.timeout=null,"undefined"!=typeof window&&window.addEventListener("orientationchange",this.changeOrientation)}return(0,o.default)(e,[{key:"end",value:function(e){clearInterval(this.interval),clearTimeout(this.timeout),this.interval=null,this.timeout=null,e&&this.callback()}},{key:"removeEventListener",value:function(){"undefined"!=typeof window&&window.removeEventListener("orientationchange",this.changeOrientation)}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UploadNavBtn=void 0;var a=m(n(357)),o=m(n(359)),r=m(n(915)),i=m(n(69)),l=m(n(58)),s=m(n(59)),d=m(n(70)),u=m(n(71)),c=m(n(3)),p=n(1),h=m(p),f=m(n(12));function m(e){return e&&e.__esModule?e:{default:e}}var E={disable:c.default.bool,children:c.default.string,addClass:c.default.string,classNameIcon:c.default.string,onClick:c.default.func},_=t.UploadNavBtn=function(e){function t(){var e,n,a,o;(0,l.default)(this,t);for(var r=arguments.length,s=Array(r),u=0;u<r;u++)s[u]=arguments[u];return n=a=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),a.onClick=function(){var e=a.props,t=e.disable,n=e.onClick;!t&&n&&n()},o=n,(0,d.default)(a,o)}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e,t=this.props,n=t.addClass,i=t.classNameIcon,l=t.disable,s=t.children,d=(0,r.default)(t,["addClass","classNameIcon","disable","children"]),u=(0,f.default)((0,o.default)({i:!0},i,!0)),c=(0,f.default)((e={"sign-m-upload-nav__btn":!0},(0,o.default)(e,n,n),(0,o.default)(e,"disabled",l),e)),p={color:l?"rgba(68, 68, 68, 0.6)":"initial"};return h.default.createElement("div",(0,a.default)({},d,{className:c,onClick:this.onClick}),h.default.createElement("i",{className:u}),h.default.createElement("span",{style:p},s))}}]),t}(p.Component);_.propTypes=E,_.defaultProps={addClass:"",classNameIcon:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerDrawNavMobile=void 0;var a=E(n(69)),o=E(n(58)),r=E(n(59)),i=E(n(70)),l=E(n(71)),s=E(n(3)),d=n(1),u=E(d),c=n(1016),p=n(1017),h=n(904),f=n(910),m=n(914);function E(e){return e&&e.__esModule?e:{default:e}}var _={getColor:s.default.func,setColor:s.default.func,setLineWidth:s.default.func,clear:s.default.func,handleSaveAndUse:s.default.func,smGallery:s.default.func,smInitial:s.default.func,addClass:s.default.string,doneButtonText:s.default.string,backButtonText:s.default.string,drawConfig:s.default.object,curves:s.default.array,signatureMode:s.default.string};(t.SignatureManagerDrawNavMobile=function(e){function t(){var e,n,r,l;(0,o.default)(this,t);for(var s=arguments.length,d=Array(s),u=0;u<s;u++)d[u]=arguments[u];return n=r=(0,i.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(d))),r.handleDoneButtonClick=function(){r.props.handleSaveAndUse(!0)},r.handleBackButtonClick=function(){return r.props.signatureMode.type===h.MODE_TYPES.SM_CURVE_EDIT?r.props.smGallery():r.props.smInitial()},l=n,(0,i.default)(r,l)}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.doneButtonText,n=e.backButtonText,a=e.drawConfig,o=e.curves,r=e.getColor,i=e.setColor,l=e.setLineWidth,s=e.clear,d=!(o&&o.length);return u.default.createElement("div",{className:"sign-m-draw-nav-mobile sign-m-mobile-show"},u.default.createElement("div",{className:"sign-m-draw-nav-mobile__cell sign-m-draw-nav-mobile__cell--top"},u.default.createElement(m.BtnPrimary,{disabled:d,onClick:this.handleDoneButtonClick},t)),u.default.createElement("div",{className:"sign-m-draw-nav-mobile__cell sign-m-draw-nav-mobile__cell--center"},u.default.createElement("div",{className:"sign-m-draw-nav-mobile__btn",onClick:s},u.default.createElement("i",{className:"i i-clear"})),u.default.createElement(c.DropDownColor,{getColor:r,setColor:i,color:a.color}),u.default.createElement(p.DropDownLineThickness,{setLineWidth:l})),u.default.createElement("div",{className:"sign-m-draw-nav-mobile__cell sign-m-draw-nav-mobile__cell--bottom"},u.default.createElement(f.BtnSecondary,{onClick:this.handleBackButtonClick},n)))}}]),t}(d.Component)).propTypes=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterDraw=void 0;var a,o=S(n(69)),r=S(n(58)),i=S(n(59)),l=S(n(70)),s=S(n(71)),d=S(n(3)),u=n(1),c=S(u),p=n(8),h=n(914),f=n(910),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),E=n(907),_=n(904);function S(e){return e&&e.__esModule?e:{default:e}}var g={handleSaveAndUse:d.default.func,smInitial:d.default.func,smGallery:d.default.func,modeSignature:d.default.object,signature:d.default.object,locale:d.default.object};(t.SignatureManagerFooterDraw=(0,p.connect)(function(e){return{locale:(0,E.getSignatureManagerLocale)(e),modeSignature:e.im.modeSignature,signature:e.im.signature}},{smInitial:m.smInitial,smGallery:m.smGallery})(a=function(e){function t(){var e,n,a,i;(0,r.default)(this,t);for(var s=arguments.length,d=Array(s),u=0;u<s;u++)d[u]=arguments[u];return n=a=(0,l.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),a.handleSaveButtonClick=function(){a.props.handleSaveAndUse(!1)},a.handleSaveAndUseButtonClick=function(){a.props.handleSaveAndUse(!0)},i=n,(0,l.default)(a,i)}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.modeSignature,n=e.signature,a=e.locale,o=!(n.curves&&n.curves.length);return c.default.createElement("div",{className:"sign-m-footer sign-m-mobile-hide"},c.default.createElement("div",{className:"sign-m-footer__left"},c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t.type===_.MODE_TYPES.SM_CURVE_EDIT?this.props.smGallery:this.props.smInitial},a.backButton)),c.default.createElement("div",{className:"sign-m-footer__right"},c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm",onClick:this.handleSaveButtonClick,disabled:o},a.draw.saveButton),c.default.createElement(h.BtnPrimary,{addClass:"g-btn-sm",onClick:this.handleSaveAndUseButtonClick,disabled:o},a.draw.saveAndUseButton)))}}]),t}(u.Component))||a).propTypes=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterCapture=void 0;var a,o=_(n(69)),r=_(n(58)),i=_(n(59)),l=_(n(70)),s=_(n(71)),d=_(n(3)),u=n(1),c=_(u),p=n(8),h=n(914),f=n(910),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),E=n(907);function _(e){return e&&e.__esModule?e:{default:e}}var S={smInitial:d.default.func,takeSnapShot:d.default.func,locale:d.default.object};(t.SignatureManagerFooterCapture=(0,p.connect)(function(e){return{locale:(0,E.getSignatureManagerLocale)(e)}},{smInitial:m.smInitial})(a=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.smInitial,n=e.locale,a=e.takeSnapShot;return c.default.createElement("div",{className:"sign-m-footer"},c.default.createElement("div",{className:"sign-m-footer__left"},c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t},n.backButton)),c.default.createElement("div",{className:"sign-m-footer__right"},c.default.createElement(h.BtnPrimary,{addClass:"g-btn-sm",onClick:a},n.capture.button)))}}]),t}(u.Component))||a).propTypes=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterInitial=void 0;var a,o,r,i=g(n(69)),l=g(n(58)),s=g(n(59)),d=g(n(70)),u=g(n(71)),c=g(n(3)),p=n(1),h=g(p),f=n(8),m=g(n(12)),E=n(910),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),S=n(907);function g(e){return e&&e.__esModule?e:{default:e}}var v={smGallery:c.default.func,backButtonText:c.default.string.isRequired,poweredByText:c.default.string.isRequired,signatures:c.default.array};(t.SignatureManagerFooterInitial=(0,f.connect)(function(e){var t=(0,S.getSignatureManagerLocale)(e);return{backButtonText:t.backButton,poweredByText:t.poweredBy,signatures:e.ws.signatures}},{smGallery:_.smGallery})((r=o=function(e){function t(){return(0,l.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.smGallery,n=e.backButtonText,a=e.poweredByText,o=e.signatures,r=this.context.useSignNowTheme;return o.length>0?h.default.createElement("div",{className:(0,m.default)("sign-m-footer",{bordered:r})},h.default.createElement("div",{className:"sign-m-footer__left"},h.default.createElement(E.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t},n)),r&&h.default.createElement("div",{className:"sign-m-footer__right"},h.default.createElement("div",{className:"sign-m-footer__logo"},h.default.createElement("div",{className:"sign-m-footer__text"},a),h.default.createElement("div",{className:"sign-m-svg-icon-logo-signnow"})))):null}}]),t}(p.Component),o.contextTypes={useSignNowTheme:c.default.bool},a=r))||a).propTypes=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=g(n(69)),r=g(n(58)),i=g(n(59)),l=g(n(70)),s=g(n(71)),d=g(n(3)),u=n(1),c=g(u),p=n(8),h=g(n(913)),f=n(914),m=n(910),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(903)),_=n(921),S=n(907);function g(e){return e&&e.__esModule?e:{default:e}}var v={onClick:d.default.func.isRequired,smUploader:d.default.func,smCapture:d.default.func,resetEditor:d.default.func,backButtonText:d.default.string,mainButtonText:d.default.string,uploaderType:d.default.string},T=(0,p.connect)(function(e){return{backButtonText:(0,S.getSignatureManagerLocale)(e).backButton,mainButtonText:(0,S.getSignatureManagerLocale)(e).editorPreview.doneButton,uploaderType:e.im.modeSignature.uploaderType}},{smUploader:E.smUploader,smCapture:E.smCapture,resetEditor:h.default.resetEditor})(a=function(e){function t(){var e,n,a,i;(0,r.default)(this,t);for(var s=arguments.length,d=Array(s),u=0;u<s;u++)d[u]=arguments[u];return n=a=(0,l.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),a.handleBackButtonClick=function(){var e=a.props,t=e.smUploader,n=e.smCapture,o=e.resetEditor;e.uploaderType===_.MODE_TYPES.SM_UPLOADER?t():n(),o()},i=n,(0,l.default)(a,i)}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.mainButtonText,n=e.backButtonText,a=e.onClick;return c.default.createElement("div",{className:"sign-m-footer"},c.default.createElement("div",{className:"sign-m-footer__left"},c.default.createElement(m.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:this.handleBackButtonClick},n)),c.default.createElement("div",{className:"sign-m-footer__right"},c.default.createElement(f.BtnPrimary,{addClass:"g-btn-sm",onClick:a},t)))}}]),t}(u.Component))||a;t.default=T,T.propTypes=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(358)),o=n(144),r=n(984),i=n(985),l=f(n(365)),s=f(n(991)),d=f(n(990)),u=f(n(461)),c=f(n(462)),p=n(943),h=n(945);function f(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=[h.imageSignature,h.editorManager,i.maskMiddleware,l.default,s.default].concat((0,a.default)(e));return(0,o.compose)(o.applyMiddleware.apply(void 0,(0,a.default)(t)))(o.createStore)((0,o.combineReducers)({deviceProps:p.deviceProps,signatureEditor:d.default,modal:u.default,im:p.im,ws:p.ws,ab:r.ab,locale:c.default}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(1138),i=n.n(r),l=n(1141),s=n.n(l),d="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input");function u(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}function c(e,t){return"application/x-moz-file"===e.type||s()(e,t)}function p(e){e.preventDefault()}var h={borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},f={opacity:.5},m={borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},E={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},S=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function g(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var v=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.renderChildren=function(e,t,n,o){return"function"==typeof e?e(_({},a.state,{isDragActive:t,isDragAccept:n,isDragReject:o})):e},a.composeHandlers=a.composeHandlers.bind(a),a.onClick=a.onClick.bind(a),a.onDocumentDrop=a.onDocumentDrop.bind(a),a.onDragEnter=a.onDragEnter.bind(a),a.onDragLeave=a.onDragLeave.bind(a),a.onDragOver=a.onDragOver.bind(a),a.onDragStart=a.onDragStart.bind(a),a.onDrop=a.onDrop.bind(a),a.onFileDialogCancel=a.onFileDialogCancel.bind(a),a.onInputElementClick=a.onInputElementClick.bind(a),a.setRef=a.setRef.bind(a),a.setRefs=a.setRefs.bind(a),a.isFileDialogActive=!1,a.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),S(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",p,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",p),document.removeEventListener("drop",this.onDocumentDrop)),null!=this.fileInputEl&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(e){return this.props.disabled?null:e}},{key:"onDocumentDrop",value:function(e){this.node&&this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),this.setState({isDragActive:!0,draggedFiles:u(e)}),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(e){}return this.props.onDragOver&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),this.dragTargets=this.dragTargets.filter(function(n){return n!==e.target&&t.node.contains(n)}),this.dragTargets.length>0||(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,a=n.onDrop,o=n.onDropAccepted,r=n.onDropRejected,i=n.multiple,l=n.disablePreview,s=n.accept,d=u(e),p=[],h=[];e.preventDefault(),this.dragTargets=[],this.isFileDialogActive=!1,d.forEach(function(e){if(!l)try{e.preview=window.URL.createObjectURL(e)}catch(e){0}c(e,s)&&function(e,t,n){return e.size<=t&&e.size>=n}(e,t.props.maxSize,t.props.minSize)?p.push(e):h.push(e)}),i||h.push.apply(h,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(p.splice(1))),a&&a.call(this,p,h,e),h.length>0&&r&&r.call(this,h,e),p.length>0&&o&&o.call(this,p,e),this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[],acceptedFiles:p,rejectedFiles:h})}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick;t.disableClick||(e.stopPropagation(),n&&n.call(this,e),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?this.open():setTimeout(this.open.bind(this),0))}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick()}},{key:"onFileDialogCancel",value:function(){var e=this,t=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout(function(){null!=e.fileInputEl&&(e.fileInputEl.files.length||(e.isFileDialogActive=!1));"function"==typeof t&&t()},300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.acceptClassName,a=e.activeClassName,r=e.children,i=e.disabled,l=e.disabledClassName,s=e.inputProps,u=e.multiple,p=e.name,S=e.rejectClassName,v=g(e,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),T=v.acceptStyle,O=v.activeStyle,C=v.className,y=void 0===C?"":C,D=v.disabledStyle,M=v.rejectStyle,A=v.style,b=g(v,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),I=this.state,R=I.isDragActive,N=I.draggedFiles,w=N.length,P=u||w<=1,L=w>0&&function(e,t){return e.every(function(e){return c(e,t)})}(N,this.props.accept),k=w>0&&(!L||!P),B=!(y||A||O||T||M||D);R&&a&&(y+=" "+a),L&&n&&(y+=" "+n),k&&S&&(y+=" "+S),i&&l&&(y+=" "+l),B&&(O=m,T=(A=E).active,M=h,D=f);var x=_({},A);O&&R&&(x=_({},A,O)),T&&L&&(x=_({},x,T)),M&&k&&(x=_({},x,M)),D&&i&&(x=_({},A,D));var F={accept:t,disabled:i,type:"file",style:{display:"none"},multiple:d&&u,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};p&&p.length&&(F.name=p);b.acceptedFiles,b.preventDropOnDocument,b.disablePreview,b.disableClick,b.onDropAccepted,b.onDropRejected,b.onFileDialogCancel,b.maxSize,b.minSize;var Y=g(b,["acceptedFiles","preventDropOnDocument","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize"]);return o.a.createElement("div",_({className:y,style:x},Y,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":i}),this.renderChildren(r,R,L,k),o.a.createElement("input",_({},s,F)))}}]),t}();t.default=v;v.propTypes={accept:i.a.oneOfType([i.a.string,i.a.arrayOf(i.a.string)]),children:i.a.oneOfType([i.a.node,i.a.func]),disableClick:i.a.bool,disabled:i.a.bool,disablePreview:i.a.bool,preventDropOnDocument:i.a.bool,inputProps:i.a.object,multiple:i.a.bool,name:i.a.string,maxSize:i.a.number,minSize:i.a.number,className:i.a.string,activeClassName:i.a.string,acceptClassName:i.a.string,rejectClassName:i.a.string,disabledClassName:i.a.string,style:i.a.object,activeStyle:i.a.object,acceptStyle:i.a.object,rejectStyle:i.a.object,disabledStyle:i.a.object,onClick:i.a.func,onDrop:i.a.func,onDropAccepted:i.a.func,onDropRejected:i.a.func,onDragStart:i.a.func,onDragEnter:i.a.func,onDragOver:i.a.func,onDragLeave:i.a.func,onFileDialogCancel:i.a.func},v.defaultProps={preventDropOnDocument:!0,disabled:!1,disablePreview:!1,disableClick:!1,multiple:!0,maxSize:1/0,minSize:0}}])]);
//# sourceMappingURL=vendors~managers.7c9df09b.chunk.js.map